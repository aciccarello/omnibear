import{B as O,M as we,L as Z,N as D,R as ee,a as z,b as I,c as re,S as se,o as Q,d as Ge,e as qe,g as _e,f as Ke}from"./assets/utils.83bc4df5.js";import"./assets/browser.b81c6ce4.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))c(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&c(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerpolicy&&(i.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?i.credentials="include":r.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function c(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();var te,u,Le,P,he,xe,Y={},Se=[],Qe=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function x(e,t){for(var n in t)e[n]=t[n];return e}function Me(e){var t=e.parentNode;t&&t.removeChild(e)}function Ye(e,t,n){var c,r,i,s={};for(i in t)i=="key"?c=t[i]:i=="ref"?r=t[i]:s[i]=t[i];if(arguments.length>2&&(s.children=arguments.length>3?te.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(i in e.defaultProps)s[i]===void 0&&(s[i]=e.defaultProps[i]);return G(e,s,c,r,null)}function G(e,t,n,c,r){var i={type:e,props:t,key:n,ref:c,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:r==null?++Le:r};return r==null&&u.vnode!=null&&u.vnode(i),i}function R(e){return e.children}function C(e,t){this.props=e,this.context=t}function $(e,t){if(t==null)return e.__?$(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?$(e):null}function Te(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return Te(e)}}function ie(e){(!e.__d&&(e.__d=!0)&&P.push(e)&&!J.__r++||he!==u.debounceRendering)&&((he=u.debounceRendering)||setTimeout)(J)}function J(){for(var e;J.__r=P.length;)e=P.sort(function(t,n){return t.__v.__b-n.__v.__b}),P=[],e.some(function(t){var n,c,r,i,s,a;t.__d&&(s=(i=(n=t).__v).__e,(a=n.__P)&&(c=[],(r=x({},i)).__v=i.__v+1,ae(a,i,r,n.__n,a.ownerSVGElement!==void 0,i.__h!=null?[s]:null,c,s==null?$(i):s,i.__h),Pe(c,i),i.__e!=s&&Te(i)))})}function Ee(e,t,n,c,r,i,s,a,_,f){var o,m,h,d,p,T,g,b=c&&c.__k||Se,N=b.length;for(n.__k=[],o=0;o<t.length;o++)if((d=n.__k[o]=(d=t[o])==null||typeof d=="boolean"?null:typeof d=="string"||typeof d=="number"||typeof d=="bigint"?G(null,d,null,null,d):Array.isArray(d)?G(R,{children:d},null,null,null):d.__b>0?G(d.type,d.props,d.key,d.ref?d.ref:null,d.__v):d)!=null){if(d.__=n,d.__b=n.__b+1,(h=b[o])===null||h&&d.key==h.key&&d.type===h.type)b[o]=void 0;else for(m=0;m<N;m++){if((h=b[m])&&d.key==h.key&&d.type===h.type){b[m]=void 0;break}h=null}ae(e,d,h=h||Y,r,i,s,a,_,f),p=d.__e,(m=d.ref)&&h.ref!=m&&(g||(g=[]),h.ref&&g.push(h.ref,null,d),g.push(m,d.__c||p,d)),p!=null?(T==null&&(T=p),typeof d.type=="function"&&d.__k===h.__k?d.__d=_=Ae(d,_,e):_=He(e,d,h,b,p,_),typeof n.type=="function"&&(n.__d=_)):_&&h.__e==_&&_.parentNode!=e&&(_=$(h))}for(n.__e=T,o=N;o--;)b[o]!=null&&Fe(b[o],b[o]);if(g)for(o=0;o<g.length;o++)$e(g[o],g[++o],g[++o])}function Ae(e,t,n){for(var c,r=e.__k,i=0;r&&i<r.length;i++)(c=r[i])&&(c.__=e,t=typeof c.type=="function"?Ae(c,t,n):He(n,c,c,r,c.__e,t));return t}function He(e,t,n,c,r,i){var s,a,_;if(t.__d!==void 0)s=t.__d,t.__d=void 0;else if(n==null||r!=i||r.parentNode==null)e:if(i==null||i.parentNode!==e)e.appendChild(r),s=null;else{for(a=i,_=0;(a=a.nextSibling)&&_<c.length;_+=1)if(a==r)break e;e.insertBefore(r,i),s=i}return s!==void 0?s:r.nextSibling}function Je(e,t,n,c,r){var i;for(i in n)i==="children"||i==="key"||i in t||X(e,i,null,n[i],c);for(i in t)r&&typeof t[i]!="function"||i==="children"||i==="key"||i==="value"||i==="checked"||n[i]===t[i]||X(e,i,t[i],n[i],c)}function pe(e,t,n){t[0]==="-"?e.setProperty(t,n):e[t]=n==null?"":typeof n!="number"||Qe.test(t)?n:n+"px"}function X(e,t,n,c,r){var i;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof c=="string"&&(e.style.cssText=c=""),c)for(t in c)n&&t in n||pe(e.style,t,"");if(n)for(t in n)c&&n[t]===c[t]||pe(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")i=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=n,n?c||e.addEventListener(t,i?me:fe,i):e.removeEventListener(t,i?me:fe,i);else if(t!=="dangerouslySetInnerHTML"){if(r)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t in e)try{e[t]=n==null?"":n;break e}catch{}typeof n=="function"||(n==null||n===!1&&t.indexOf("-")==-1?e.removeAttribute(t):e.setAttribute(t,n))}}function fe(e){this.l[e.type+!1](u.event?u.event(e):e)}function me(e){this.l[e.type+!0](u.event?u.event(e):e)}function ae(e,t,n,c,r,i,s,a,_){var f,o,m,h,d,p,T,g,b,N,V,H,ue,U,j,k=t.type;if(t.constructor!==void 0)return null;n.__h!=null&&(_=n.__h,a=t.__e=n.__e,t.__h=null,i=[a]),(f=u.__b)&&f(t);try{e:if(typeof k=="function"){if(g=t.props,b=(f=k.contextType)&&c[f.__c],N=f?b?b.props.value:f.__:c,n.__c?T=(o=t.__c=n.__c).__=o.__E:("prototype"in k&&k.prototype.render?t.__c=o=new k(g,N):(t.__c=o=new C(g,N),o.constructor=k,o.render=Ze),b&&b.sub(o),o.props=g,o.state||(o.state={}),o.context=N,o.__n=c,m=o.__d=!0,o.__h=[],o._sb=[]),o.__s==null&&(o.__s=o.state),k.getDerivedStateFromProps!=null&&(o.__s==o.state&&(o.__s=x({},o.__s)),x(o.__s,k.getDerivedStateFromProps(g,o.__s))),h=o.props,d=o.state,m)k.getDerivedStateFromProps==null&&o.componentWillMount!=null&&o.componentWillMount(),o.componentDidMount!=null&&o.__h.push(o.componentDidMount);else{if(k.getDerivedStateFromProps==null&&g!==h&&o.componentWillReceiveProps!=null&&o.componentWillReceiveProps(g,N),!o.__e&&o.shouldComponentUpdate!=null&&o.shouldComponentUpdate(g,o.__s,N)===!1||t.__v===n.__v){for(o.props=g,o.state=o.__s,t.__v!==n.__v&&(o.__d=!1),o.__v=t,t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(W){W&&(W.__=t)}),V=0;V<o._sb.length;V++)o.__h.push(o._sb[V]);o._sb=[],o.__h.length&&s.push(o);break e}o.componentWillUpdate!=null&&o.componentWillUpdate(g,o.__s,N),o.componentDidUpdate!=null&&o.__h.push(function(){o.componentDidUpdate(h,d,p)})}if(o.context=N,o.props=g,o.__v=t,o.__P=e,H=u.__r,ue=0,"prototype"in k&&k.prototype.render){for(o.state=o.__s,o.__d=!1,H&&H(t),f=o.render(o.props,o.state,o.context),U=0;U<o._sb.length;U++)o.__h.push(o._sb[U]);o._sb=[]}else do o.__d=!1,H&&H(t),f=o.render(o.props,o.state,o.context),o.state=o.__s;while(o.__d&&++ue<25);o.state=o.__s,o.getChildContext!=null&&(c=x(x({},c),o.getChildContext())),m||o.getSnapshotBeforeUpdate==null||(p=o.getSnapshotBeforeUpdate(h,d)),j=f!=null&&f.type===R&&f.key==null?f.props.children:f,Ee(e,Array.isArray(j)?j:[j],t,n,c,r,i,s,a,_),o.base=t.__e,t.__h=null,o.__h.length&&s.push(o),T&&(o.__E=o.__=null),o.__e=!1}else i==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=Xe(n.__e,t,n,c,r,i,s,_);(f=u.diffed)&&f(t)}catch(W){t.__v=null,(_||i!=null)&&(t.__e=a,t.__h=!!_,i[i.indexOf(a)]=null),u.__e(W,t,n)}}function Pe(e,t){u.__c&&u.__c(t,e),e.some(function(n){try{e=n.__h,n.__h=[],e.some(function(c){c.call(n)})}catch(c){u.__e(c,n.__v)}})}function Xe(e,t,n,c,r,i,s,a){var _,f,o,m=n.props,h=t.props,d=t.type,p=0;if(d==="svg"&&(r=!0),i!=null){for(;p<i.length;p++)if((_=i[p])&&"setAttribute"in _==!!d&&(d?_.localName===d:_.nodeType===3)){e=_,i[p]=null;break}}if(e==null){if(d===null)return document.createTextNode(h);e=r?document.createElementNS("http://www.w3.org/2000/svg",d):document.createElement(d,h.is&&h),i=null,a=!1}if(d===null)m===h||a&&e.data===h||(e.data=h);else{if(i=i&&te.call(e.childNodes),f=(m=n.props||Y).dangerouslySetInnerHTML,o=h.dangerouslySetInnerHTML,!a){if(i!=null)for(m={},p=0;p<e.attributes.length;p++)m[e.attributes[p].name]=e.attributes[p].value;(o||f)&&(o&&(f&&o.__html==f.__html||o.__html===e.innerHTML)||(e.innerHTML=o&&o.__html||""))}if(Je(e,h,m,r,a),o)t.__k=[];else if(p=t.props.children,Ee(e,Array.isArray(p)?p:[p],t,n,c,r&&d!=="foreignObject",i,s,i?i[0]:n.__k&&$(n,0),a),i!=null)for(p=i.length;p--;)i[p]!=null&&Me(i[p]);a||("value"in h&&(p=h.value)!==void 0&&(p!==e.value||d==="progress"&&!p||d==="option"&&p!==m.value)&&X(e,"value",p,m.value,!1),"checked"in h&&(p=h.checked)!==void 0&&p!==e.checked&&X(e,"checked",p,m.checked,!1))}return e}function $e(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(c){u.__e(c,n)}}function Fe(e,t,n){var c,r;if(u.unmount&&u.unmount(e),(c=e.ref)&&(c.current&&c.current!==e.__e||$e(c,null,t)),(c=e.__c)!=null){if(c.componentWillUnmount)try{c.componentWillUnmount()}catch(i){u.__e(i,t)}c.base=c.__P=null,e.__c=void 0}if(c=e.__k)for(r=0;r<c.length;r++)c[r]&&Fe(c[r],t,n||typeof e.type!="function");n||e.__e==null||Me(e.__e),e.__=e.__e=e.__d=void 0}function Ze(e,t,n){return this.constructor(e,n)}function et(e,t,n){var c,r,i;u.__&&u.__(e,t),r=(c=typeof n=="function")?null:n&&n.__k||t.__k,i=[],ae(t,e=(!c&&n||t).__k=Ye(R,null,[e]),r||Y,Y,t.ownerSVGElement!==void 0,!c&&n?[n]:r?null:t.firstChild?te.call(t.childNodes):null,i,!c&&n?n:r?r.__e:t.firstChild,c),Pe(i,e)}function ne(e,t){var n={__c:t="__cC"+xe++,__:e,Consumer:function(c,r){return c.children(r)},Provider:function(c){var r,i;return this.getChildContext||(r=[],(i={})[t]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(s){this.props.value!==s.value&&r.some(ie)},this.sub=function(s){r.push(s);var a=s.componentWillUnmount;s.componentWillUnmount=function(){r.splice(r.indexOf(s),1),a&&a.call(s)}}),c.children}};return n.Provider.__=n.Consumer.contextType=n}te=Se.slice,u={__e:function(e,t,n,c){for(var r,i,s;t=t.__;)if((r=t.__c)&&!r.__)try{if((i=r.constructor)&&i.getDerivedStateFromError!=null&&(r.setState(i.getDerivedStateFromError(e)),s=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(e,c||{}),s=r.__d),s)return r.__E=r}catch(a){e=a}throw e}},Le=0,C.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=x({},this.state),typeof e=="function"&&(e=e(x({},n),this.props)),e&&x(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),ie(this))},C.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),ie(this))},C.prototype.render=R,P=[],J.__r=0,xe=0;var B,v,ce,ge,F=0,Oe=[],q=[],ve=u.__b,ye=u.__r,be=u.diffed,Ce=u.__c,ke=u.unmount;function le(e,t){u.__h&&u.__h(v,e,F||t),F=0;var n=v.__H||(v.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:q}),n.__[e]}function w(e){return F=1,tt(Re,e)}function tt(e,t,n){var c=le(B++,2);if(c.t=e,!c.__c&&(c.__=[n?n(t):Re(void 0,t),function(i){var s=c.__N?c.__N[0]:c.__[0],a=c.t(s,i);s!==a&&(c.__N=[a,c.__[1]],c.__c.setState({}))}],c.__c=v,!v.u)){v.u=!0;var r=v.shouldComponentUpdate;v.shouldComponentUpdate=function(i,s,a){if(!c.__c.__H)return!0;var _=c.__c.__H.__.filter(function(o){return o.__c});if(_.every(function(o){return!o.__N}))return!r||r.call(this,i,s,a);var f=!1;return _.forEach(function(o){if(o.__N){var m=o.__[0];o.__=o.__N,o.__N=void 0,m!==o.__[0]&&(f=!0)}}),!(!f&&c.__c.props===i)&&(!r||r.call(this,i,s,a))}}return c.__N||c.__}function de(e,t){var n=le(B++,3);!u.__s&&Ie(n.__H,t)&&(n.__=e,n.i=t,v.__H.__h.push(n))}function De(e){return F=5,ze(function(){return{current:e}},[])}function ze(e,t){var n=le(B++,7);return Ie(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__}function nt(e,t){return F=8,ze(function(){return e},t)}function y(e){var t=v.context[e.__c],n=le(B++,9);return n.c=e,t?(n.__==null&&(n.__=!0,t.sub(v)),t.props.value):e.__}function lt(){for(var e;e=Oe.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(K),e.__H.__h.forEach(oe),e.__H.__h=[]}catch(t){e.__H.__h=[],u.__e(t,e.__v)}}u.__b=function(e){v=null,ve&&ve(e)},u.__r=function(e){ye&&ye(e),B=0;var t=(v=e.__c).__H;t&&(ce===v?(t.__h=[],v.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=q,n.__N=n.i=void 0})):(t.__h.forEach(K),t.__h.forEach(oe),t.__h=[])),ce=v},u.diffed=function(e){be&&be(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(Oe.push(t)!==1&&ge===u.requestAnimationFrame||((ge=u.requestAnimationFrame)||ct)(lt)),t.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==q&&(n.__=n.__V),n.i=void 0,n.__V=q})),ce=v=null},u.__c=function(e,t){t.some(function(n){try{n.__h.forEach(K),n.__h=n.__h.filter(function(c){return!c.__||oe(c)})}catch(c){t.some(function(r){r.__h&&(r.__h=[])}),t=[],u.__e(c,n.__v)}}),Ce&&Ce(e,t)},u.unmount=function(e){ke&&ke(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(c){try{K(c)}catch(r){t=r}}),n.__H=void 0,t&&u.__e(t,n.__v))};var Ne=typeof requestAnimationFrame=="function";function ct(e){var t,n=function(){clearTimeout(c),Ne&&cancelAnimationFrame(t),setTimeout(e)},c=setTimeout(n,100);Ne&&(t=requestAnimationFrame(n))}function K(e){var t=v,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),v=t}function oe(e){var t=v;e.__c=e.__(),v=t}function Ie(e,t){return!e||e.length!==t.length||t.some(function(n,c){return n!==e[c]})}function Re(e,t){return typeof t=="function"?t(e):t}var it=0;function l(e,t,n,c,r){var i,s,a={};for(s in t)s=="ref"?i=t[s]:a[s]=t[s];var _={type:e,props:a,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--it,__source:r,__self:c};if(typeof e=="function"&&(i=e.defaultProps))for(s in i)a[s]===void 0&&(a[s]=i[s]);return u.vnode&&u.vnode(_),_}console.log("init context");const A=ne({});function ot({children:e}){const[t,n]=w({domain:"",token:"",micropubEndpoint:"",isLoading:!1,hasErrors:!1,errorMessage:"",authorizationPageOpened:!1});console.log("render AuthProvider");const c={isLoggedIn:()=>t.token&&t.micropubEndpoint};return l(A.Provider,{value:c,children:e})}const L=ne({});function rt({children:e}){const t=()=>Z,[n,c]=w({viewType:t(),currentPageUrl:null,currentItemUrl:null,selectedEntry:null,isSending:!1,flashMessage:""}),r=s=>{c(a=>({...a,viewType:s,flashMessage:s!==we?null:a.flashMessage}))},i={includeTitle:n.viewType===O,viewType:n.viewType,isSending:n.isSending,flashMessage:n.flashMessage,setViewType:r,send:()=>{},sendLike:()=>{},sendRepost:()=>{},addQuickReply:()=>{}};return l(L.Provider,{value:i,children:e})}const M=ne({});function st({children:e}){const t={getSyndicateOptions:()=>[]};return l(M.Provider,{value:t,children:e})}class at extends C{render(){return l("svg",{className:"svg-login",viewBox:"0 0 512 512",children:[l("desc",{children:"Login"}),l("g",{children:[l("path",{d:"M131.5,472H60.693c-8.538,0-13.689-4.765-15.999-7.606c-3.988-4.906-5.533-11.29-4.236-17.519 c20.769-99.761,108.809-172.616,210.445-174.98c1.693,0.063,3.39,0.105,5.097,0.105c1.722,0,3.434-0.043,5.142-0.107 c24.853,0.567,49.129,5.24,72.236,13.917c10.34,3.885,21.871-1.352,25.754-11.693c3.883-10.34-1.352-21.871-11.693-25.754 c-3.311-1.244-6.645-2.408-9.995-3.512C370.545,220.021,392,180.469,392,136C392,61.01,330.991,0,256,0 c-74.991,0-136,61.01-136,136c0,44.509,21.492,84.092,54.643,108.918c-30.371,9.998-58.871,25.546-83.813,46.062 c-45.732,37.617-77.529,90.086-89.532,147.743c-3.762,18.066,0.744,36.622,12.363,50.908C25.221,503.847,42.364,512,60.693,512 H131.5c11.046,0,20-8.954,20-20C151.5,480.954,142.546,472,131.5,472z M160,136c0-52.935,43.065-96,96-96s96,43.065,96,96 c0,51.367-40.554,93.438-91.326,95.885c-1.557-0.028-3.114-0.052-4.674-0.052c-1.564,0-3.127,0.023-4.689,0.051 C200.546,229.43,160,187.362,160,136z",fill:"currentColor"}),l("path",{d:"M496.689,344.607c-8.561-19.15-27.845-31.558-49.176-31.607h-62.372c-0.045,0-0.087,0-0.133,0 c-22.5,0-42.13,13.26-50.029,33.807c-1.051,2.734-2.336,6.178-3.677,10.193H200.356c-5.407,0-10.583,2.189-14.35,6.068 l-34.356,35.388c-7.567,7.794-7.529,20.203,0.085,27.95l35,35.612c3.76,3.826,8.9,5.981,14.264,5.981h65c11.046,0,20-8.954,20-20 c0-11.046-8.954-20-20-20h-56.614l-15.428-15.698L208.814,397h137.491c9.214,0,17.235-6.295,19.426-15.244 c1.618-6.607,3.648-12.959,6.584-20.596c1.936-5.036,6.798-8.16,12.741-8.16c0.013,0,0.026,0,0.039,0h62.371 c5.656,0.013,10.524,3.053,12.705,7.932c5.369,12.012,11.78,30.608,11.828,50.986c0.048,20.529-6.356,39.551-11.739,51.894 c-2.17,4.978-7.079,8.188-12.56,8.188c-0.011,0-0.022,0-0.033,0h-63.125c-5.533-0.013-10.716-3.573-12.896-8.858 c-2.339-5.671-4.366-12.146-6.197-19.797c-2.571-10.742-13.367-17.366-24.105-14.796c-10.743,2.571-17.367,13.364-14.796,24.106 c2.321,9.699,4.978,18.118,8.121,25.738c8.399,20.364,27.939,33.555,49.827,33.606h63.125c0.043,0,0.083,0,0.126,0 c21.351-0.001,40.647-12.63,49.18-32.201c6.912-15.851,15.137-40.511,15.072-67.975 C511.935,384.434,503.638,360.153,496.689,344.607z",fill:"currentColor"}),l("circle",{cx:"431",cy:"412",r:"20",fill:"currentColor"})]})]})}}class dt extends C{render(){return l("svg",{className:"svg-pen",viewBox:"0 0 512 512",children:[l("desc",{children:"Pen"}),l("path",{d:"M493.89,45.897l-28.461-28.397c-23.419-23.367-61.485-23.325-84.843,0.083l-61.68,61.713l-143.454,34.759 c-41.205,9.984-74.403,41.403-86.639,81.995L1.338,486.225c-2.127,7.057-0.201,14.712,5.013,19.921 c3.806,3.803,8.913,5.853,14.139,5.853c1.932,0,3.881-0.28,5.786-0.856l289.14-87.414c40.62-12.281,72.021-45.54,81.947-86.797 l13.259-55.105c2.584-10.74-4.027-21.541-14.767-24.125c-10.742-2.58-21.541,4.028-24.125,14.768l-13.258,55.105 c-6.618,27.505-27.551,49.677-54.632,57.865L91.032,449.775l86.917-86.947c6.939-1.586,19.181-4.522,32.385-8.333 c38.753-11.188,50.758-19.657,56.886-25.786c23.005-23.005,23.005-60.438,0-83.442c-23.005-23.004-60.438-23.005-83.442,0 c-6.128,6.128-14.599,18.133-25.786,56.886c-3.814,13.214-6.752,25.463-8.337,32.4l-87.07,87.1l64.528-214.058 c8.157-27.061,30.29-48.007,57.759-54.664l138.665-33.599l76.833,76.796c3.75,3.749,8.836,5.854,14.14,5.854h0.005 c5.305-0.001,10.392-2.11,14.142-5.862l65.329-65.364c11.322-11.346,17.547-26.42,17.529-42.449 C511.495,72.279,505.237,57.217,493.89,45.897z M212.079,273.535c7.41-7.392,19.453-7.387,26.855,0.016 c7.408,7.408,7.408,19.463,0.025,26.847c-4.352,4.086-22.133,10.748-43.701,16.83 C201.335,295.674,207.992,277.905,212.079,273.535z M465.679,102.49L414.5,153.695l-56.729-56.703l51.118-51.146 c7.79-7.806,20.479-7.82,28.285-0.031l28.461,28.397c3.782,3.773,5.868,8.794,5.874,14.137 C471.516,93.692,469.442,98.719,465.679,102.49z",fill:"currentColor"})]})}}class ut extends C{render(){return l("svg",{className:"svg-reply",viewBox:"0 0 512 512",children:[l("desc",{children:"Reply"}),l("g",{children:[l("path",{d:"M171.154,312.882L45.846,187.142c-7.799-7.798-7.799-20.486-0.032-28.252L171.098,34.174 c7.828-7.793,7.856-20.456,0.063-28.284c-7.792-7.829-20.455-7.856-28.284-0.064L17.56,130.574 c-23.393,23.394-23.393,61.458-0.023,84.828l125.284,125.716c3.907,3.921,9.036,5.882,14.166,5.882 c5.107,0,10.215-1.944,14.119-5.834C178.929,333.369,178.952,320.706,171.154,312.882z",fill:"currentColor"}),l("path",{d:"M332.487,153h-213.5c-11.046,0-20,8.954-20,20s8.954,20,20,20h213.5c76.921,0,139.5,62.58,139.5,139.5 S409.408,472,332.487,472c-11.046,0-20,8.954-20,20c0,11.046,8.954,20,20,20c98.977,0,179.5-80.523,179.5-179.5 S431.464,153,332.487,153z",fill:"currentColor"})]})]})}}class _t extends C{render(){return l("svg",{className:"svg-bookmark",viewBox:"0 0 512 512",children:[l("desc",{children:"bookmark"}),l("path",{d:"M429.998,431.996c-11.046,0-20,8.954-20,20c0,5.576-1.889,10.268-5.615,13.947c-3.91,3.861-9.583,6.098-15.132,6.054 c-5.475-0.07-9.919-1.935-13.587-5.705L270.333,358.048c-3.765-3.869-8.935-6.052-14.333-6.052s-10.568,2.183-14.333,6.052 L136.335,466.292c-3.641,3.742-8.118,5.608-13.686,5.706c-5.61,0.115-11.257-2.12-15.14-5.936 c-3.655-3.591-5.508-8.206-5.508-13.718V79.999c0-22.056,17.944-40,40-40h227.997c22.056,0,40,17.944,40,40v272.997 c0,11.046,8.954,20,20,20c11.046,0,20-8.954,20-20V79.999C449.997,35.888,414.11,0,369.998,0H142.001 C97.889,0,62.002,35.888,62.002,79.999v372.345c0,16.174,6.206,31.179,17.474,42.25C90.77,505.69,106.32,512,122.288,512 c0.355,0,0.711-0.003,1.066-0.009c16.191-0.285,30.592-6.441,41.648-17.804L256,400.673l90.998,93.514 c11.136,11.444,25.572,17.601,41.747,17.806c16.236,0.167,32.215-6.204,43.742-17.588c11.292-11.149,17.51-26.211,17.51-42.409 C449.998,440.95,441.044,431.996,429.998,431.996z",fill:"currentColor"})]})}}class Be extends C{render(){return l("svg",{className:"svg-heart",viewBox:"0 0 512 512",children:[l("desc",{children:"Heart"}),l("path",{d:"M471.67,79.174C446.515,53.701,411.829,39.672,374,39.672c-66.136,0-100.331,34.03-117.371,62.577 c-0.212,0.354-0.422,0.709-0.629,1.063c-0.207-0.354-0.417-0.709-0.629-1.063C238.331,73.702,204.136,39.672,138,39.672 c-37.829,0-72.515,14.029-97.67,39.503C13.946,105.894,0,142.469,0,184.946c0,90.198,80.181,150.001,150.922,202.764 c35.249,26.29,68.543,51.123,89.498,77.158c3.796,4.717,9.525,7.46,15.58,7.46s11.784-2.743,15.581-7.458 c10.778-13.392,25.76-27.631,47.152-44.812c8.611-6.917,9.985-19.506,3.068-28.118c-6.916-8.61-19.505-9.986-28.117-3.069 c-15.092,12.122-27.436,23.085-37.675,33.503c-22.608-23.047-51.223-44.39-81.172-66.727C108.547,306.204,40,255.077,40,184.946 c0-61.984,40.299-105.274,98-105.274c37.519,0,65.223,14.115,82.34,41.952c13.59,22.097,15.704,45.098,15.718,45.24 c0.802,10.419,9.488,18.508,19.937,18.508c10.451,0,19.136-8.001,19.938-18.42c0.021-0.23,2.135-23.231,15.725-45.328 C308.777,93.787,336.481,79.672,374,79.672c57.701,0,98,43.29,98,105.274c0,58.038-47.252,103.036-98.315,143.017 c-8.696,6.809-10.227,19.38-3.417,28.077c6.807,8.696,19.379,10.227,28.077,3.417c24.29-19.019,55.077-44.72,77.723-74.901 C500.246,252.333,512,219.75,512,184.946C512,142.469,498.054,105.894,471.67,79.174z",fill:"currentColor"})]})}}class Ve extends C{render(){return l("svg",{className:"svg-repost",viewBox:"0 0 344 344",children:[l("desc",{children:"Repost"}),l("g",{children:[l("path",{d:"M334.485,37.463c-6.753-1.449-13.396,2.853-14.842,9.603l-9.084,42.391C281.637,40.117,228.551,9.155,170.368,9.155 c-89.603,0-162.5,72.896-162.5,162.5c0,6.903,5.596,12.5,12.5,12.5c6.903,0,12.5-5.597,12.5-12.5 c0-75.818,61.682-137.5,137.5-137.5c49.429,0,94.515,26.403,118.925,68.443l-41.674-8.931c-6.752-1.447-13.396,2.854-14.841,9.604 c-1.446,6.75,2.854,13.396,9.604,14.842l71.536,15.33c1.215,0.261,2.449,0.336,3.666,0.234c2.027-0.171,4.003-0.836,5.743-1.962 c2.784-1.801,4.738-4.634,5.433-7.875l15.331-71.536C345.535,45.555,341.235,38.911,334.485,37.463z",fill:"currentColor"}),l("path",{d:"M321.907,155.271c-6.899,0.228-12.309,6.006-12.081,12.905c1.212,36.708-11.942,71.689-37.042,98.504 c-25.099,26.812-59.137,42.248-95.844,43.46c-1.53,0.05-3.052,0.075-4.576,0.075c-47.896-0.002-92.018-24.877-116.936-65.18 l43.447,11.65c6.668,1.787,13.523-2.168,15.311-8.837c1.788-6.668-2.168-13.522-8.836-15.312l-70.664-18.946 c-3.202-0.857-6.615-0.409-9.485,1.247c-2.872,1.656-4.967,4.387-5.826,7.589L0.43,293.092 c-1.788,6.668,2.168,13.522,8.836,15.311c1.085,0.291,2.173,0.431,3.245,0.431c5.518,0,10.569-3.684,12.066-9.267l10.649-39.717 c29.624,46.647,81.189,75.367,137.132,75.365c1.797,0,3.604-0.029,5.408-0.089c43.381-1.434,83.608-19.674,113.271-51.362 s45.209-73.031,43.776-116.413C334.586,160.453,328.805,155.026,321.907,155.271z",fill:"currentColor"})]})]})}}class ht extends C{render(){return l("svg",{className:"svg-logs",viewBox:"0 0 512 512",children:[l("desc",{children:"Logs"}),l("path",{d:"M272.393,220c0-11.046-8.954-20-20-20h-126c-11.046,0-20,8.954-20,20s8.954,20,20,20h126 C263.439,240,272.393,231.046,272.393,220z",fill:"currentColor"}),l("path",{d:"M126.393,280c-11.046,0-20,8.954-20,20c0,11.046,8.954,20,20,20h71.111c11.046,0,20-8.954,20-20c0-11.046-8.954-20-20-20 H126.393z",fill:"currentColor"}),l("path",{d:"M127.505,472h-21c-22.056,0-40-17.944-40-40V80c0-22.056,17.944-40,40-40h245.889c22.056,0,40,17.944,40,40v134 c0,11.046,8.954,20,20,20c11.046,0,20-8.954,20-20V80c0-44.112-35.888-80-80-80H106.505c-44.112,0-80,35.888-80,80v352 c0,44.112,35.888,80,80,80h21c11.046,0,20-8.954,20-20C147.505,480.954,138.551,472,127.505,472z",fill:"currentColor"}),l("path",{d:"M352.393,140c0-11.046-8.954-20-20-20h-206c-11.046,0-20,8.954-20,20s8.954,20,20,20h206 C343.439,160,352.393,151.046,352.393,140z",fill:"currentColor"}),l("path",{d:"M330.51,472h-0.01c-11.046,0-19.995,8.954-19.995,20c0,11.046,8.959,20,20.005,20s20-8.954,20-20 C350.51,480.954,341.556,472,330.51,472z",fill:"currentColor"}),l("path",{d:"M481.566,435.655l-0.607-1.522l-29.368-48.627l-72.897-118.028C368.453,250.898,350.709,241,331.228,241 c-19.479,0-37.224,9.898-47.464,26.478L185.34,426.834c-10.79,17.472-11.261,38.61-1.257,56.545 C194.078,501.3,212.292,512,232.806,512h27.699c11.046,0,20-8.954,20-20c0-11.046-8.954-20-20-20h-27.699 c-8.365,0-12.43-5.668-13.789-8.105c-1.363-2.443-4.057-8.898,0.355-16.042l98.424-159.355c4.18-6.767,10.787-7.498,13.433-7.498 s9.254,0.73,13.434,7.498l72.739,117.771l27.443,45.44c1.346,4.457,0.572,9.382-2.158,13.412 c-1.741,2.569-5.749,6.879-13.034,6.879h-27.147c-11.046,0-20,8.954-20,20c0,11.046,8.954,20,20,20h27.147 c18.526,0,35.778-9.137,46.148-24.441C486.235,472.159,488.39,452.755,481.566,435.655z",fill:"currentColor"}),l("path",{d:"M330.505,452c11.046,0,20-8.954,20-20v-75c0-11.046-8.954-20-20-20c-11.046,0-20,8.954-20,20v75 C310.505,443.046,319.459,452,330.505,452z",fill:"currentColor"})]})}}class pt extends C{render(){return l("svg",{className:"svg-settings",viewBox:"0 0 512 512",children:[l("desc",{children:"Settings"}),l("path",{d:"M256,140c-63.963,0-116,52.038-116,116s52.037,116,116,116c11.947,0,23.735-1.813,35.036-5.39 c10.531-3.333,16.365-14.572,13.032-25.103c-3.332-10.531-14.574-16.366-25.103-13.033C271.573,330.814,263.847,332,256,332 c-41.906,0-76-34.093-76-76s34.094-76,76-76s76,34.093,76,76c0,7.283-1.024,14.479-3.045,21.386 c-3.101,10.602,2.98,21.709,13.582,24.81c10.604,3.101,21.709-2.98,24.811-13.582C370.435,278.058,372,267.084,372,256 C372,192.038,319.963,140,256,140z",fill:"currentColor"}),l("path",{d:"M452,186.001h-10.071c-2.65,0-5.052-1.669-6.092-4.187l-0.178-0.432c-1.077-2.594-0.562-5.481,1.311-7.355l7.123-7.122 c23.394-23.394,23.394-61.459,0-84.853L429.951,67.91c-11.333-11.333-26.401-17.574-42.427-17.574 c-16.028,0-31.095,6.241-42.427,17.574l-7.121,7.121c-1.875,1.875-4.765,2.389-7.347,1.316l-0.377-0.156 c-2.583-1.067-4.251-3.468-4.251-6.117V60c0-33.084-26.916-60-60-60h-20c-33.084,0-60,26.916-60,60v10.074 c0,2.649-1.668,5.05-4.229,6.107l-0.391,0.162c-2.591,1.078-5.481,0.563-7.354-1.311l-7.122-7.122 c-11.332-11.333-26.4-17.574-42.427-17.574c-16.027,0-31.094,6.241-42.427,17.574L67.909,82.05 c-23.394,23.395-23.394,61.459,0.001,84.854l7.121,7.121c1.874,1.875,2.388,4.762,1.281,7.43l-0.121,0.292 c-1.066,2.583-3.469,4.252-6.118,4.252H60c-33.084,0-60,26.916-60,60v20c0,33.084,26.916,60,60,60h10.072 c2.65,0,5.051,1.669,6.092,4.187l0.178,0.432c1.077,2.594,0.562,5.481-1.312,7.355l-7.121,7.122 c-11.333,11.333-17.574,26.4-17.574,42.427c0,16.026,6.241,31.093,17.573,42.426L82.05,444.09 c11.333,11.333,26.401,17.574,42.427,17.574c16.028,0,31.095-6.241,42.427-17.574l7.121-7.121 c1.873-1.875,4.764-2.389,7.347-1.316l0.377,0.156c2.583,1.067,4.251,3.468,4.251,6.117V452c0,33.084,26.916,60,60,60h20 c33.084,0,60-26.916,60-60v-10.074c0-2.649,1.668-5.05,4.229-6.107l0.391-0.162c2.593-1.076,5.481-0.562,7.354,1.311l7.122,7.122 c11.332,11.333,26.4,17.574,42.427,17.574c16.027,0,31.094-6.241,42.427-17.574l14.142-14.142 c11.332-11.332,17.573-26.4,17.573-42.426c0-16.027-6.241-31.094-17.573-42.426l-7.122-7.122 c-1.875-1.874-2.389-4.761-1.312-7.355l0.151-0.366c1.067-2.583,3.469-4.252,6.118-4.252H452c33.084,0,60-26.916,60-60v-20 C512,212.917,485.084,186.001,452,186.001z M472,266c0,11.028-8.972,20-20,20h-10.073c-18.905,0-35.818,11.376-43.089,28.983 l-0.13,0.314c-7.298,17.599-3.384,37.6,9.976,50.961l7.123,7.122c3.777,3.777,5.857,8.8,5.857,14.142 c0,5.342-2.08,10.364-5.858,14.142l-14.141,14.142c-3.779,3.777-8.801,5.858-14.143,5.858c-5.343,0-10.365-2.08-14.142-5.858 l-7.123-7.123c-13.368-13.365-33.381-17.276-50.991-9.962l-0.282,0.117C297.377,406.108,286,423.021,286,441.926V452 c0,11.028-8.972,20-20,20h-20c-11.028,0-20-8.972-20-20v-10.074c0-18.905-11.377-35.818-29.005-43.097l-0.27-0.112 c-5.89-2.447-12.047-3.636-18.137-3.636c-12.111,0-23.951,4.709-32.846,13.603l-7.122,7.123 c-3.778,3.777-8.799,5.857-14.142,5.857c-5.342,0-10.365-2.081-14.142-5.858l-14.142-14.142c-3.778-3.778-5.858-8.8-5.858-14.142 c0-5.342,2.08-10.365,5.858-14.142l7.122-7.122c13.361-13.361,17.275-33.362,9.976-50.961l-0.13-0.314 C105.89,297.376,88.977,286,70.073,286H60c-11.028,0-20-8.972-20-20v-20c0-11.028,8.972-20,20-20h10.073 c18.905,0,35.818-11.376,43.116-29.047l0.093-0.227c7.312-17.604,3.4-37.616-9.967-50.984l-7.121-7.121 c-7.799-7.799-7.799-20.487,0-28.285l14.141-14.142c3.779-3.777,8.801-5.858,14.143-5.858c5.343,0,10.365,2.08,14.142,5.858 l7.123,7.123c13.369,13.366,33.382,17.278,50.991,9.962l0.282-0.117C214.623,105.892,226,88.979,226,70.074V60 c0-11.028,8.972-20,20-20h20c11.028,0,20,8.972,20,20v10.074c0,18.905,11.377,35.818,29.005,43.096l0.27,0.112 c17.601,7.31,37.614,3.399,50.983-9.967l7.122-7.123c3.778-3.777,8.799-5.857,14.142-5.857c5.342,0,10.365,2.081,14.142,5.858 l14.142,14.142c7.799,7.798,7.799,20.486,0.001,28.284l-7.123,7.123c-13.366,13.368-17.278,33.379-9.996,50.91l0.15,0.365 C406.11,214.624,423.023,226,441.927,226H452c11.028,0,20,8.972,20,20V266z",fill:"currentColor"})]})}}function Ue({isActive:e,isDisabled:t,onClick:n}){return l("button",{className:(()=>{let r="";return this.props.isActive&&(r+=" is-active"),this.props.onBottom&&(r+=" side-nav__bottom"),r})(),disabled:this.props.isDisabled,onClick:r=>{r.preventDefault(),n()},children:this.props.children})}const ft="\xA0",mt={[Z]:at,[D]:dt,[ee]:ut,[O]:_t,[z]:Be,[I]:Ve,[re]:ht,[se]:pt};function gt(){const e=y(A),t=y(M);return l("div",{className:"side-nav",children:[l("img",{className:"side-nav__logo",src:"/icon.svg",alt:"Omnibear Logo"}),e.isLoggedIn()?l(R,{children:[l(S,{type:D,label:"New note"}),l(S,{type:ee,label:"Reply"}),l(S,{type:O,label:"Bookmark"}),l(S,{type:z,label:"Like"}),l(S,{type:I,label:"Repost"})]}):l(S,{type:Z,label:"Sign in"}),t.debugLog?l(Ue,{type:re,label:"Logs",onBottom:!0}):null,l(S,{type:se,label:"Settings",onBottom:!0})]})}function S({type:e,label:t,onBottom:n}){const c=y(L),r=mt[e];return l(Ue,{isActive:c.viewType===e,onClick:()=>c.setViewType(e),onBottom:n,children:[l(r,{}),t.replace(" ",ft)]})}class vt extends C{render(){return l("svg",{className:"svg-down-arrow",viewBox:"0 0 512 512",children:[l("desc",{children:"DownArrow"}),l("path",{d:"M506.157,132.386c-7.803-7.819-20.465-7.831-28.285-0.029l-207.73,207.299c-7.799,7.798-20.486,7.797-28.299-0.015 L34.128,132.357c-7.819-7.803-20.481-7.79-28.285,0.029c-7.802,7.819-7.789,20.482,0.029,28.284l207.701,207.27 c11.701,11.699,27.066,17.547,42.433,17.547c15.358,0,30.719-5.846,42.405-17.533L506.128,160.67 C513.946,152.868,513.959,140.205,506.157,132.386z",fill:"currentColor"})]})}}class yt extends C{render(){const{title:t}=this.props;return l("svg",{className:"svg-logs",viewBox:"0 0 360 360",children:[l("desc",{children:"Webmention logo"}),t?l("title",{children:t}):null,l("path",{d:"M207.54,328.99l-42.141-128.841h-0.699L123.263,328.99h-55.36L2.092,80.214h54.668l39.345,169.338h0.695l43.181-128.845 h51.189l42.479,130.927h0.698l30.36-130.841l-39.546-0.086l81.975-76.192l50.864,76.29l-40.281-0.025l-55.872,208.21H207.54z",fill:"currentColor"})]})}}function bt(){const e=y(L),[t,n]=w(!1),c=useMemo(loadOptions,[]),[r,i]=w(c),[s,a]=w(!1),_=nt(()=>{n(!1)},[]),f=(o,m)=>{n(!1),a(o.webmention),e.setSelectedEntry(o,m)};return useEffect(()=>(r[1].isDisabled?f(r[0],!0):f(r[1],!0),document.addEventListener("click",_),()=>{document.removeEventListener("click",_)}),[]),l("div",{className:"url-selector",onClick:o=>o.stopPropagation(),children:[s?l("div",{className:"wm-overlay",children:l(yt,{title:"This page supports webmention"})}):null,l("h2",{className:"header-title",children:this.getLabel()}),l("div",{className:`dropdown ${t?" is-open":""}`,children:[l("button",{type:"button",className:"dropdown__toggle",onClick:this.toggle,children:[l("div",{className:"nowrap",children:store.selectedEntry.url}),l("div",{className:"dropdown__toggle__arrow",children:l(vt,{})})]}),l("div",{className:"dropdown__drawer",children:r.map(o=>l(Ct,{option:o,isOpen:t,isActive:o.url===e.selectedEntry.url}))})]})]})}function Ct({option:e,isOpen:t,isActive:n}){return l("button",{type:"button",className:`url-option${n?" is-active":""} ${t?" is-in":""}`,onClick:this.selectEntry.bind(this,e),disabled:e.isDisabled,children:[l("div",{className:"url-option__type",children:e.name}),l("div",{className:"url-option__url",children:e.url})]})}const kt=[D,ee,O,z,I];function Nt(){const e=y(L),t=[ee,O,z,I].includes(e.viewType);return kt.includes(e.viewType)?l("header",{className:"main-header",children:[e.viewType===D?l("h2",{className:"header-title",children:"New note"}):null,t?l(bt,{}):null]}):null}function E({message:e}){return e?l("div",{className:this.getClass(),children:[e.message,e.location?l("span",{children:[":",l("br",{}),l("a",{href:e.location,onClick:Q,children:e.location})]}):null]}):l("div",{className:this.getClass(),children:this.children})}function wt(){const e=y(A),t=De(null),[n,c]=w("");de(()=>{setTimeout(()=>{t.current&&t.current.focus()},150)},[]);const r=async s=>{s.preventDefault();const a=i();c(a),await e.login(a)},i=()=>n.startsWith("http://")||n.startsWith("https://")?n:`https://${n}`;return l("form",{className:"container container--full",method:"GET",onSubmit:r,children:[l("p",{children:["To use Omnibear, sign in with your domain. Your website will need to support"," ",l("a",{href:"http://indieweb.org/micropub",onClick:Q,children:"Micropub"})," ","for creating new posts."]}),l("div",{className:"fields-inline",children:[l("input",{type:"text",name:"me",placeholder:"https://example.com",className:"fields-inline__fill",value:n,onInput:s=>c(s.target.value),disabled:e.isLoading,ref:t}),l("button",{type:"submit",disabled:e.isLoading,className:e.isLoading?"button is-loading":"button",children:"Sign in"})]}),e.hasErrors?l(E,{message:{type:Ge,message:e.errorMessage||"Error"}}):null,e.authorizationPageOpened?l(E,{message:{type:qe,message:"Your authorization page has been opened in a new tab. You may close this window and complete your login there."}}):null]})}const je=ne({});function Lt({children:e}){const t={};return l(je.Provider,{value:t,children:e})}function xt(){const e=y(L),n=y(M).reacji;return!n||!n.length?null:l("ul",{className:"quick-replies",children:n.map(c=>l(St,{content:c,isSending:e.isSending,send:e.addQuickReply}))})}function St({content:e,isSending:t,send:n}){return l("li",{children:l("button",{type:"button",onClick:()=>this.send(e),disabled:t,children:e})},e)}function Mt({options:e,selected:t,onUpdate:n,isDisabled:c}){const r=(i,s)=>{const a=[...t];if(s)a.push(i);else{const _=a.indexOf(i);a.splice(_,1)}n(a)};return!e||!e.length?null:l("div",{className:"checkbox",children:[l("div",{className:"label",children:"Syndicate to"}),e.map(i=>l(Tt,{option:i,isChecked:t?t.indexOf(i.uid)>-1:!1,isDisabled:c,onToggle:r}))]})}function Tt({option:e,isChecked:t,isDisabled:n,onToggle:c}){return l("label",{children:[l("input",{type:"checkbox",checked:t,disabled:n,onClick:r=>c(e.uid,r.target.checked)}),e.name]})}function Et(){const e=y(L),t=y(je),n=y(M),[c,r]=w(n.getSyndicateOptions()),i=De(null);de(()=>(setTimeout(()=>{i.current.focus()},150),()=>{t.save()}),[]);const s=e.isSending;return l("form",{className:"container",onSubmit:e.send,children:[store.includeTitle?l("div",{children:[l("label",{htmlFor:"input-title",children:"Title"}),l("input",{id:"input-title",type:"text",name:"title",value:t.title,onInput:a=>t.setTitle(a.target.value),disabled:s})]}):null,l("div",{children:[l("label",{htmlFor:"input-content",children:"Content"}),l("textarea",{id:"input-content",value:t.content,onInput:a=>t.setContent(a.target.value),onBlur:a=>t.setContent(a.target.value),rows:"4",disabled:s,ref:a=>{this.content=a}}),l("div",{className:"input-extra",children:t.content.length}),l(xt,{})]}),l("div",{children:[l("label",{htmlFor:"input-tags",children:"Tags (space separated)"}),l("input",{id:"input-tags",type:"text",placeholder:"e.g. web  personal",value:t.tags,onChange:a=>t.setTags(a.target.value),disabled:s})]}),l("div",{children:[l("label",{htmlFor:"input-slug",children:"Slug"}),l("input",{id:"input-slug",type:"text",name:"mp-slug",value:t.slug,onInput:a=>t.setSlug(a.target.value),disabled:s})]}),l(Mt,{options:c,selected:t.syndicateList,onUpdate:t.setSyndicateList,isDisabled:s}),store.flashMessage?l(E,{message:store.flashMessage}):null,l("button",{type:"submit",disabled:s||!t.content,className:s?"button is-loading":"button",children:"Post"})]})}function At(){const e=y(L);return l("div",{className:"container text-center",children:[l("p",{children:"Like this entry?"}),e.flashMessage?l(E,{message:e.flashMessage}):null,l("button",{type:"button",className:`button${e.isSending?" is-loading":""}`,onClick:e.sendLike,disabled:e.isSending,children:["Like ",l(Be,{})]})]})}function Ht(){const e=y(L);return l("div",{className:"container text-center",children:[l("p",{children:"Repost this entry?"}),e.flashMessage?l(E,{message:e.flashMessage}):null,l("button",{type:"button",className:`button${e.isSending?" is-loading":""}`,onClick:e.sendRepost,disabled:e.isSending,children:["Repost ",l(Ve,{})]})]})}function Pt(){const[e,t]=w(""),n=y(M),c=i=>{const s=n.reacji,a=s.slice(0,i),_=s.slice(i+1);n.setReacji(a.concat(_)),n.save()},r=()=>{e&&n.reacji.indexOf(e)===-1&&(n.addReacji(e),n.save(),this.setValue(""))};return l("div",{children:[l("label",{children:"Quick emoji"}),l("div",{className:"reacji-row",children:n.reacji.map((i,s)=>l($t,{char:i,index:s,onDelete:c},i))}),l("div",{className:"input-inline",children:[l("input",{type:"text",value:this.state.value,onChange:i=>{t(i.target.value)},placeholder:"Enter reaction emoji",maxLength:"15"}),l("button",{type:"button",onClick:r,children:"Add"})]})]})}function $t({char:e,index:t,onDelete:n}){return l("div",{className:"reacji-tag",children:[e,l("button",{type:"button",onClick:()=>n(t),children:"\xD7"})]})}function Ft(){const[e,t]=w(!1),n=y(M);return l("fieldset",{children:[l("legend",{children:"Customize endpoint fields"}),l("div",{className:"settings-form__description",children:"If your micropub server expects custom or legacy fieldnames, you can specify those here"}),e?[l("div",{children:[l("label",{htmlFor:"slug",children:"Slug"}),l("input",{id:"slug",type:"text",value:n.slugFieldName,onChange:c=>n.setSlugFieldName(c.target.value)}),l("div",{className:"settings-form__description",children:["Choose the name of the field that the slug will be sent in. This should be ",l("code",{children:"mp-slug"})," for up-to-date endpoints."]})]},"slug"),l("div",{children:[l("label",{htmlFor:"syndicate-to",children:"Syndicate To"}),l("input",{id:"syndicate-to",type:"text",value:n.syndicateToFieldName,onChange:c=>n.setSyndicateToFieldName(c.target.value)}),l("div",{className:"settings-form__description",children:["Choose the name of the field that the syndicate-to UIDs will be sent in. This should be ",l("code",{children:"mp-syndicate-to"})," for up-to-date endpoints."]})]},"syndicate")]:null,l("div",{className:"text-right",children:l("button",{type:"button",onClick:()=>t(!e),children:e?"Hide":"Show"})})]})}function Ot(){cosnt[showFields,setShowFields]=w(!1);const e=y(A);return l("fieldset",{children:[l("legend",{children:"Authentication details (advanced)"}),l("div",{className:"settings-form__description",children:"These values are set automatically upon logging in. Only edit them if you are having trouble authenticating and wish to do so manually."}),showFields?[l("div",{children:[l("label",{htmlFor:"domain",children:"Me (domain name)"}),l("input",{id:"domain",type:"text",value:e.domain,onChange:this.update(e.setDomain),placeholder:"https://example.com"})]},"domain"),l("div",{children:[l("label",{htmlFor:"mp-endpoint",children:"Micropub endpoint"}),l("input",{id:"mp-endpoint",type:"text",value:e.micropubEndpoint,onChange:this.update(e.setMicropubEndpoint),placeholder:"https://example.com/micropub"})]},"endpoint"),l("div",{children:[l("label",{htmlFor:"token",children:"OAuth Token"}),l("input",{id:"token",type:"text",value:e.token,onChange:this.update(e.setToken)})]},"token")]:null,l("div",{className:"text-right",children:l("button",{type:"button",onClick:()=>{setShowFields(!showFields)},children:showFields?"Hide":"Show"})})]})}function Dt(){const e=y(M),t=n=>c=>{n(c.target.checked)};return l("div",{className:"container container--full",children:[l("h1",{className:"section-heading",children:"Settings"}),l("form",{className:"settings-form",children:[l("div",{className:"checkbox",children:[l("label",{children:[l("input",{type:"checkbox",checked:e.defaultToCurrentPage,onChange:t(e.setDefaultToCurrentPage)}),"Always open in \u201CReply\u201D mode"]}),l("label",{children:[l("input",{type:"checkbox",checked:e.autoSlug,onChange:t(e.setAutoSlug)}),"Automatically generate slug from post content"]}),l("label",{children:[l("input",{type:"checkbox",checked:e.closeAfterPosting,onChange:t(e.setCloseAfterPosting)}),"Close Omnibear window after posting"]}),l("label",{children:[l("input",{type:"checkbox",checked:e.debugLog,onChange:t(e.setDebugLog)}),"Record debug logs"]})]}),l(Pt,{}),l(Ft,{}),l(Ot,{})]})]})}function zt({details:e}){return l("div",{className:"log-details",children:l(We,{details:e,isTopLevel:!0})})}function We({detail:e,isTopLevel:t}){const n=`${t?0:1}em`;return!e||typeof e=="string"||typeof e=="number"?l("span",{children:e}):Array.isArray(e)?l("div",{style:{marginLeft:n},children:["[",e.map((c,r)=>l("div",{style:{marginLeft:n},children:l(We,{detail:c})},r)),"]"]}):[l("span",{children:"{"},"open-brace"),l("div",{style:{marginLeft:n},children:Object.keys(e).map(c=>l("div",{style:{marginLeft:"1em"},children:[c,": ",l(Detail,{detail:e[c]})]},c))},"content"),l("span",{children:"}"},"close-brace")]}function It({log:e}){const[t,n]=w(!1),c=["log",`log--${e.type}`,t?"is-expanded":"",e.data?"has-data":""].join(" ");return l("li",{children:[l("button",{type:"button",className:c,onClick:()=>{e.data&&n(!t)},children:[l("time",{children:e.timestamp}),l("div",{children:e.message})]}),t?l(zt,{details:e.data}):null]})}function Rt({onClose:e}){const[t,n]=useState(_e());return de(()=>{const c=setInterval(()=>{n(_e())},2e3);return()=>clearInterval(c)},[]),l("div",{className:"container container--full",children:[l("h1",{className:"section-heading",children:"Logs"}),t.length?l("ul",{className:"logs",children:t.map((c,r)=>l(It,{log:c},r))}):l("p",{className:"metadata",children:"No logs found"}),l("p",{className:"text-right",children:l("button",{type:"button",onClick:()=>{Ke(),n([])},children:"Clear logs"})})]})}function Bt(){const e=y(L);switch(e.viewType){case Z:return l(wt,{});case se:return l(Dt,{onClose:()=>e.setViewType(D)});case re:return l(Rt,{});case z:return l(At,{});case I:return l(Ht,{});case we:return l("div",{className:"container container--full",children:l(E,{message:store.flashMessage})});default:return l(Et,{})}}function Vt(){y(L);const e=y(A);return l("footer",{className:"l-main__footer footer",children:e.isLoggedIn()?[l("div",{className:"footer__message",children:["Authenticated to ",l("strong",{children:e.domain})]},"message"),l("a",{href:"https://omnibear.com/help",className:"footer__right",onClick:Q,children:"Help"},"help"),l("button",{className:"button-link",type:"button",onClick:store.logout,children:"Logout"},"logout")]:[l("div",{className:"footer__message",children:"Not authenticated"},"message"),l("a",{href:"https://omnibear.com/help",className:"footer__right",onClick:Q,children:"Help"},"help")]})}function Ut(){console.log("render Layout");const e=y(A);return console.log(e),l("div",{className:(()=>`l-main ${e.isLoggedIn()?"l-main--tall":"l-main--short"}`)(),children:[l("nav",{className:"l-main__sidebar",children:l(gt,{})}),l("div",{className:"l-main__full",children:l("div",{className:"gradient-wrapper",children:[l(Nt,{}),l(Bt,{})]})}),l(Vt,{})]})}function jt(){return l(rt,{children:l(ot,{children:l(st,{children:l(Lt,{children:l(Ut,{})})})})})}console.log("A");document.addEventListener("DOMContentLoaded",function(){console.log("B"),window.location.search.includes("location=sidebar")&&(console.log("sidebar"),document.body.classList.add("sidebar")),et(l(jt,{}),document.getElementById("app"))});
