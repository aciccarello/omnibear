{"version":3,"sources":["webpack:///index.js","webpack:///webpack/bootstrap 15a99939aa972b110f9f","webpack:///./~/preact/dist/preact.js","webpack:///./src/util/utils.js","webpack:///./src/constants.js","webpack:///./src/util/requests.js","webpack:///./src/components/Message.js","webpack:///./src/components/App.js","webpack:///./src/components/ChangeViewButtons.js","webpack:///./src/components/Footer.js","webpack:///./src/components/FormInputs.js","webpack:///./src/components/Header.js","webpack:///./src/components/LinkButton.js","webpack:///./src/components/NoteForm.js","webpack:///./src/components/loginForm.js","webpack:///./src/util/parseSite.js","webpack:///./src/index.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","global","factory","this","VNode","nodeName","attributes","children","key","h","lastSimple","child","simple","arguments","length","stack","push","pop","Array","String","EMPTY_CHILDREN","options","vnode","extend","obj","props","clone","delve","split","isFunction","isString","hashToClassName","str","prop","cloneElement","slice","createLinkedState","component","eventPath","path","e","t","target","state","v","type","match","checked","setState","enqueueRender","_dirty","items","debounceRendering","defer","rerender","list","renderComponent","isFunctionalComponent","render","buildFunctionalComponent","context","getNodeProps","EMPTY","isSameNodeType","node","Text","_componentConstructor","isNamedNode","normalizedNodeName","toLowerCase","defaultProps","removeNode","parentNode","removeChild","setAccessor","old","isSvg","style","cssText","NON_DIMENSION_PROPS","innerHTML","__html","_listeners","substring","addEventListener","eventProxy","NON_BUBBLING_EVENTS","removeEventListener","setProperty","removeAttribute","ns","removeAttributeNS","setAttributeNS","setAttribute","className","event","collectNode","Element","_component","_name","nodes","createNode","document","createElementNS","createElement","flushMounts","mounts","afterMount","componentDidMount","diff","dom","mountAll","parent","componentRoot","diffLevel","isSvgMode","ownerSVGElement","hydrating","ATTR_KEY","ret","idiff","appendChild","ref","nodeValue","recollectNodeTree","createTextNode","buildComponentFromVNode","out","prevSvgMode","vchildren","firstChild","replaceChild","fc","a","nextSibling","innerDiffNode","dangerouslySetInnerHTML","diffAttributes","absorb","j","vchild","originalChildren","childNodes","keyed","keyedLen","min","len","childrenLen","vlen","_child","__key","insertBefore","unmountOnly","unmountComponent","lastChild","attrs","collectComponent","constructor","components","createComponent","Ctor","inst","Component","nextBase","splice","setComponentProps","opts","_disable","__ref","base","componentWillMount","componentWillReceiveProps","prevContext","prevProps","syncComponentUpdates","isChild","skip","rendered","cbase","previousProps","previousState","prevState","previousContext","isUpdate","initialBase","initialChildComponent","shouldComponentUpdate","componentWillUpdate","getChildContext","toUnmount","childComponent","childProps","_parentComponent","baseParent","componentRef","unshift","componentDidUpdate","afterUpdate","fn","cb","_renderCallbacks","originalComponent","oldDom","isDirectOwner","isOwner","remove","beforeUnmount","componentWillUnmount","inner","componentDidUnmount","merge","lcCache","resolved","Promise","resolve","f","then","setTimeout","Symbol","for","boxFlex","boxFlexGroup","columnCount","fillOpacity","flex","flexGrow","flexPositive","flexShrink","flexNegative","fontWeight","lineClamp","lineHeight","opacity","order","orphans","strokeOpacity","widows","zIndex","zoom","blur","error","focus","load","resize","scroll","linkState","_linkedStates","callback","forceUpdate","openLink","preventDefault","href","chrome","tabs","create","url","JSON","parse","stringify","getAuthTab","reject","query","logout","map","item","localStorage","removeItem","NEW_NOTE","PAGE_REPLY","ITEM_REPLY","MESSAGE_SUCCESS","MESSAGE_ERROR","post","payload","params","getParamString","fetch","method","res","text","isArray","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","iterator","next","done","val","err","return","join","formEncodedToObject","formString","data","parts","forEach","param","_param$split","_param$split2","_slicedToArray","decodeURIParam","endsWith","k","substr","replace","decodeURIComponent","postFormData","token","headers","Authorization","body","formDataFromObject","status","FormData","fieldName","append","sliceIterator","arr","_arr","_n","_d","_e","_s","_i","TypeError","_defineProperty","writable","_classCallCheck","instance","Constructor","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","setPrototypeOf","__proto__","_createClass","defineProperties","descriptor","protoProps","staticProps","_preact","_constants","Message","_Component","getPrototypeOf","apply","getClass","_types","types","default","_interopRequireDefault","_loginForm","_loginForm2","_NoteForm","_NoteForm2","_Message","_Message2","_utils","App","_this","displayMessage","message","currentView","handleLogout","isAuthenticated","userFeedback","getItem","_LinkButton","_LinkButton2","ChangeViewButtons","postType","renderNewNote","renderPageReply","renderItemReply","onClick","switchTo","hasSelectedEntry","_this2","onChange","Footer","_ref","_temp","_ret","_len","args","_key","concat","handleClick","onLogout","domain","FormInputs","content","onSubmit","entry","id","onKeyup","updateField","rows","disabled","isDisabled","el","placeholder","tags","updateFieldArray","isLoading","_this3","updateEntry","_this4","trim","NoteForm","getMessage","class","renderQuickActions","classNames","messages","onRepost","onLike","LinkButton","_Header","_Header2","_ChangeViewButtons","_ChangeViewButtons2","_FormInputs","_FormInputs2","_Footer","_Footer2","_requests","_initialiseProps","entryUrl","selectedEntry","location","search","indexOf","userDomain","mp-slug","handleLike","handleRepost","changeView","handleSubmit","form","errorMessage","window","close","endpoint","postEntry","like-of","flashSuccessMessage","catch","console","flashErrorMessage","repost-of","newEntry","_parseSite","LoginForm","handleChange","hasErrors","getNormalizedDomain","fetchSiteMetadata","authEndpoint","tokenEndpoint","micropub","getFields","runtime","sendMessage","action","authUrl","metadata","input","onKeyUp","startsWith","getLinkValue","page","rel","link","querySelector","_module$exports","_App","_App2"],"mappings":"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","file":"index.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 20);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n!function(global, factory) {\n     true ? factory(exports) : 'function' == typeof define && define.amd ? define([ 'exports' ], factory) : factory(global.preact = global.preact || {});\n}(this, function(exports) {\n    function VNode(nodeName, attributes, children) {\n        this.nodeName = nodeName;\n        this.attributes = attributes;\n        this.children = children;\n        this.key = attributes && attributes.key;\n    }\n    function h(nodeName, attributes) {\n        var children, lastSimple, child, simple, i;\n        for (i = arguments.length; i-- > 2; ) stack.push(arguments[i]);\n        if (attributes && attributes.children) {\n            if (!stack.length) stack.push(attributes.children);\n            delete attributes.children;\n        }\n        while (stack.length) if ((child = stack.pop()) instanceof Array) for (i = child.length; i--; ) stack.push(child[i]); else if (null != child && child !== !0 && child !== !1) {\n            if ('number' == typeof child) child = String(child);\n            simple = 'string' == typeof child;\n            if (simple && lastSimple) children[children.length - 1] += child; else {\n                (children || (children = [])).push(child);\n                lastSimple = simple;\n            }\n        }\n        var p = new VNode(nodeName, attributes || void 0, children || EMPTY_CHILDREN);\n        if (options.vnode) options.vnode(p);\n        return p;\n    }\n    function extend(obj, props) {\n        if (props) for (var i in props) obj[i] = props[i];\n        return obj;\n    }\n    function clone(obj) {\n        return extend({}, obj);\n    }\n    function delve(obj, key) {\n        for (var p = key.split('.'), i = 0; i < p.length && obj; i++) obj = obj[p[i]];\n        return obj;\n    }\n    function isFunction(obj) {\n        return 'function' == typeof obj;\n    }\n    function isString(obj) {\n        return 'string' == typeof obj;\n    }\n    function hashToClassName(c) {\n        var str = '';\n        for (var prop in c) if (c[prop]) {\n            if (str) str += ' ';\n            str += prop;\n        }\n        return str;\n    }\n    function cloneElement(vnode, props) {\n        return h(vnode.nodeName, extend(clone(vnode.attributes), props), arguments.length > 2 ? [].slice.call(arguments, 2) : vnode.children);\n    }\n    function createLinkedState(component, key, eventPath) {\n        var path = key.split('.');\n        return function(e) {\n            var t = e && e.target || this, state = {}, obj = state, v = isString(eventPath) ? delve(e, eventPath) : t.nodeName ? t.type.match(/^che|rad/) ? t.checked : t.value : e, i = 0;\n            for (;i < path.length - 1; i++) obj = obj[path[i]] || (obj[path[i]] = !i && component.state[path[i]] || {});\n            obj[path[i]] = v;\n            component.setState(state);\n        };\n    }\n    function enqueueRender(component) {\n        if (!component._dirty && (component._dirty = !0) && 1 == items.push(component)) (options.debounceRendering || defer)(rerender);\n    }\n    function rerender() {\n        var p, list = items;\n        items = [];\n        while (p = list.pop()) if (p._dirty) renderComponent(p);\n    }\n    function isFunctionalComponent(vnode) {\n        var nodeName = vnode && vnode.nodeName;\n        return nodeName && isFunction(nodeName) && !(nodeName.prototype && nodeName.prototype.render);\n    }\n    function buildFunctionalComponent(vnode, context) {\n        return vnode.nodeName(getNodeProps(vnode), context || EMPTY);\n    }\n    function isSameNodeType(node, vnode) {\n        if (isString(vnode)) return node instanceof Text;\n        if (isString(vnode.nodeName)) return !node._componentConstructor && isNamedNode(node, vnode.nodeName);\n        if (isFunction(vnode.nodeName)) return (node._componentConstructor ? node._componentConstructor === vnode.nodeName : !0) || isFunctionalComponent(vnode); else ;\n    }\n    function isNamedNode(node, nodeName) {\n        return node.normalizedNodeName === nodeName || toLowerCase(node.nodeName) === toLowerCase(nodeName);\n    }\n    function getNodeProps(vnode) {\n        var props = clone(vnode.attributes);\n        props.children = vnode.children;\n        var defaultProps = vnode.nodeName.defaultProps;\n        if (defaultProps) for (var i in defaultProps) if (void 0 === props[i]) props[i] = defaultProps[i];\n        return props;\n    }\n    function removeNode(node) {\n        var p = node.parentNode;\n        if (p) p.removeChild(node);\n    }\n    function setAccessor(node, name, old, value, isSvg) {\n        if ('className' === name) name = 'class';\n        if ('class' === name && value && 'object' == typeof value) value = hashToClassName(value);\n        if ('key' === name) ; else if ('class' === name && !isSvg) node.className = value || ''; else if ('style' === name) {\n            if (!value || isString(value) || isString(old)) node.style.cssText = value || '';\n            if (value && 'object' == typeof value) {\n                if (!isString(old)) for (var i in old) if (!(i in value)) node.style[i] = '';\n                for (var i in value) node.style[i] = 'number' == typeof value[i] && !NON_DIMENSION_PROPS[i] ? value[i] + 'px' : value[i];\n            }\n        } else if ('dangerouslySetInnerHTML' === name) {\n            if (value) node.innerHTML = value.__html || '';\n        } else if ('o' == name[0] && 'n' == name[1]) {\n            var l = node._listeners || (node._listeners = {});\n            name = toLowerCase(name.substring(2));\n            if (value) {\n                if (!l[name]) node.addEventListener(name, eventProxy, !!NON_BUBBLING_EVENTS[name]);\n            } else if (l[name]) node.removeEventListener(name, eventProxy, !!NON_BUBBLING_EVENTS[name]);\n            l[name] = value;\n        } else if ('list' !== name && 'type' !== name && !isSvg && name in node) {\n            setProperty(node, name, null == value ? '' : value);\n            if (null == value || value === !1) node.removeAttribute(name);\n        } else {\n            var ns = isSvg && name.match(/^xlink\\:?(.+)/);\n            if (null == value || value === !1) if (ns) node.removeAttributeNS('http://www.w3.org/1999/xlink', toLowerCase(ns[1])); else node.removeAttribute(name); else if ('object' != typeof value && !isFunction(value)) if (ns) node.setAttributeNS('http://www.w3.org/1999/xlink', toLowerCase(ns[1]), value); else node.setAttribute(name, value);\n        }\n    }\n    function setProperty(node, name, value) {\n        try {\n            node[name] = value;\n        } catch (e) {}\n    }\n    function eventProxy(e) {\n        return this._listeners[e.type](options.event && options.event(e) || e);\n    }\n    function collectNode(node) {\n        removeNode(node);\n        if (node instanceof Element) {\n            node._component = node._componentConstructor = null;\n            var _name = node.normalizedNodeName || toLowerCase(node.nodeName);\n            (nodes[_name] || (nodes[_name] = [])).push(node);\n        }\n    }\n    function createNode(nodeName, isSvg) {\n        var name = toLowerCase(nodeName), node = nodes[name] && nodes[name].pop() || (isSvg ? document.createElementNS('http://www.w3.org/2000/svg', nodeName) : document.createElement(nodeName));\n        node.normalizedNodeName = name;\n        return node;\n    }\n    function flushMounts() {\n        var c;\n        while (c = mounts.pop()) {\n            if (options.afterMount) options.afterMount(c);\n            if (c.componentDidMount) c.componentDidMount();\n        }\n    }\n    function diff(dom, vnode, context, mountAll, parent, componentRoot) {\n        if (!diffLevel++) {\n            isSvgMode = parent && 'undefined' != typeof parent.ownerSVGElement;\n            hydrating = dom && !(ATTR_KEY in dom);\n        }\n        var ret = idiff(dom, vnode, context, mountAll);\n        if (parent && ret.parentNode !== parent) parent.appendChild(ret);\n        if (!--diffLevel) {\n            hydrating = !1;\n            if (!componentRoot) flushMounts();\n        }\n        return ret;\n    }\n    function idiff(dom, vnode, context, mountAll) {\n        var ref = vnode && vnode.attributes && vnode.attributes.ref;\n        while (isFunctionalComponent(vnode)) vnode = buildFunctionalComponent(vnode, context);\n        if (null == vnode) vnode = '';\n        if (isString(vnode)) {\n            if (dom && dom instanceof Text && dom.parentNode) {\n                if (dom.nodeValue != vnode) dom.nodeValue = vnode;\n            } else {\n                if (dom) recollectNodeTree(dom);\n                dom = document.createTextNode(vnode);\n            }\n            return dom;\n        }\n        if (isFunction(vnode.nodeName)) return buildComponentFromVNode(dom, vnode, context, mountAll);\n        var out = dom, nodeName = String(vnode.nodeName), prevSvgMode = isSvgMode, vchildren = vnode.children;\n        isSvgMode = 'svg' === nodeName ? !0 : 'foreignObject' === nodeName ? !1 : isSvgMode;\n        if (!dom) out = createNode(nodeName, isSvgMode); else if (!isNamedNode(dom, nodeName)) {\n            out = createNode(nodeName, isSvgMode);\n            while (dom.firstChild) out.appendChild(dom.firstChild);\n            if (dom.parentNode) dom.parentNode.replaceChild(out, dom);\n            recollectNodeTree(dom);\n        }\n        var fc = out.firstChild, props = out[ATTR_KEY];\n        if (!props) {\n            out[ATTR_KEY] = props = {};\n            for (var a = out.attributes, i = a.length; i--; ) props[a[i].name] = a[i].value;\n        }\n        if (!hydrating && vchildren && 1 === vchildren.length && 'string' == typeof vchildren[0] && fc && fc instanceof Text && !fc.nextSibling) {\n            if (fc.nodeValue != vchildren[0]) fc.nodeValue = vchildren[0];\n        } else if (vchildren && vchildren.length || fc) innerDiffNode(out, vchildren, context, mountAll, !!props.dangerouslySetInnerHTML);\n        diffAttributes(out, vnode.attributes, props);\n        if (ref) (props.ref = ref)(out);\n        isSvgMode = prevSvgMode;\n        return out;\n    }\n    function innerDiffNode(dom, vchildren, context, mountAll, absorb) {\n        var j, c, vchild, child, originalChildren = dom.childNodes, children = [], keyed = {}, keyedLen = 0, min = 0, len = originalChildren.length, childrenLen = 0, vlen = vchildren && vchildren.length;\n        if (len) for (var i = 0; i < len; i++) {\n            var _child = originalChildren[i], props = _child[ATTR_KEY], key = vlen ? (c = _child._component) ? c.__key : props ? props.key : null : null;\n            if (null != key) {\n                keyedLen++;\n                keyed[key] = _child;\n            } else if (hydrating || absorb || props || _child instanceof Text) children[childrenLen++] = _child;\n        }\n        if (vlen) for (var i = 0; i < vlen; i++) {\n            vchild = vchildren[i];\n            child = null;\n            var key = vchild.key;\n            if (null != key) {\n                if (keyedLen && key in keyed) {\n                    child = keyed[key];\n                    keyed[key] = void 0;\n                    keyedLen--;\n                }\n            } else if (!child && min < childrenLen) for (j = min; j < childrenLen; j++) {\n                c = children[j];\n                if (c && isSameNodeType(c, vchild)) {\n                    child = c;\n                    children[j] = void 0;\n                    if (j === childrenLen - 1) childrenLen--;\n                    if (j === min) min++;\n                    break;\n                }\n            }\n            child = idiff(child, vchild, context, mountAll);\n            if (child && child !== dom) if (i >= len) dom.appendChild(child); else if (child !== originalChildren[i]) {\n                if (child === originalChildren[i + 1]) removeNode(originalChildren[i]);\n                dom.insertBefore(child, originalChildren[i] || null);\n            }\n        }\n        if (keyedLen) for (var i in keyed) if (keyed[i]) recollectNodeTree(keyed[i]);\n        while (min <= childrenLen) {\n            child = children[childrenLen--];\n            if (child) recollectNodeTree(child);\n        }\n    }\n    function recollectNodeTree(node, unmountOnly) {\n        var component = node._component;\n        if (component) unmountComponent(component, !unmountOnly); else {\n            if (node[ATTR_KEY] && node[ATTR_KEY].ref) node[ATTR_KEY].ref(null);\n            if (!unmountOnly) collectNode(node);\n            var c;\n            while (c = node.lastChild) recollectNodeTree(c, unmountOnly);\n        }\n    }\n    function diffAttributes(dom, attrs, old) {\n        var name;\n        for (name in old) if (!(attrs && name in attrs) && null != old[name]) setAccessor(dom, name, old[name], old[name] = void 0, isSvgMode);\n        if (attrs) for (name in attrs) if (!('children' === name || 'innerHTML' === name || name in old && attrs[name] === ('value' === name || 'checked' === name ? dom[name] : old[name]))) setAccessor(dom, name, old[name], old[name] = attrs[name], isSvgMode);\n    }\n    function collectComponent(component) {\n        var name = component.constructor.name, list = components[name];\n        if (list) list.push(component); else components[name] = [ component ];\n    }\n    function createComponent(Ctor, props, context) {\n        var inst = new Ctor(props, context), list = components[Ctor.name];\n        Component.call(inst, props, context);\n        if (list) for (var i = list.length; i--; ) if (list[i].constructor === Ctor) {\n            inst.nextBase = list[i].nextBase;\n            list.splice(i, 1);\n            break;\n        }\n        return inst;\n    }\n    function setComponentProps(component, props, opts, context, mountAll) {\n        if (!component._disable) {\n            component._disable = !0;\n            if (component.__ref = props.ref) delete props.ref;\n            if (component.__key = props.key) delete props.key;\n            if (!component.base || mountAll) {\n                if (component.componentWillMount) component.componentWillMount();\n            } else if (component.componentWillReceiveProps) component.componentWillReceiveProps(props, context);\n            if (context && context !== component.context) {\n                if (!component.prevContext) component.prevContext = component.context;\n                component.context = context;\n            }\n            if (!component.prevProps) component.prevProps = component.props;\n            component.props = props;\n            component._disable = !1;\n            if (0 !== opts) if (1 === opts || options.syncComponentUpdates !== !1 || !component.base) renderComponent(component, 1, mountAll); else enqueueRender(component);\n            if (component.__ref) component.__ref(component);\n        }\n    }\n    function renderComponent(component, opts, mountAll, isChild) {\n        if (!component._disable) {\n            var skip, rendered, inst, cbase, props = component.props, state = component.state, context = component.context, previousProps = component.prevProps || props, previousState = component.prevState || state, previousContext = component.prevContext || context, isUpdate = component.base, nextBase = component.nextBase, initialBase = isUpdate || nextBase, initialChildComponent = component._component;\n            if (isUpdate) {\n                component.props = previousProps;\n                component.state = previousState;\n                component.context = previousContext;\n                if (2 !== opts && component.shouldComponentUpdate && component.shouldComponentUpdate(props, state, context) === !1) skip = !0; else if (component.componentWillUpdate) component.componentWillUpdate(props, state, context);\n                component.props = props;\n                component.state = state;\n                component.context = context;\n            }\n            component.prevProps = component.prevState = component.prevContext = component.nextBase = null;\n            component._dirty = !1;\n            if (!skip) {\n                if (component.render) rendered = component.render(props, state, context);\n                if (component.getChildContext) context = extend(clone(context), component.getChildContext());\n                while (isFunctionalComponent(rendered)) rendered = buildFunctionalComponent(rendered, context);\n                var toUnmount, base, childComponent = rendered && rendered.nodeName;\n                if (isFunction(childComponent)) {\n                    var childProps = getNodeProps(rendered);\n                    inst = initialChildComponent;\n                    if (inst && inst.constructor === childComponent && childProps.key == inst.__key) setComponentProps(inst, childProps, 1, context); else {\n                        toUnmount = inst;\n                        inst = createComponent(childComponent, childProps, context);\n                        inst.nextBase = inst.nextBase || nextBase;\n                        inst._parentComponent = component;\n                        component._component = inst;\n                        setComponentProps(inst, childProps, 0, context);\n                        renderComponent(inst, 1, mountAll, !0);\n                    }\n                    base = inst.base;\n                } else {\n                    cbase = initialBase;\n                    toUnmount = initialChildComponent;\n                    if (toUnmount) cbase = component._component = null;\n                    if (initialBase || 1 === opts) {\n                        if (cbase) cbase._component = null;\n                        base = diff(cbase, rendered, context, mountAll || !isUpdate, initialBase && initialBase.parentNode, !0);\n                    }\n                }\n                if (initialBase && base !== initialBase && inst !== initialChildComponent) {\n                    var baseParent = initialBase.parentNode;\n                    if (baseParent && base !== baseParent) {\n                        baseParent.replaceChild(base, initialBase);\n                        if (!toUnmount) {\n                            initialBase._component = null;\n                            recollectNodeTree(initialBase);\n                        }\n                    }\n                }\n                if (toUnmount) unmountComponent(toUnmount, base !== initialBase);\n                component.base = base;\n                if (base && !isChild) {\n                    var componentRef = component, t = component;\n                    while (t = t._parentComponent) (componentRef = t).base = base;\n                    base._component = componentRef;\n                    base._componentConstructor = componentRef.constructor;\n                }\n            }\n            if (!isUpdate || mountAll) mounts.unshift(component); else if (!skip) {\n                if (component.componentDidUpdate) component.componentDidUpdate(previousProps, previousState, previousContext);\n                if (options.afterUpdate) options.afterUpdate(component);\n            }\n            var fn, cb = component._renderCallbacks;\n            if (cb) while (fn = cb.pop()) fn.call(component);\n            if (!diffLevel && !isChild) flushMounts();\n        }\n    }\n    function buildComponentFromVNode(dom, vnode, context, mountAll) {\n        var c = dom && dom._component, originalComponent = c, oldDom = dom, isDirectOwner = c && dom._componentConstructor === vnode.nodeName, isOwner = isDirectOwner, props = getNodeProps(vnode);\n        while (c && !isOwner && (c = c._parentComponent)) isOwner = c.constructor === vnode.nodeName;\n        if (c && isOwner && (!mountAll || c._component)) {\n            setComponentProps(c, props, 3, context, mountAll);\n            dom = c.base;\n        } else {\n            if (originalComponent && !isDirectOwner) {\n                unmountComponent(originalComponent, !0);\n                dom = oldDom = null;\n            }\n            c = createComponent(vnode.nodeName, props, context);\n            if (dom && !c.nextBase) {\n                c.nextBase = dom;\n                oldDom = null;\n            }\n            setComponentProps(c, props, 1, context, mountAll);\n            dom = c.base;\n            if (oldDom && dom !== oldDom) {\n                oldDom._component = null;\n                recollectNodeTree(oldDom);\n            }\n        }\n        return dom;\n    }\n    function unmountComponent(component, remove) {\n        if (options.beforeUnmount) options.beforeUnmount(component);\n        var base = component.base;\n        component._disable = !0;\n        if (component.componentWillUnmount) component.componentWillUnmount();\n        component.base = null;\n        var inner = component._component;\n        if (inner) unmountComponent(inner, remove); else if (base) {\n            if (base[ATTR_KEY] && base[ATTR_KEY].ref) base[ATTR_KEY].ref(null);\n            component.nextBase = base;\n            if (remove) {\n                removeNode(base);\n                collectComponent(component);\n            }\n            var c;\n            while (c = base.lastChild) recollectNodeTree(c, !remove);\n        }\n        if (component.__ref) component.__ref(null);\n        if (component.componentDidUnmount) component.componentDidUnmount();\n    }\n    function Component(props, context) {\n        this._dirty = !0;\n        this.context = context;\n        this.props = props;\n        if (!this.state) this.state = {};\n    }\n    function render(vnode, parent, merge) {\n        return diff(merge, vnode, {}, !1, parent);\n    }\n    var options = {};\n    var stack = [];\n    var EMPTY_CHILDREN = [];\n    var lcCache = {};\n    var toLowerCase = function(s) {\n        return lcCache[s] || (lcCache[s] = s.toLowerCase());\n    };\n    var resolved = 'undefined' != typeof Promise && Promise.resolve();\n    var defer = resolved ? function(f) {\n        resolved.then(f);\n    } : setTimeout;\n    var EMPTY = {};\n    var ATTR_KEY = 'undefined' != typeof Symbol ? Symbol.for('preactattr') : '__preactattr_';\n    var NON_DIMENSION_PROPS = {\n        boxFlex: 1,\n        boxFlexGroup: 1,\n        columnCount: 1,\n        fillOpacity: 1,\n        flex: 1,\n        flexGrow: 1,\n        flexPositive: 1,\n        flexShrink: 1,\n        flexNegative: 1,\n        fontWeight: 1,\n        lineClamp: 1,\n        lineHeight: 1,\n        opacity: 1,\n        order: 1,\n        orphans: 1,\n        strokeOpacity: 1,\n        widows: 1,\n        zIndex: 1,\n        zoom: 1\n    };\n    var NON_BUBBLING_EVENTS = {\n        blur: 1,\n        error: 1,\n        focus: 1,\n        load: 1,\n        resize: 1,\n        scroll: 1\n    };\n    var items = [];\n    var nodes = {};\n    var mounts = [];\n    var diffLevel = 0;\n    var isSvgMode = !1;\n    var hydrating = !1;\n    var components = {};\n    extend(Component.prototype, {\n        linkState: function(key, eventPath) {\n            var c = this._linkedStates || (this._linkedStates = {});\n            return c[key + eventPath] || (c[key + eventPath] = createLinkedState(this, key, eventPath));\n        },\n        setState: function(state, callback) {\n            var s = this.state;\n            if (!this.prevState) this.prevState = clone(s);\n            extend(s, isFunction(state) ? state(s, this.props) : state);\n            if (callback) (this._renderCallbacks = this._renderCallbacks || []).push(callback);\n            enqueueRender(this);\n        },\n        forceUpdate: function() {\n            renderComponent(this, 2);\n        },\n        render: function() {}\n    });\n    exports.h = h;\n    exports.cloneElement = cloneElement;\n    exports.Component = Component;\n    exports.render = render;\n    exports.rerender = rerender;\n    exports.options = options;\n});\n//# sourceMappingURL=preact.js.map\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.openLink = openLink;\nexports.clone = clone;\nexports.getAuthTab = getAuthTab;\nexports.logout = logout;\nfunction openLink(e) {\n  e.preventDefault();\n  if (e.target.href) {\n    chrome.tabs.create({ url: e.target.href });\n  }\n}\n\nfunction clone(obj) {\n  return JSON.parse(JSON.stringify(obj));\n}\n\nfunction getAuthTab() {\n  return new Promise(function (resolve, reject) {\n    chrome.tabs.query({ url: 'http://omnibear.com/auth/success*' }, function (tabs) {\n      if (tabs.length) {\n        resolve(tabs[0]);\n      } else {\n        reject('Auth tab not found');\n      }\n    });\n  });\n}\n\nfunction logout() {\n  var items = ['token', 'domain', 'authEndpoint', 'tokenEndpoint', 'micropubEndpoint'];\n  items.map(function (item) {\n    return localStorage.removeItem(item);\n  });\n}\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar NEW_NOTE = exports.NEW_NOTE = 'new-note';\nvar PAGE_REPLY = exports.PAGE_REPLY = 'page-reply';\nvar ITEM_REPLY = exports.ITEM_REPLY = 'item-reply';\n\nvar MESSAGE_SUCCESS = exports.MESSAGE_SUCCESS = 'success';\nvar MESSAGE_ERROR = exports.MESSAGE_ERROR = 'error';\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nexports.post = post;\nexports.getParamString = getParamString;\nexports.formEncodedToObject = formEncodedToObject;\nexports.postFormData = postFormData;\nexports.formDataFromObject = formDataFromObject;\n\n// TODO: refactor\nfunction post(url, payload) {\n  var params;\n  if (typeof payload === 'string') {\n    params = payload;\n  } else {\n    params = getParamString(payload);\n  }\n  return fetch(url + '?' + params, {\n    method: 'POST'\n  }).then(function (res) {\n    return res.text();\n  });\n}\n\nfunction getParamString(payload) {\n  var params = [];\n  for (var prop in payload) {\n    var value = payload[prop];\n    if (Array.isArray(value)) {\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = value[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var val = _step.value;\n\n          params.push(prop + '[]=' + val);\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n    } else {\n      params.push(prop + '=' + value);\n    }\n  }\n  return params.join('&');\n}\n\nfunction formEncodedToObject(formString) {\n  var data = {};\n  var parts = formString.split('&');\n  parts.forEach(function (param, i) {\n    var _param$split = param.split('='),\n        _param$split2 = _slicedToArray(_param$split, 2),\n        key = _param$split2[0],\n        val = _param$split2[1];\n\n    var value = decodeURIParam(val);\n    if (key.endsWith('[]')) {\n      var k = key.substr(0, key.length - 2);\n      data[k] = data[k] || [];\n      data[k].push(value);\n    } else {\n      data[key] = value;\n    }\n  });\n  return data;\n}\n\nfunction decodeURIParam(param) {\n  var str = param.replace(/\\+/g, ' ');\n  return decodeURIComponent(str);\n}\n\n// x-www-form-urlencoded example: https://hacks.mozilla.org/2015/03/this-api-is-so-fetching/\n\nfunction postFormData(url, payload, token) {\n  return new Promise(function (resolve, reject) {\n    fetch(url, {\n      method: 'POST',\n      headers: {\n        'Authorization': 'Bearer ' + token\n      },\n      body: formDataFromObject(payload)\n    }).then(function (res) {\n      if (res.status < 200 || res.status >= 400) {\n        return reject(res.status);\n      }\n      // TODO: get location/url of post & display somehow\n      // res.headers.get('Location') -> null -- CORS blocking?\n      resolve(res.text());\n    });\n  });\n}\n\nfunction formDataFromObject(obj) {\n  var data = new FormData();\n  for (var fieldName in obj) {\n    if (Array.isArray(obj[fieldName])) {\n      obj[fieldName].forEach(function (val, k) {\n        data.append(fieldName, val);\n      });\n    } else {\n      data.append(fieldName, obj[fieldName]);\n    }\n  }\n  return data;\n}\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _preact = __webpack_require__(0);\n\nvar _constants = __webpack_require__(2);\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Message = function (_Component) {\n  _inherits(Message, _Component);\n\n  function Message() {\n    _classCallCheck(this, Message);\n\n    return _possibleConstructorReturn(this, (Message.__proto__ || Object.getPrototypeOf(Message)).apply(this, arguments));\n  }\n\n  _createClass(Message, [{\n    key: 'render',\n    value: function render() {\n      return (0, _preact.h)(\n        'div',\n        { className: this.getClass() },\n        this.props.children\n      );\n    }\n  }, {\n    key: 'getClass',\n    value: function getClass() {\n      var _types;\n\n      var types = (_types = {}, _defineProperty(_types, _constants.MESSAGE_INFO, 'message message--info'), _defineProperty(_types, _constants.MESSAGE_SUCCESS, 'message message--success'), _defineProperty(_types, _constants.MESSAGE_ERROR, 'message message--danger'), _types);\n      return types[this.props.type] || types[_constants.MESSAGE_INFO];\n    }\n  }]);\n\n  return Message;\n}(_preact.Component);\n\nexports.default = Message;\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _preact = __webpack_require__(0);\n\nvar _loginForm = __webpack_require__(14);\n\nvar _loginForm2 = _interopRequireDefault(_loginForm);\n\nvar _NoteForm = __webpack_require__(13);\n\nvar _NoteForm2 = _interopRequireDefault(_NoteForm);\n\nvar _Message = __webpack_require__(4);\n\nvar _Message2 = _interopRequireDefault(_Message);\n\nvar _utils = __webpack_require__(1);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar App = function (_Component) {\n  _inherits(App, _Component);\n\n  function App(props) {\n    _classCallCheck(this, App);\n\n    var _this = _possibleConstructorReturn(this, (App.__proto__ || Object.getPrototypeOf(App)).call(this, props));\n\n    _this.displayMessage = function (message) {\n      _this.setState({\n        currentView: 'feedback',\n        message: message\n      });\n    };\n\n    _this.handleLogout = function () {\n      (0, _utils.logout)();\n      _this.setState({ currentView: 'login' });\n    };\n\n    if (_this.isAuthenticated()) {\n      _this.setState({\n        currentView: 'new-note'\n      });\n    } else {\n      _this.setState({\n        currentView: 'login'\n      });\n    }\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: 'render',\n    value: function render() {\n      switch (this.state.currentView) {\n        case 'login':\n          return (0, _preact.h)(_loginForm2.default, null);\n        case 'feedback':\n          return (0, _preact.h)(\n            _Message2.default,\n            null,\n            this.state.message\n          );\n        default:\n          return (0, _preact.h)(_NoteForm2.default, { handleLogout: this.handleLogout, userFeedback: this.displayMessage });\n      }\n    }\n  }, {\n    key: 'isAuthenticated',\n    value: function isAuthenticated() {\n      return !!localStorage.getItem('token');\n    }\n  }]);\n\n  return App;\n}(_preact.Component);\n\nexports.default = App;\n\n/***/ }),\n/* 6 */,\n/* 7 */,\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _preact = __webpack_require__(0);\n\nvar _LinkButton = __webpack_require__(12);\n\nvar _LinkButton2 = _interopRequireDefault(_LinkButton);\n\nvar _constants = __webpack_require__(2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ChangeViewButtons = function (_Component) {\n  _inherits(ChangeViewButtons, _Component);\n\n  function ChangeViewButtons() {\n    _classCallCheck(this, ChangeViewButtons);\n\n    return _possibleConstructorReturn(this, (ChangeViewButtons.__proto__ || Object.getPrototypeOf(ChangeViewButtons)).apply(this, arguments));\n  }\n\n  _createClass(ChangeViewButtons, [{\n    key: 'render',\n    value: function render() {\n      var postType = this.props.postType;\n      return (0, _preact.h)(\n        'div',\n        { className: 'inline-links' },\n        this.renderNewNote(),\n        this.renderPageReply(),\n        this.renderItemReply()\n      );\n    }\n  }, {\n    key: 'renderNewNote',\n    value: function renderNewNote() {\n      if (this.props.postType === _constants.NEW_NOTE) {\n        return (0, _preact.h)(\n          'span',\n          null,\n          'New note'\n        );\n      } else {\n        return (0, _preact.h)(\n          _LinkButton2.default,\n          { onClick: this.switchTo(_constants.NEW_NOTE) },\n          'New note'\n        );\n      }\n    }\n  }, {\n    key: 'renderPageReply',\n    value: function renderPageReply() {\n      if (this.props.postType === _constants.PAGE_REPLY) {\n        return (0, _preact.h)(\n          'span',\n          null,\n          'Current page'\n        );\n      } else {\n        return (0, _preact.h)(\n          _LinkButton2.default,\n          { onClick: this.switchTo(_constants.PAGE_REPLY) },\n          'Current page'\n        );\n      }\n    }\n  }, {\n    key: 'renderItemReply',\n    value: function renderItemReply() {\n      if (!this.props.hasSelectedEntry) {\n        return (0, _preact.h)(\n          'span',\n          { className: 'disabled' },\n          'Selected entry'\n        );\n      } else if (this.props.postType === _constants.ITEM_REPLY) {\n        return (0, _preact.h)(\n          'span',\n          null,\n          'Selected entry'\n        );\n      } else {\n        return (0, _preact.h)(\n          _LinkButton2.default,\n          { onClick: this.switchTo(_constants.ITEM_REPLY) },\n          'Selected entry'\n        );\n      }\n    }\n  }, {\n    key: 'switchTo',\n    value: function switchTo(postType) {\n      var _this2 = this;\n\n      return function () {\n        _this2.props.onChange(postType);\n      };\n    }\n  }]);\n\n  return ChangeViewButtons;\n}(_preact.Component);\n\nexports.default = ChangeViewButtons;\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _preact = __webpack_require__(0);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Footer = function (_Component) {\n  _inherits(Footer, _Component);\n\n  function Footer() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Footer);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Footer.__proto__ || Object.getPrototypeOf(Footer)).call.apply(_ref, [this].concat(args))), _this), _this.handleClick = function (e) {\n      e.preventDefault();\n      _this.props.onLogout();\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(Footer, [{\n    key: \"render\",\n    value: function render() {\n      return (0, _preact.h)(\n        \"footer\",\n        { className: \"footer\" },\n        (0, _preact.h)(\n          \"div\",\n          null,\n          \"Authenticated to \",\n          (0, _preact.h)(\n            \"strong\",\n            null,\n            this.props.domain\n          )\n        ),\n        (0, _preact.h)(\n          \"button\",\n          { className: \"button-link\", onClick: this.handleClick },\n          \"Logout\"\n        )\n      );\n    }\n  }]);\n\n  return Footer;\n}(_preact.Component);\n\nexports.default = Footer;\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _preact = __webpack_require__(0);\n\nvar _utils = __webpack_require__(1);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar FormInputs = function (_Component) {\n  _inherits(FormInputs, _Component);\n\n  function FormInputs() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, FormInputs);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = FormInputs.__proto__ || Object.getPrototypeOf(FormInputs)).call.apply(_ref, [this].concat(args))), _this), _this.focus = function () {\n      _this.content.focus();\n    }, _this.onSubmit = function (e) {\n      e.preventDefault();\n      _this.props.onSubmit(_this.props.entry);\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(FormInputs, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      setTimeout(this.focus, 150);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      return (0, _preact.h)(\n        'form',\n        { onSubmit: this.onSubmit },\n        (0, _preact.h)(\n          'div',\n          null,\n          (0, _preact.h)(\n            'label',\n            { 'for': 'input-content' },\n            'Content'\n          ),\n          (0, _preact.h)('textarea', {\n            id: 'input-content',\n            value: this.props.entry.content,\n            onKeyup: this.updateField('content'),\n            rows: '4',\n            disabled: this.props.isDisabled,\n            ref: function ref(el) {\n              _this2.content = el;\n            }\n          })\n        ),\n        (0, _preact.h)(\n          'div',\n          null,\n          (0, _preact.h)(\n            'label',\n            { 'for': 'input-tags' },\n            'Tags'\n          ),\n          (0, _preact.h)('input', {\n            id: 'input-tags',\n            type: 'text',\n            placeholder: 'e.g. web, personal',\n            value: this.props.entry.tags.join(' '),\n            onChange: this.updateFieldArray('tags'),\n            disabled: this.props.isDisabled\n          })\n        ),\n        (0, _preact.h)(\n          'div',\n          null,\n          (0, _preact.h)(\n            'label',\n            { 'for': 'input-slug' },\n            'Slug'\n          ),\n          (0, _preact.h)('input', {\n            id: 'input-slug',\n            type: 'text',\n            name: 'mp-slug',\n            value: this.props.entry['mp-slug'],\n            onChange: this.updateField('mp-slug'),\n            disabled: this.props.isDisabled\n          })\n        ),\n        (0, _preact.h)(\n          'button',\n          {\n            type: 'submit',\n            disabled: this.props.isDisabled || !this.props.entry.content,\n            className: this.props.isLoading ? 'is-loading' : ''\n          },\n          'Post'\n        )\n      );\n    }\n  }, {\n    key: 'updateField',\n    value: function updateField(fieldName) {\n      var _this3 = this;\n\n      return function (e) {\n        e.preventDefault();\n        var entry = (0, _utils.clone)(_this3.props.entry);\n        entry[fieldName] = e.target.value;\n        _this3.props.updateEntry(entry);\n      };\n    }\n  }, {\n    key: 'updateFieldArray',\n    value: function updateFieldArray(fieldName) {\n      var _this4 = this;\n\n      return function (e) {\n        e.preventDefault();\n        var entry = (0, _utils.clone)(_this4.props.entry);\n        entry[fieldName] = e.target.value.trim().split(' ');\n        _this4.props.updateEntry(entry);\n      };\n    }\n  }]);\n\n  return FormInputs;\n}(_preact.Component);\n\nexports.default = FormInputs;\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _preact = __webpack_require__(0);\n\nvar _constants = __webpack_require__(2);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar NoteForm = function (_Component) {\n  _inherits(NoteForm, _Component);\n\n  function NoteForm() {\n    _classCallCheck(this, NoteForm);\n\n    return _possibleConstructorReturn(this, (NoteForm.__proto__ || Object.getPrototypeOf(NoteForm)).apply(this, arguments));\n  }\n\n  _createClass(NoteForm, [{\n    key: 'render',\n    value: function render() {\n      return (0, _preact.h)(\n        'header',\n        { className: this.getClass() },\n        (0, _preact.h)(\n          'div',\n          null,\n          this.getMessage(),\n          this.props.url ? (0, _preact.h)(\n            'div',\n            { 'class': 'metadata' },\n            this.props.url\n          ) : null\n        ),\n        this.renderQuickActions()\n      );\n    }\n  }, {\n    key: 'getClass',\n    value: function getClass() {\n      var classNames = {};\n      classNames[_constants.NEW_NOTE] = 'header header--new';\n      classNames[_constants.PAGE_REPLY] = 'header header--page';\n      classNames[_constants.ITEM_REPLY] = 'header header--item';\n      return classNames[this.props.postType];\n    }\n  }, {\n    key: 'getMessage',\n    value: function getMessage() {\n      var messages = {};\n      messages[_constants.NEW_NOTE] = 'New Note';\n      messages[_constants.PAGE_REPLY] = 'Reply to current page';\n      messages[_constants.ITEM_REPLY] = 'Reply to selected entry';\n      return messages[this.props.postType];\n    }\n  }, {\n    key: 'renderQuickActions',\n    value: function renderQuickActions() {\n      if (!this.props.url) {\n        return null;\n      }\n\n      return (0, _preact.h)(\n        'ul',\n        { className: 'quick-actions' },\n        (0, _preact.h)(\n          'li',\n          null,\n          (0, _preact.h)(\n            'button',\n            { onClick: this.props.onRepost },\n            'repost'\n          )\n        ),\n        (0, _preact.h)(\n          'li',\n          null,\n          (0, _preact.h)(\n            'button',\n            { onClick: this.props.onLike },\n            'like'\n          )\n        )\n      );\n    }\n  }]);\n\n  return NoteForm;\n}(_preact.Component);\n\nexports.default = NoteForm;\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _preact = __webpack_require__(0);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar LinkButton = function (_Component) {\n  _inherits(LinkButton, _Component);\n\n  function LinkButton() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, LinkButton);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = LinkButton.__proto__ || Object.getPrototypeOf(LinkButton)).call.apply(_ref, [this].concat(args))), _this), _this.handleClick = function (e) {\n      e.preventDefault();\n      _this.props.onClick();\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(LinkButton, [{\n    key: \"render\",\n    value: function render() {\n      return (0, _preact.h)(\n        \"button\",\n        {\n          className: \"button-link\",\n          onClick: this.handleClick\n        },\n        this.props.children\n      );\n    }\n  }]);\n\n  return LinkButton;\n}(_preact.Component);\n\nexports.default = LinkButton;\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _preact = __webpack_require__(0);\n\nvar _Header = __webpack_require__(11);\n\nvar _Header2 = _interopRequireDefault(_Header);\n\nvar _Message = __webpack_require__(4);\n\nvar _Message2 = _interopRequireDefault(_Message);\n\nvar _ChangeViewButtons = __webpack_require__(8);\n\nvar _ChangeViewButtons2 = _interopRequireDefault(_ChangeViewButtons);\n\nvar _FormInputs = __webpack_require__(10);\n\nvar _FormInputs2 = _interopRequireDefault(_FormInputs);\n\nvar _Footer = __webpack_require__(9);\n\nvar _Footer2 = _interopRequireDefault(_Footer);\n\nvar _requests = __webpack_require__(3);\n\nvar _constants = __webpack_require__(2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar NoteForm = function (_Component) {\n  _inherits(NoteForm, _Component);\n\n  function NoteForm(props) {\n    _classCallCheck(this, NoteForm);\n\n    var _this = _possibleConstructorReturn(this, (NoteForm.__proto__ || Object.getPrototypeOf(NoteForm)).call(this, props));\n\n    _initialiseProps.call(_this);\n\n    var entryUrl = null;\n    var postType = void 0;\n    var selectedEntry = localStorage.getItem('selectedEntry');\n    if (location.search.indexOf('reply=true') === -1) {\n      postType = _constants.NEW_NOTE;\n    } else {\n      if (selectedEntry) {\n        postType = _constants.ITEM_REPLY;\n        entryUrl = selectedEntry;\n      } else {\n        postType = _constants.PAGE_REPLY;\n        entryUrl = localStorage.getItem('pageUrl');\n      }\n    }\n    _this.state = {\n      postType: postType,\n      url: entryUrl,\n      userDomain: localStorage.getItem('domain'),\n      entry: {\n        'h': 'entry',\n        'content': '',\n        'tags': [],\n        'mp-slug': ''\n      },\n      hasSelectedEntry: !!selectedEntry,\n      isDisabled: false,\n      isLoading: false\n    };\n    return _this;\n  }\n\n  _createClass(NoteForm, [{\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      return (0, _preact.h)(\n        'div',\n        null,\n        (0, _preact.h)(_Header2.default, {\n          postType: this.state.postType,\n          url: this.state.url,\n          onLike: this.handleLike,\n          onRepost: this.handleRepost\n        }),\n        (0, _preact.h)(\n          'div',\n          { className: 'container' },\n          (0, _preact.h)(\n            'div',\n            { className: 'text-right' },\n            (0, _preact.h)(_ChangeViewButtons2.default, {\n              postType: this.state.postType,\n              onChange: this.changeView,\n              hasSelectedEntry: this.state.hasSelectedEntry\n            })\n          ),\n          (0, _preact.h)(_FormInputs2.default, {\n            entry: this.state.entry,\n            updateEntry: this.updateEntry,\n            onSubmit: this.handleSubmit,\n            isDisabled: this.state.isDisabled,\n            isLoading: this.state.isLoading,\n            ref: function ref(el) {\n              return _this2.form = el;\n            }\n          }),\n          this.state.errorMessage ? (0, _preact.h)(\n            _Message2.default,\n            { type: _constants.MESSAGE_ERROR },\n            this.state.errorMessage\n          ) : null\n        ),\n        (0, _preact.h)(_Footer2.default, { domain: this.state.userDomain, onLogout: this.props.handleLogout })\n      );\n    }\n  }, {\n    key: 'flashSuccessMessage',\n    value: function flashSuccessMessage(message) {\n      this.props.userFeedback(message, _constants.MESSAGE_SUCCESS);\n      setTimeout(function () {\n        window.close();\n      }, 3000);\n    }\n  }, {\n    key: 'flashErrorMessage',\n    value: function flashErrorMessage(message) {\n      var _this3 = this;\n\n      this.setState({\n        errorMessage: message,\n        isDisabled: false,\n        isLoading: false\n      });\n      setTimeout(function () {\n        if (_this3.state.errorMessage === message) {\n          _this3.setState({ errorMessage: false });\n        }\n      }, 4000);\n    }\n  }, {\n    key: 'postEntry',\n    value: function postEntry(entry) {\n      var endpoint = localStorage.getItem('micropubEndpoint');\n      var token = localStorage.getItem('token');\n      this.setState({\n        isDisabled: true,\n        isLoading: true\n      });\n      return (0, _requests.postFormData)(endpoint, entry, token);\n    }\n  }]);\n\n  return NoteForm;\n}(_preact.Component);\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this4 = this;\n\n  this.handleLike = function () {\n    if (!_this4.state.url) {\n      return;\n    }\n    _this4.postEntry({\n      'h': 'entry',\n      'like-of': _this4.state.url\n    }).then(function () {\n      var type = _this4.state.postType === _constants.ITEM_REPLY ? 'Item' : 'Page';\n      _this4.flashSuccessMessage(type + ' liked successfully');\n    }).catch(function (err) {\n      console.error(err);\n      _this4.flashErrorMessage('Error posting like');\n    });\n  };\n\n  this.handleRepost = function () {\n    if (!_this4.state.url) {\n      return;\n    }\n    _this4.postEntry({\n      'h': 'entry',\n      'repost-of': _this4.state.url\n    }).then(function () {\n      var type = _this4.state.postType === _constants.ITEM_REPLY ? 'Item' : 'Page';\n      _this4.flashSuccessMessage(type + ' reposted successfully');\n    }).catch(function (err) {\n      console.error(err);\n      _this4.flashErrorMessage('Error reposting');\n    });\n  };\n\n  this.updateEntry = function (newEntry) {\n    _this4.setState({ entry: newEntry });\n  };\n\n  this.handleSubmit = function (entry) {\n    if (_this4.state.postType !== _constants.NEW_NOTE) {\n      entry['in-reply-to'] = _this4.state.url;\n    }\n    _this4.postEntry(entry).then(function () {\n      var type = _this4.state.postType === _constants.NEW_NOTE ? 'Note' : 'Reply';\n      _this4.flashSuccessMessage(type + ' posted successfully');\n    }).catch(function (err) {\n      _this4.flashErrorMessage('Error posting Note');\n    });\n  };\n\n  this.changeView = function (postType) {\n    var url = void 0;\n    switch (postType) {\n      case _constants.NEW_NOTE:\n        url = null;\n        break;\n      case _constants.PAGE_REPLY:\n        url = localStorage.getItem('pageUrl');\n        break;\n      case _constants.ITEM_REPLY:\n        url = localStorage.getItem('selectedEntry');\n        break;\n    }\n    _this4.setState({ url: url, postType: postType });\n    _this4.form.focus();\n  };\n};\n\nexports.default = NoteForm;\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _preact = __webpack_require__(0);\n\nvar _Message = __webpack_require__(4);\n\nvar _Message2 = _interopRequireDefault(_Message);\n\nvar _utils = __webpack_require__(1);\n\nvar _parseSite = __webpack_require__(16);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar LoginForm = function (_Component) {\n  _inherits(LoginForm, _Component);\n\n  function LoginForm() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, LoginForm);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = LoginForm.__proto__ || Object.getPrototypeOf(LoginForm)).call.apply(_ref, [this].concat(args))), _this), _this.handleChange = function (e) {\n      _this.setState({\n        domain: e.target.value,\n        hasErrors: false\n      });\n    }, _this.handleSubmit = function (e) {\n      e.preventDefault();\n      var domain = _this.getNormalizedDomain();\n      _this.setState({ isLoading: true, domain: domain });\n      (0, _parseSite.fetchSiteMetadata)(domain).then(function (data) {\n        if (!data.authEndpoint || !data.tokenEndpoint || !data.micropub) {\n          return _this.setState({\n            hasErrors: true,\n            errorMessage: 'Missing micropub data on ' + _this.state.domain + '. Please ensure the following links are present: authorization_endpoint, token_endpoint, micropub',\n            isLoading: false\n          });\n        }\n        var url = data.authEndpoint + '?' + _this.getFields(_this.state.domain);\n        chrome.runtime.sendMessage({\n          action: 'begin-auth',\n          payload: {\n            authUrl: url,\n            domain: _this.state.domain,\n            metadata: data\n          }\n        });\n      }).catch(function (err) {\n        _this.setState({\n          hasErrors: true,\n          errorMessage: 'Error fetching page: ' + _this.state.domain,\n          isLoading: false\n        });\n      });\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(LoginForm, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      setTimeout(function () {\n        _this2.input.focus();\n      }, 150);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this3 = this;\n\n      return (0, _preact.h)(\n        'form',\n        { 'class': 'container', method: 'GET', onSubmit: this.handleSubmit },\n        (0, _preact.h)(\n          'p',\n          null,\n          'To use Omnibear, sign in with your domain. Your website will need to support',\n          ' ',\n          (0, _preact.h)(\n            'a',\n            { href: 'http://indieweb.org/micropub', onClick: _utils.openLink },\n            'Micropub'\n          ),\n          ' ',\n          'for creating new posts.'\n        ),\n        (0, _preact.h)(\n          'div',\n          { 'class': 'fields-inline' },\n          (0, _preact.h)('input', {\n            type: 'text',\n            name: 'me',\n            placeholder: 'https://example.com',\n            className: 'fields-inline__fill',\n            value: this.state.domain,\n            onKeyUp: this.handleChange,\n            disabled: this.state.isLoading,\n            ref: function ref(el) {\n              return _this3.input = el;\n            }\n          }),\n          (0, _preact.h)(\n            'button',\n            {\n              type: 'submit',\n              disabled: this.state.isLoading,\n              className: this.state.isLoading ? 'is-loading' : ''\n            },\n            'Sign in'\n          )\n        ),\n        this.state.hasErrors ? (0, _preact.h)(\n          _Message2.default,\n          { type: 'error' },\n          this.state.errorMessage || 'Error'\n        ) : null\n      );\n    }\n  }, {\n    key: 'getNormalizedDomain',\n    value: function getNormalizedDomain() {\n      if (this.state.domain.startsWith('http://') || this.state.domain.startsWith('https://')) {\n        return this.state.domain;\n      } else {\n        return 'http://' + this.state.domain;\n      }\n    }\n  }, {\n    key: 'getFields',\n    value: function getFields(domain) {\n      return ['redirect_uri=http://omnibear.com/auth/success/', 'client_id=http://omnibear.com', 'response_type=code', 'scope=create', 'me=' + domain].join('&');\n    }\n  }]);\n\n  return LoginForm;\n}(_preact.Component);\n\nexports.default = LoginForm;\n\n/***/ }),\n/* 15 */,\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _module$exports;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction getLinkValue(page, rel) {\n  var link = page.querySelector('link[rel=\"' + rel + '\"]');\n  if (link) {\n    return link.href;\n  } else {\n    return null;\n  }\n}\n\nfunction fetchSiteMetadata(url) {\n  return fetch(url).then(function (res) {\n    return res.text();\n  }).then(function (content) {\n    var page = document.createElement('html');\n    page.innerHTML = content;\n    return {\n      authEndpoint: getLinkValue(page, 'authorization_endpoint'),\n      tokenEndpoint: getLinkValue(page, 'token_endpoint'),\n      micropub: getLinkValue(page, 'micropub')\n    };\n  });\n}\n\nmodule.exports = (_module$exports = {\n  getLinkValue: getLinkValue }, _defineProperty(_module$exports, 'getLinkValue', getLinkValue), _defineProperty(_module$exports, 'fetchSiteMetadata', fetchSiteMetadata), _module$exports);\n\n/***/ }),\n/* 17 */,\n/* 18 */,\n/* 19 */,\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _preact = __webpack_require__(0);\n\nvar _App = __webpack_require__(5);\n\nvar _App2 = _interopRequireDefault(_App);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  (0, _preact.render)((0, _preact.h)(_App2.default, null), document.body);\n});\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// index.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 20);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 15a99939aa972b110f9f","!function(global, factory) {\n    'object' == typeof exports && 'undefined' != typeof module ? factory(exports) : 'function' == typeof define && define.amd ? define([ 'exports' ], factory) : factory(global.preact = global.preact || {});\n}(this, function(exports) {\n    function VNode(nodeName, attributes, children) {\n        this.nodeName = nodeName;\n        this.attributes = attributes;\n        this.children = children;\n        this.key = attributes && attributes.key;\n    }\n    function h(nodeName, attributes) {\n        var children, lastSimple, child, simple, i;\n        for (i = arguments.length; i-- > 2; ) stack.push(arguments[i]);\n        if (attributes && attributes.children) {\n            if (!stack.length) stack.push(attributes.children);\n            delete attributes.children;\n        }\n        while (stack.length) if ((child = stack.pop()) instanceof Array) for (i = child.length; i--; ) stack.push(child[i]); else if (null != child && child !== !0 && child !== !1) {\n            if ('number' == typeof child) child = String(child);\n            simple = 'string' == typeof child;\n            if (simple && lastSimple) children[children.length - 1] += child; else {\n                (children || (children = [])).push(child);\n                lastSimple = simple;\n            }\n        }\n        var p = new VNode(nodeName, attributes || void 0, children || EMPTY_CHILDREN);\n        if (options.vnode) options.vnode(p);\n        return p;\n    }\n    function extend(obj, props) {\n        if (props) for (var i in props) obj[i] = props[i];\n        return obj;\n    }\n    function clone(obj) {\n        return extend({}, obj);\n    }\n    function delve(obj, key) {\n        for (var p = key.split('.'), i = 0; i < p.length && obj; i++) obj = obj[p[i]];\n        return obj;\n    }\n    function isFunction(obj) {\n        return 'function' == typeof obj;\n    }\n    function isString(obj) {\n        return 'string' == typeof obj;\n    }\n    function hashToClassName(c) {\n        var str = '';\n        for (var prop in c) if (c[prop]) {\n            if (str) str += ' ';\n            str += prop;\n        }\n        return str;\n    }\n    function cloneElement(vnode, props) {\n        return h(vnode.nodeName, extend(clone(vnode.attributes), props), arguments.length > 2 ? [].slice.call(arguments, 2) : vnode.children);\n    }\n    function createLinkedState(component, key, eventPath) {\n        var path = key.split('.');\n        return function(e) {\n            var t = e && e.target || this, state = {}, obj = state, v = isString(eventPath) ? delve(e, eventPath) : t.nodeName ? t.type.match(/^che|rad/) ? t.checked : t.value : e, i = 0;\n            for (;i < path.length - 1; i++) obj = obj[path[i]] || (obj[path[i]] = !i && component.state[path[i]] || {});\n            obj[path[i]] = v;\n            component.setState(state);\n        };\n    }\n    function enqueueRender(component) {\n        if (!component._dirty && (component._dirty = !0) && 1 == items.push(component)) (options.debounceRendering || defer)(rerender);\n    }\n    function rerender() {\n        var p, list = items;\n        items = [];\n        while (p = list.pop()) if (p._dirty) renderComponent(p);\n    }\n    function isFunctionalComponent(vnode) {\n        var nodeName = vnode && vnode.nodeName;\n        return nodeName && isFunction(nodeName) && !(nodeName.prototype && nodeName.prototype.render);\n    }\n    function buildFunctionalComponent(vnode, context) {\n        return vnode.nodeName(getNodeProps(vnode), context || EMPTY);\n    }\n    function isSameNodeType(node, vnode) {\n        if (isString(vnode)) return node instanceof Text;\n        if (isString(vnode.nodeName)) return !node._componentConstructor && isNamedNode(node, vnode.nodeName);\n        if (isFunction(vnode.nodeName)) return (node._componentConstructor ? node._componentConstructor === vnode.nodeName : !0) || isFunctionalComponent(vnode); else ;\n    }\n    function isNamedNode(node, nodeName) {\n        return node.normalizedNodeName === nodeName || toLowerCase(node.nodeName) === toLowerCase(nodeName);\n    }\n    function getNodeProps(vnode) {\n        var props = clone(vnode.attributes);\n        props.children = vnode.children;\n        var defaultProps = vnode.nodeName.defaultProps;\n        if (defaultProps) for (var i in defaultProps) if (void 0 === props[i]) props[i] = defaultProps[i];\n        return props;\n    }\n    function removeNode(node) {\n        var p = node.parentNode;\n        if (p) p.removeChild(node);\n    }\n    function setAccessor(node, name, old, value, isSvg) {\n        if ('className' === name) name = 'class';\n        if ('class' === name && value && 'object' == typeof value) value = hashToClassName(value);\n        if ('key' === name) ; else if ('class' === name && !isSvg) node.className = value || ''; else if ('style' === name) {\n            if (!value || isString(value) || isString(old)) node.style.cssText = value || '';\n            if (value && 'object' == typeof value) {\n                if (!isString(old)) for (var i in old) if (!(i in value)) node.style[i] = '';\n                for (var i in value) node.style[i] = 'number' == typeof value[i] && !NON_DIMENSION_PROPS[i] ? value[i] + 'px' : value[i];\n            }\n        } else if ('dangerouslySetInnerHTML' === name) {\n            if (value) node.innerHTML = value.__html || '';\n        } else if ('o' == name[0] && 'n' == name[1]) {\n            var l = node._listeners || (node._listeners = {});\n            name = toLowerCase(name.substring(2));\n            if (value) {\n                if (!l[name]) node.addEventListener(name, eventProxy, !!NON_BUBBLING_EVENTS[name]);\n            } else if (l[name]) node.removeEventListener(name, eventProxy, !!NON_BUBBLING_EVENTS[name]);\n            l[name] = value;\n        } else if ('list' !== name && 'type' !== name && !isSvg && name in node) {\n            setProperty(node, name, null == value ? '' : value);\n            if (null == value || value === !1) node.removeAttribute(name);\n        } else {\n            var ns = isSvg && name.match(/^xlink\\:?(.+)/);\n            if (null == value || value === !1) if (ns) node.removeAttributeNS('http://www.w3.org/1999/xlink', toLowerCase(ns[1])); else node.removeAttribute(name); else if ('object' != typeof value && !isFunction(value)) if (ns) node.setAttributeNS('http://www.w3.org/1999/xlink', toLowerCase(ns[1]), value); else node.setAttribute(name, value);\n        }\n    }\n    function setProperty(node, name, value) {\n        try {\n            node[name] = value;\n        } catch (e) {}\n    }\n    function eventProxy(e) {\n        return this._listeners[e.type](options.event && options.event(e) || e);\n    }\n    function collectNode(node) {\n        removeNode(node);\n        if (node instanceof Element) {\n            node._component = node._componentConstructor = null;\n            var _name = node.normalizedNodeName || toLowerCase(node.nodeName);\n            (nodes[_name] || (nodes[_name] = [])).push(node);\n        }\n    }\n    function createNode(nodeName, isSvg) {\n        var name = toLowerCase(nodeName), node = nodes[name] && nodes[name].pop() || (isSvg ? document.createElementNS('http://www.w3.org/2000/svg', nodeName) : document.createElement(nodeName));\n        node.normalizedNodeName = name;\n        return node;\n    }\n    function flushMounts() {\n        var c;\n        while (c = mounts.pop()) {\n            if (options.afterMount) options.afterMount(c);\n            if (c.componentDidMount) c.componentDidMount();\n        }\n    }\n    function diff(dom, vnode, context, mountAll, parent, componentRoot) {\n        if (!diffLevel++) {\n            isSvgMode = parent && 'undefined' != typeof parent.ownerSVGElement;\n            hydrating = dom && !(ATTR_KEY in dom);\n        }\n        var ret = idiff(dom, vnode, context, mountAll);\n        if (parent && ret.parentNode !== parent) parent.appendChild(ret);\n        if (!--diffLevel) {\n            hydrating = !1;\n            if (!componentRoot) flushMounts();\n        }\n        return ret;\n    }\n    function idiff(dom, vnode, context, mountAll) {\n        var ref = vnode && vnode.attributes && vnode.attributes.ref;\n        while (isFunctionalComponent(vnode)) vnode = buildFunctionalComponent(vnode, context);\n        if (null == vnode) vnode = '';\n        if (isString(vnode)) {\n            if (dom && dom instanceof Text && dom.parentNode) {\n                if (dom.nodeValue != vnode) dom.nodeValue = vnode;\n            } else {\n                if (dom) recollectNodeTree(dom);\n                dom = document.createTextNode(vnode);\n            }\n            return dom;\n        }\n        if (isFunction(vnode.nodeName)) return buildComponentFromVNode(dom, vnode, context, mountAll);\n        var out = dom, nodeName = String(vnode.nodeName), prevSvgMode = isSvgMode, vchildren = vnode.children;\n        isSvgMode = 'svg' === nodeName ? !0 : 'foreignObject' === nodeName ? !1 : isSvgMode;\n        if (!dom) out = createNode(nodeName, isSvgMode); else if (!isNamedNode(dom, nodeName)) {\n            out = createNode(nodeName, isSvgMode);\n            while (dom.firstChild) out.appendChild(dom.firstChild);\n            if (dom.parentNode) dom.parentNode.replaceChild(out, dom);\n            recollectNodeTree(dom);\n        }\n        var fc = out.firstChild, props = out[ATTR_KEY];\n        if (!props) {\n            out[ATTR_KEY] = props = {};\n            for (var a = out.attributes, i = a.length; i--; ) props[a[i].name] = a[i].value;\n        }\n        if (!hydrating && vchildren && 1 === vchildren.length && 'string' == typeof vchildren[0] && fc && fc instanceof Text && !fc.nextSibling) {\n            if (fc.nodeValue != vchildren[0]) fc.nodeValue = vchildren[0];\n        } else if (vchildren && vchildren.length || fc) innerDiffNode(out, vchildren, context, mountAll, !!props.dangerouslySetInnerHTML);\n        diffAttributes(out, vnode.attributes, props);\n        if (ref) (props.ref = ref)(out);\n        isSvgMode = prevSvgMode;\n        return out;\n    }\n    function innerDiffNode(dom, vchildren, context, mountAll, absorb) {\n        var j, c, vchild, child, originalChildren = dom.childNodes, children = [], keyed = {}, keyedLen = 0, min = 0, len = originalChildren.length, childrenLen = 0, vlen = vchildren && vchildren.length;\n        if (len) for (var i = 0; i < len; i++) {\n            var _child = originalChildren[i], props = _child[ATTR_KEY], key = vlen ? (c = _child._component) ? c.__key : props ? props.key : null : null;\n            if (null != key) {\n                keyedLen++;\n                keyed[key] = _child;\n            } else if (hydrating || absorb || props || _child instanceof Text) children[childrenLen++] = _child;\n        }\n        if (vlen) for (var i = 0; i < vlen; i++) {\n            vchild = vchildren[i];\n            child = null;\n            var key = vchild.key;\n            if (null != key) {\n                if (keyedLen && key in keyed) {\n                    child = keyed[key];\n                    keyed[key] = void 0;\n                    keyedLen--;\n                }\n            } else if (!child && min < childrenLen) for (j = min; j < childrenLen; j++) {\n                c = children[j];\n                if (c && isSameNodeType(c, vchild)) {\n                    child = c;\n                    children[j] = void 0;\n                    if (j === childrenLen - 1) childrenLen--;\n                    if (j === min) min++;\n                    break;\n                }\n            }\n            child = idiff(child, vchild, context, mountAll);\n            if (child && child !== dom) if (i >= len) dom.appendChild(child); else if (child !== originalChildren[i]) {\n                if (child === originalChildren[i + 1]) removeNode(originalChildren[i]);\n                dom.insertBefore(child, originalChildren[i] || null);\n            }\n        }\n        if (keyedLen) for (var i in keyed) if (keyed[i]) recollectNodeTree(keyed[i]);\n        while (min <= childrenLen) {\n            child = children[childrenLen--];\n            if (child) recollectNodeTree(child);\n        }\n    }\n    function recollectNodeTree(node, unmountOnly) {\n        var component = node._component;\n        if (component) unmountComponent(component, !unmountOnly); else {\n            if (node[ATTR_KEY] && node[ATTR_KEY].ref) node[ATTR_KEY].ref(null);\n            if (!unmountOnly) collectNode(node);\n            var c;\n            while (c = node.lastChild) recollectNodeTree(c, unmountOnly);\n        }\n    }\n    function diffAttributes(dom, attrs, old) {\n        var name;\n        for (name in old) if (!(attrs && name in attrs) && null != old[name]) setAccessor(dom, name, old[name], old[name] = void 0, isSvgMode);\n        if (attrs) for (name in attrs) if (!('children' === name || 'innerHTML' === name || name in old && attrs[name] === ('value' === name || 'checked' === name ? dom[name] : old[name]))) setAccessor(dom, name, old[name], old[name] = attrs[name], isSvgMode);\n    }\n    function collectComponent(component) {\n        var name = component.constructor.name, list = components[name];\n        if (list) list.push(component); else components[name] = [ component ];\n    }\n    function createComponent(Ctor, props, context) {\n        var inst = new Ctor(props, context), list = components[Ctor.name];\n        Component.call(inst, props, context);\n        if (list) for (var i = list.length; i--; ) if (list[i].constructor === Ctor) {\n            inst.nextBase = list[i].nextBase;\n            list.splice(i, 1);\n            break;\n        }\n        return inst;\n    }\n    function setComponentProps(component, props, opts, context, mountAll) {\n        if (!component._disable) {\n            component._disable = !0;\n            if (component.__ref = props.ref) delete props.ref;\n            if (component.__key = props.key) delete props.key;\n            if (!component.base || mountAll) {\n                if (component.componentWillMount) component.componentWillMount();\n            } else if (component.componentWillReceiveProps) component.componentWillReceiveProps(props, context);\n            if (context && context !== component.context) {\n                if (!component.prevContext) component.prevContext = component.context;\n                component.context = context;\n            }\n            if (!component.prevProps) component.prevProps = component.props;\n            component.props = props;\n            component._disable = !1;\n            if (0 !== opts) if (1 === opts || options.syncComponentUpdates !== !1 || !component.base) renderComponent(component, 1, mountAll); else enqueueRender(component);\n            if (component.__ref) component.__ref(component);\n        }\n    }\n    function renderComponent(component, opts, mountAll, isChild) {\n        if (!component._disable) {\n            var skip, rendered, inst, cbase, props = component.props, state = component.state, context = component.context, previousProps = component.prevProps || props, previousState = component.prevState || state, previousContext = component.prevContext || context, isUpdate = component.base, nextBase = component.nextBase, initialBase = isUpdate || nextBase, initialChildComponent = component._component;\n            if (isUpdate) {\n                component.props = previousProps;\n                component.state = previousState;\n                component.context = previousContext;\n                if (2 !== opts && component.shouldComponentUpdate && component.shouldComponentUpdate(props, state, context) === !1) skip = !0; else if (component.componentWillUpdate) component.componentWillUpdate(props, state, context);\n                component.props = props;\n                component.state = state;\n                component.context = context;\n            }\n            component.prevProps = component.prevState = component.prevContext = component.nextBase = null;\n            component._dirty = !1;\n            if (!skip) {\n                if (component.render) rendered = component.render(props, state, context);\n                if (component.getChildContext) context = extend(clone(context), component.getChildContext());\n                while (isFunctionalComponent(rendered)) rendered = buildFunctionalComponent(rendered, context);\n                var toUnmount, base, childComponent = rendered && rendered.nodeName;\n                if (isFunction(childComponent)) {\n                    var childProps = getNodeProps(rendered);\n                    inst = initialChildComponent;\n                    if (inst && inst.constructor === childComponent && childProps.key == inst.__key) setComponentProps(inst, childProps, 1, context); else {\n                        toUnmount = inst;\n                        inst = createComponent(childComponent, childProps, context);\n                        inst.nextBase = inst.nextBase || nextBase;\n                        inst._parentComponent = component;\n                        component._component = inst;\n                        setComponentProps(inst, childProps, 0, context);\n                        renderComponent(inst, 1, mountAll, !0);\n                    }\n                    base = inst.base;\n                } else {\n                    cbase = initialBase;\n                    toUnmount = initialChildComponent;\n                    if (toUnmount) cbase = component._component = null;\n                    if (initialBase || 1 === opts) {\n                        if (cbase) cbase._component = null;\n                        base = diff(cbase, rendered, context, mountAll || !isUpdate, initialBase && initialBase.parentNode, !0);\n                    }\n                }\n                if (initialBase && base !== initialBase && inst !== initialChildComponent) {\n                    var baseParent = initialBase.parentNode;\n                    if (baseParent && base !== baseParent) {\n                        baseParent.replaceChild(base, initialBase);\n                        if (!toUnmount) {\n                            initialBase._component = null;\n                            recollectNodeTree(initialBase);\n                        }\n                    }\n                }\n                if (toUnmount) unmountComponent(toUnmount, base !== initialBase);\n                component.base = base;\n                if (base && !isChild) {\n                    var componentRef = component, t = component;\n                    while (t = t._parentComponent) (componentRef = t).base = base;\n                    base._component = componentRef;\n                    base._componentConstructor = componentRef.constructor;\n                }\n            }\n            if (!isUpdate || mountAll) mounts.unshift(component); else if (!skip) {\n                if (component.componentDidUpdate) component.componentDidUpdate(previousProps, previousState, previousContext);\n                if (options.afterUpdate) options.afterUpdate(component);\n            }\n            var fn, cb = component._renderCallbacks;\n            if (cb) while (fn = cb.pop()) fn.call(component);\n            if (!diffLevel && !isChild) flushMounts();\n        }\n    }\n    function buildComponentFromVNode(dom, vnode, context, mountAll) {\n        var c = dom && dom._component, originalComponent = c, oldDom = dom, isDirectOwner = c && dom._componentConstructor === vnode.nodeName, isOwner = isDirectOwner, props = getNodeProps(vnode);\n        while (c && !isOwner && (c = c._parentComponent)) isOwner = c.constructor === vnode.nodeName;\n        if (c && isOwner && (!mountAll || c._component)) {\n            setComponentProps(c, props, 3, context, mountAll);\n            dom = c.base;\n        } else {\n            if (originalComponent && !isDirectOwner) {\n                unmountComponent(originalComponent, !0);\n                dom = oldDom = null;\n            }\n            c = createComponent(vnode.nodeName, props, context);\n            if (dom && !c.nextBase) {\n                c.nextBase = dom;\n                oldDom = null;\n            }\n            setComponentProps(c, props, 1, context, mountAll);\n            dom = c.base;\n            if (oldDom && dom !== oldDom) {\n                oldDom._component = null;\n                recollectNodeTree(oldDom);\n            }\n        }\n        return dom;\n    }\n    function unmountComponent(component, remove) {\n        if (options.beforeUnmount) options.beforeUnmount(component);\n        var base = component.base;\n        component._disable = !0;\n        if (component.componentWillUnmount) component.componentWillUnmount();\n        component.base = null;\n        var inner = component._component;\n        if (inner) unmountComponent(inner, remove); else if (base) {\n            if (base[ATTR_KEY] && base[ATTR_KEY].ref) base[ATTR_KEY].ref(null);\n            component.nextBase = base;\n            if (remove) {\n                removeNode(base);\n                collectComponent(component);\n            }\n            var c;\n            while (c = base.lastChild) recollectNodeTree(c, !remove);\n        }\n        if (component.__ref) component.__ref(null);\n        if (component.componentDidUnmount) component.componentDidUnmount();\n    }\n    function Component(props, context) {\n        this._dirty = !0;\n        this.context = context;\n        this.props = props;\n        if (!this.state) this.state = {};\n    }\n    function render(vnode, parent, merge) {\n        return diff(merge, vnode, {}, !1, parent);\n    }\n    var options = {};\n    var stack = [];\n    var EMPTY_CHILDREN = [];\n    var lcCache = {};\n    var toLowerCase = function(s) {\n        return lcCache[s] || (lcCache[s] = s.toLowerCase());\n    };\n    var resolved = 'undefined' != typeof Promise && Promise.resolve();\n    var defer = resolved ? function(f) {\n        resolved.then(f);\n    } : setTimeout;\n    var EMPTY = {};\n    var ATTR_KEY = 'undefined' != typeof Symbol ? Symbol.for('preactattr') : '__preactattr_';\n    var NON_DIMENSION_PROPS = {\n        boxFlex: 1,\n        boxFlexGroup: 1,\n        columnCount: 1,\n        fillOpacity: 1,\n        flex: 1,\n        flexGrow: 1,\n        flexPositive: 1,\n        flexShrink: 1,\n        flexNegative: 1,\n        fontWeight: 1,\n        lineClamp: 1,\n        lineHeight: 1,\n        opacity: 1,\n        order: 1,\n        orphans: 1,\n        strokeOpacity: 1,\n        widows: 1,\n        zIndex: 1,\n        zoom: 1\n    };\n    var NON_BUBBLING_EVENTS = {\n        blur: 1,\n        error: 1,\n        focus: 1,\n        load: 1,\n        resize: 1,\n        scroll: 1\n    };\n    var items = [];\n    var nodes = {};\n    var mounts = [];\n    var diffLevel = 0;\n    var isSvgMode = !1;\n    var hydrating = !1;\n    var components = {};\n    extend(Component.prototype, {\n        linkState: function(key, eventPath) {\n            var c = this._linkedStates || (this._linkedStates = {});\n            return c[key + eventPath] || (c[key + eventPath] = createLinkedState(this, key, eventPath));\n        },\n        setState: function(state, callback) {\n            var s = this.state;\n            if (!this.prevState) this.prevState = clone(s);\n            extend(s, isFunction(state) ? state(s, this.props) : state);\n            if (callback) (this._renderCallbacks = this._renderCallbacks || []).push(callback);\n            enqueueRender(this);\n        },\n        forceUpdate: function() {\n            renderComponent(this, 2);\n        },\n        render: function() {}\n    });\n    exports.h = h;\n    exports.cloneElement = cloneElement;\n    exports.Component = Component;\n    exports.render = render;\n    exports.rerender = rerender;\n    exports.options = options;\n});\n//# sourceMappingURL=preact.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/preact/dist/preact.js\n// module id = 0\n// module chunks = 0","\nexport function openLink(e) {\n  e.preventDefault();\n  if (e.target.href) {\n    chrome.tabs.create({ url: e.target.href });\n  }\n}\n\nexport function clone(obj) {\n  return JSON.parse(JSON.stringify(obj));\n}\n\nexport function getAuthTab() {\n  return new Promise(function(resolve, reject) {\n    chrome.tabs.query({url: 'http://omnibear.com/auth/success*'}, function(tabs) {\n      if (tabs.length) {\n        resolve(tabs[0]);\n      } else {\n        reject('Auth tab not found');\n      }\n  });\n});\n}\n\nexport function logout() {\n  const items = ['token', 'domain', 'authEndpoint', 'tokenEndpoint', 'micropubEndpoint'];\n  items.map((item) => localStorage.removeItem(item));\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/util/utils.js","\nexport const NEW_NOTE = 'new-note';\nexport const PAGE_REPLY = 'page-reply';\nexport const ITEM_REPLY = 'item-reply';\n\nexport const MESSAGE_SUCCESS = 'success';\nexport const MESSAGE_ERROR = 'error';\n\n\n\n// WEBPACK FOOTER //\n// ./src/constants.js","\n// TODO: refactor\nexport function post (url, payload) {\n  var params;\n  if (typeof payload === 'string') {\n    params = payload;\n  } else {\n    params = getParamString(payload);\n  }\n  return fetch(`${url}?${params}`, {\n    method: 'POST',\n  })\n  .then(function (res) {\n    return res.text();\n  });\n}\n\nexport function getParamString (payload) {\n  var params = [];\n  for (var prop in payload) {\n    const value = payload[prop];\n    if (Array.isArray(value)) {\n      for (let val of value) {\n        params.push(`${prop}[]=${val}`);\n      }\n    } else {\n      params.push(`${prop}=${value}`);\n    }\n  }\n  return params.join('&');\n}\n\nexport function formEncodedToObject(formString) {\n  const data = {};\n  const parts = formString.split('&');\n  parts.forEach((param, i) => {\n    const [key, val] = param.split('=');\n    const value = decodeURIParam(val);\n    if (key.endsWith('[]')) {\n      const k = key.substr(0, key.length-2);\n      data[k] = data[k] || [];\n      data[k].push(value);\n    } else {\n      data[key] = value;\n    }\n  });\n  return data;\n}\n\nfunction decodeURIParam(param) {\n  const str = param.replace(/\\+/g, ' ');\n  return decodeURIComponent(str);\n}\n\n// x-www-form-urlencoded example: https://hacks.mozilla.org/2015/03/this-api-is-so-fetching/\n\nexport function postFormData(url, payload, token) {\n  return new Promise(function (resolve, reject) {\n    fetch(url, {\n      method: 'POST',\n      headers: {\n        'Authorization': `Bearer ${token}`,\n      },\n      body: formDataFromObject(payload),\n    })\n    .then(function (res) {\n      if (res.status < 200 || res.status >= 400) {\n        return reject(res.status);\n      }\n      // TODO: get location/url of post & display somehow\n      // res.headers.get('Location') -> null -- CORS blocking?\n      resolve(res.text());\n    });\n  });\n}\n\nexport function formDataFromObject(obj) {\n  var data = new FormData();\n  for (var fieldName in obj) {\n    if (Array.isArray(obj[fieldName])) {\n      obj[fieldName].forEach((val, k) => {\n        data.append(fieldName, val);\n      });\n    } else {\n      data.append(fieldName, obj[fieldName]);\n    }\n  }\n  return data;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/util/requests.js","import { h, Component } from 'preact';\nimport {MESSAGE_SUCCESS, MESSAGE_ERROR, MESSAGE_INFO} from '../constants';\n\nexport default class Message extends Component {\n  render() {\n    return (\n      <div className={this.getClass()}>{this.props.children}</div>\n    );\n  }\n\n  getClass() {\n    const types = {\n      [MESSAGE_INFO]: 'message message--info',\n      [MESSAGE_SUCCESS]: 'message message--success',\n      [MESSAGE_ERROR]: 'message message--danger',\n    }\n    return types[this.props.type] || types[MESSAGE_INFO];\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Message.js","import { h, Component } from 'preact';\nimport LoginForm from './loginForm';\nimport NoteForm from './NoteForm';\nimport Message from './Message';\nimport {logout} from '../util/utils';\n\nexport default class App extends Component {\n  constructor(props) {\n    super(props);\n    if (this.isAuthenticated()) {\n      this.setState({\n        currentView: 'new-note'\n      });\n    } else {\n      this.setState({\n        currentView: 'login'\n      });\n    }\n  }\n\n  render() {\n    switch (this.state.currentView) {\n      case 'login':\n        return <LoginForm />;\n      case 'feedback':\n        return <Message>{this.state.message}</Message>;\n      default:\n        return <NoteForm handleLogout={this.handleLogout} userFeedback={this.displayMessage}/>\n    }\n  }\n\n  isAuthenticated() {\n    return !!localStorage.getItem('token');\n  }\n\n  displayMessage = (message) => {\n    this.setState({\n      currentView: 'feedback',\n      message: message,\n    });\n  }\n\n  handleLogout = () => {\n    logout();\n    this.setState({currentView: 'login'});\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/App.js","import { h, Component } from 'preact';\nimport LinkButton from './LinkButton';\nimport {NEW_NOTE, PAGE_REPLY, ITEM_REPLY} from '../constants';\n\n\nexport default class ChangeViewButtons extends Component {\n  render() {\n    const postType = this.props.postType;\n    return (\n      <div className=\"inline-links\">\n        {this.renderNewNote()}\n        {this.renderPageReply()}\n        {this.renderItemReply()}\n      </div>\n    );\n  }\n\n  renderNewNote() {\n    if (this.props.postType === NEW_NOTE) {\n      return (<span>New note</span>);\n    } else {\n      return (\n        <LinkButton onClick={this.switchTo(NEW_NOTE)}>New note</LinkButton>\n      );\n    }\n  }\n\n  renderPageReply() {\n    if (this.props.postType === PAGE_REPLY) {\n      return (<span>Current page</span>);\n    } else {\n      return (\n        <LinkButton onClick={this.switchTo(PAGE_REPLY)}>Current page</LinkButton>\n      );\n    }\n  }\n\n  renderItemReply() {\n    if (!this.props.hasSelectedEntry) {\n      return (<span className=\"disabled\">Selected entry</span>);\n    } else if (this.props.postType === ITEM_REPLY) {\n      return (<span>Selected entry</span>);\n    } else {\n      return (\n        <LinkButton onClick={this.switchTo(ITEM_REPLY)}>Selected entry</LinkButton>\n      );\n    }\n  }\n\n  switchTo(postType) {\n    return () => {\n      this.props.onChange(postType);\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/ChangeViewButtons.js","import { h, Component } from 'preact';\n\n\nexport default class Footer extends Component {\n  render() {\n    return (\n      <footer className=\"footer\">\n        <div>\n          Authenticated to <strong>{this.props.domain}</strong>\n        </div>\n        <button className=\"button-link\" onClick={this.handleClick}>Logout</button>\n      </footer>\n    );\n  }\n\n  handleClick = (e) => {\n    e.preventDefault();\n    this.props.onLogout();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Footer.js","import { h, Component } from 'preact';\nimport {clone} from '../util/utils';\n\n\nexport default class FormInputs extends Component {\n  componentDidMount() {\n    setTimeout(this.focus, 150);\n  }\n\n  render() {\n    return (\n      <form onSubmit={this.onSubmit}>\n        <div>\n          <label for=\"input-content\">Content</label>\n          <textarea\n            id=\"input-content\"\n            value={this.props.entry.content}\n            onKeyup={this.updateField('content')}\n            rows=\"4\"\n            disabled={this.props.isDisabled}\n            ref={(el) => {this.content = el;}}\n          />\n        </div>\n        <div>\n          <label for=\"input-tags\">Tags</label>\n          <input\n            id=\"input-tags\"\n            type=\"text\"\n            placeholder=\"e.g. web, personal\"\n            value={this.props.entry.tags.join(' ')}\n            onChange={this.updateFieldArray('tags')}\n            disabled={this.props.isDisabled}\n          />\n        </div>\n        <div>\n          <label for=\"input-slug\">Slug</label>\n          <input\n            id=\"input-slug\"\n            type=\"text\"\n            name=\"mp-slug\"\n            value={this.props.entry['mp-slug']}\n            onChange={this.updateField('mp-slug')}\n            disabled={this.props.isDisabled}\n          />\n        </div>\n        <button\n          type=\"submit\"\n          disabled={this.props.isDisabled || !this.props.entry.content}\n          className={this.props.isLoading ? 'is-loading' : ''}\n        >Post</button>\n      </form>\n    );\n  }\n\n  focus = () => {\n    this.content.focus();\n  }\n\n  updateField(fieldName) {\n    return (e) => {\n      e.preventDefault();\n      var entry = clone(this.props.entry);\n      entry[fieldName] = e.target.value;\n      this.props.updateEntry(entry);\n    }\n  }\n\n  updateFieldArray(fieldName) {\n    return (e) => {\n      e.preventDefault();\n      var entry = clone(this.props.entry);\n      entry[fieldName] = e.target.value.trim().split(' ');\n      this.props.updateEntry(entry);\n    }\n  }\n\n  onSubmit = (e) => {\n    e.preventDefault();\n    this.props.onSubmit(this.props.entry);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/FormInputs.js","import { h, Component } from 'preact';\nimport {NEW_NOTE, PAGE_REPLY, ITEM_REPLY} from '../constants';\n\n\nexport default class NoteForm extends Component {\n  render() {\n    return (\n      <header className={this.getClass()}>\n        <div>\n          {this.getMessage()}\n          {\n            this.props.url\n            ? <div class=\"metadata\">{this.props.url}</div>\n            : null\n          }\n        </div>\n        {this.renderQuickActions()}\n      </header>\n    );\n  }\n\n  getClass() {\n    var classNames = {};\n    classNames[NEW_NOTE] = 'header header--new';\n    classNames[PAGE_REPLY] = 'header header--page';\n    classNames[ITEM_REPLY] = 'header header--item';\n    return classNames[this.props.postType];\n  }\n\n  getMessage() {\n    var messages = {};\n    messages[NEW_NOTE] = 'New Note';\n    messages[PAGE_REPLY] = 'Reply to current page';\n    messages[ITEM_REPLY] = 'Reply to selected entry';\n    return messages[this.props.postType];\n  }\n\n  renderQuickActions() {\n    if (!this.props.url) {\n      return null;\n    }\n\n    return (\n      <ul className=\"quick-actions\">\n        <li><button onClick={this.props.onRepost}>repost</button></li>\n        <li><button onClick={this.props.onLike}>like</button></li>\n      </ul>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Header.js","import { h, Component } from 'preact';\n\n\nexport default class LinkButton extends Component {\n  render() {\n    return (\n      <button\n        className=\"button-link\"\n        onClick={this.handleClick}\n      >{this.props.children}</button>\n    );\n  }\n\n  handleClick = (e) => {\n    e.preventDefault();\n    this.props.onClick();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/LinkButton.js","import { h, Component } from 'preact';\nimport Header from './Header';\nimport Message from './Message';\nimport ChangeViewButtons from './ChangeViewButtons';\nimport FormInputs from './FormInputs';\nimport Footer from './Footer';\nimport {postFormData} from '../util/requests';\nimport {NEW_NOTE, PAGE_REPLY, ITEM_REPLY, MESSAGE_SUCCESS, MESSAGE_ERROR} from '../constants';\n\n\nexport default class NoteForm extends Component {\n  constructor(props) {\n    super(props);\n    let entryUrl = null;\n    let postType;\n    const selectedEntry = localStorage.getItem('selectedEntry');\n    if (location.search.indexOf('reply=true') === -1) {\n      postType = NEW_NOTE;\n    } else {\n      if (selectedEntry) {\n        postType = ITEM_REPLY;\n        entryUrl = selectedEntry;\n      } else {\n        postType = PAGE_REPLY;\n        entryUrl = localStorage.getItem('pageUrl');\n      }\n    }\n    this.state = {\n      postType: postType,\n      url: entryUrl,\n      userDomain: localStorage.getItem('domain'),\n      entry: {\n        'h': 'entry',\n        'content': '',\n        'tags': [],\n        'mp-slug': '',\n      },\n      hasSelectedEntry: !!selectedEntry,\n      isDisabled: false,\n      isLoading: false,\n    };\n  }\n\n  render() {\n    return (\n      <div>\n        <Header\n          postType={this.state.postType}\n          url={this.state.url}\n          onLike={this.handleLike}\n          onRepost={this.handleRepost}\n        />\n        <div className=\"container\">\n          <div className=\"text-right\">\n            <ChangeViewButtons\n              postType={this.state.postType}\n              onChange={this.changeView}\n              hasSelectedEntry={this.state.hasSelectedEntry}\n            />\n          </div>\n          <FormInputs\n            entry={this.state.entry}\n            updateEntry={this.updateEntry}\n            onSubmit={this.handleSubmit}\n            isDisabled={this.state.isDisabled}\n            isLoading={this.state.isLoading}\n            ref={(el) => this.form = el}\n          />\n          {\n            this.state.errorMessage\n            ? <Message type={MESSAGE_ERROR}>{this.state.errorMessage}</Message>\n            : null\n          }\n        </div>\n        <Footer domain={this.state.userDomain} onLogout={this.props.handleLogout} />\n      </div>\n    );\n  }\n\n  handleLike = () => {\n    if (!this.state.url) { return; }\n    this.postEntry({\n      'h': 'entry',\n      'like-of': this.state.url,\n    })\n    .then(() => {\n      const type = (this.state.postType === ITEM_REPLY) ? 'Item' : 'Page';\n      this.flashSuccessMessage(`${type} liked successfully`);\n    }).catch((err) => {\n      console.error(err);\n      this.flashErrorMessage('Error posting like');\n    });\n  }\n\n  handleRepost = () => {\n    if (!this.state.url) { return; }\n    this.postEntry({\n      'h': 'entry',\n      'repost-of': this.state.url,\n    })\n    .then(() => {\n      const type = (this.state.postType === ITEM_REPLY) ? 'Item' : 'Page';\n      this.flashSuccessMessage(`${type} reposted successfully`);\n    }).catch((err) => {\n      console.error(err);\n      this.flashErrorMessage('Error reposting');\n    });\n  }\n\n  updateEntry = (newEntry) => {\n    this.setState({entry: newEntry});\n  }\n\n  flashSuccessMessage(message) {\n    this.props.userFeedback(message, MESSAGE_SUCCESS);\n    setTimeout(() => {\n      window.close();\n    }, 3000);\n  }\n\n  flashErrorMessage(message) {\n    this.setState({\n      errorMessage: message,\n      isDisabled: false,\n      isLoading: false,\n    });\n    setTimeout(() => {\n      if (this.state.errorMessage === message) {\n        this.setState({errorMessage: false});\n      }\n    }, 4000);\n  }\n\n  handleSubmit = (entry) => {\n    if (this.state.postType !== NEW_NOTE) {\n      entry['in-reply-to'] = this.state.url;\n    }\n    this.postEntry(entry)\n    .then(() => {\n      const type = (this.state.postType === NEW_NOTE) ? 'Note' : 'Reply';\n      this.flashSuccessMessage(`${type} posted successfully`);\n    }).catch((err) => {\n      this.flashErrorMessage('Error posting Note');\n    });\n  }\n\n  postEntry(entry) {\n    const endpoint = localStorage.getItem('micropubEndpoint')\n    const token = localStorage.getItem('token');\n    this.setState({\n      isDisabled: true,\n      isLoading: true,\n    });\n    return postFormData(endpoint, entry, token);\n  }\n\n  changeView = (postType) => {\n    let url;\n    switch (postType) {\n      case NEW_NOTE:\n        url = null;\n        break;\n      case PAGE_REPLY:\n        url = localStorage.getItem('pageUrl');\n        break;\n      case ITEM_REPLY:\n        url = localStorage.getItem('selectedEntry');\n        break;\n    }\n    this.setState({url, postType});\n    this.form.focus();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/NoteForm.js","import { h, Component } from 'preact';\nimport Message from './Message';\nimport { openLink } from '../util/utils';\nimport { fetchSiteMetadata } from '../util/parseSite'\n\nexport default class LoginForm extends Component {\n  componentDidMount() {\n    setTimeout(() => {\n      this.input.focus();\n    }, 150);\n  }\n\n  render() {\n    return (\n      <form class=\"container\" method=\"GET\" onSubmit={this.handleSubmit}>\n        <p>To use Omnibear, sign in with your domain. Your website will need to\n        support{' '}\n        <a href=\"http://indieweb.org/micropub\" onClick={openLink}>Micropub</a>\n        {' '}for creating new posts.</p>\n\n        <div class=\"fields-inline\">\n          <input\n            type=\"text\"\n            name=\"me\"\n            placeholder=\"https://example.com\"\n            className=\"fields-inline__fill\"\n            value={this.state.domain}\n            onKeyUp={this.handleChange}\n            disabled={this.state.isLoading}\n            ref={(el) => this.input = el}\n          />\n          <button\n            type=\"submit\"\n            disabled={this.state.isLoading}\n            className={this.state.isLoading ? 'is-loading' : ''}\n          >\n            Sign in\n          </button>\n        </div>\n\n        { this.state.hasErrors ? <Message type=\"error\">{this.state.errorMessage || 'Error'}</Message> : null }\n      </form>\n    );\n  }\n\n  handleChange = (e) => {\n    this.setState({\n      domain: e.target.value,\n      hasErrors: false,\n    });\n  }\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    const domain = this.getNormalizedDomain();\n    this.setState({isLoading: true, domain});\n    fetchSiteMetadata(domain)\n    .then((data) => {\n      if (!data.authEndpoint || !data.tokenEndpoint || !data.micropub) {\n        return this.setState({\n          hasErrors: true,\n          errorMessage: `Missing micropub data on ${this.state.domain}. Please ensure the following links are present: authorization_endpoint, token_endpoint, micropub`,\n          isLoading: false,\n        });\n      }\n      const url = `${data.authEndpoint}?${this.getFields(this.state.domain)}`\n      chrome.runtime.sendMessage({\n        action: 'begin-auth',\n        payload: {\n          authUrl: url,\n          domain: this.state.domain,\n          metadata: data,\n        }\n      });\n    }).catch((err) => {\n      this.setState({\n        hasErrors: true,\n        errorMessage: `Error fetching page: ${this.state.domain}`,\n        isLoading: false,\n      });\n    });\n  }\n\n  getNormalizedDomain() {\n    if (this.state.domain.startsWith('http://') || this.state.domain.startsWith('https://')) {\n      return this.state.domain;\n    } else {\n      return `http://${this.state.domain}`;\n    }\n  }\n\n  getFields(domain) {\n    return ([\n      'redirect_uri=http://omnibear.com/auth/success/',\n      'client_id=http://omnibear.com',\n      'response_type=code',\n      'scope=create',\n      `me=${domain}`\n    ]).join('&');\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/loginForm.js","\nfunction getLinkValue(page, rel) {\n  var link = page.querySelector(`link[rel=\"${rel}\"]`);\n  if (link) {\n    return link.href;\n  } else {\n    return null;\n  }\n}\n\nfunction fetchSiteMetadata(url) {\n  return fetch(url)\n  .then(function (res) {\n    return res.text();\n  }).then(function (content) {\n    var page = document.createElement('html');\n    page.innerHTML = content;\n    return {\n      authEndpoint: getLinkValue(page, 'authorization_endpoint'),\n      tokenEndpoint: getLinkValue(page, 'token_endpoint'),\n      micropub: getLinkValue(page, 'micropub')\n    };\n  });\n}\n\nmodule.exports = {\n  getLinkValue, getLinkValue,\n  fetchSiteMetadata: fetchSiteMetadata\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/util/parseSite.js","import { h, render } from 'preact';\nimport App from './components/App';\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  render(<App/>, document.body);\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js"],"sourceRoot":""}