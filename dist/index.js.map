{"version":3,"sources":["webpack:///index.js","webpack:///webpack/bootstrap d9c754abc6f31d9bae81","webpack:///./~/preact/dist/preact.js","webpack:///./src/constants.js","webpack:///./src/util/requests.js","webpack:///./src/components/Message.js","webpack:///./src/util/utils.js","webpack:///./src/components/App.js","webpack:///./src/components/ChangeViewButtons.js","webpack:///./src/components/Footer.js","webpack:///./src/components/FormInputs.js","webpack:///./src/components/Header.js","webpack:///./src/components/LinkButton.js","webpack:///./src/components/NoteForm.js","webpack:///./src/components/loginForm.js","webpack:///./src/util/parseSite.js","webpack:///./src/index.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","global","factory","this","VNode","nodeName","attributes","children","key","h","lastSimple","child","simple","arguments","length","stack","push","pop","Array","String","EMPTY_CHILDREN","options","vnode","extend","obj","props","clone","delve","split","isFunction","isString","hashToClassName","str","prop","cloneElement","slice","createLinkedState","component","eventPath","path","e","t","target","state","v","type","match","checked","setState","enqueueRender","_dirty","items","debounceRendering","defer","rerender","list","renderComponent","isFunctionalComponent","render","buildFunctionalComponent","context","getNodeProps","EMPTY","isSameNodeType","node","Text","_componentConstructor","isNamedNode","normalizedNodeName","toLowerCase","defaultProps","removeNode","parentNode","removeChild","setAccessor","old","isSvg","style","cssText","NON_DIMENSION_PROPS","innerHTML","__html","_listeners","substring","addEventListener","eventProxy","NON_BUBBLING_EVENTS","removeEventListener","setProperty","removeAttribute","ns","removeAttributeNS","setAttributeNS","setAttribute","className","event","collectNode","Element","_component","_name","nodes","createNode","document","createElementNS","createElement","flushMounts","mounts","afterMount","componentDidMount","diff","dom","mountAll","parent","componentRoot","diffLevel","isSvgMode","ownerSVGElement","hydrating","ATTR_KEY","ret","idiff","appendChild","ref","nodeValue","recollectNodeTree","createTextNode","buildComponentFromVNode","out","prevSvgMode","vchildren","firstChild","replaceChild","fc","a","nextSibling","innerDiffNode","dangerouslySetInnerHTML","diffAttributes","absorb","j","vchild","originalChildren","childNodes","keyed","keyedLen","min","len","childrenLen","vlen","_child","__key","insertBefore","unmountOnly","unmountComponent","lastChild","attrs","collectComponent","constructor","components","createComponent","Ctor","inst","Component","nextBase","splice","setComponentProps","opts","_disable","__ref","base","componentWillMount","componentWillReceiveProps","prevContext","prevProps","syncComponentUpdates","isChild","skip","rendered","cbase","previousProps","previousState","prevState","previousContext","isUpdate","initialBase","initialChildComponent","shouldComponentUpdate","componentWillUpdate","getChildContext","toUnmount","childComponent","childProps","_parentComponent","baseParent","componentRef","unshift","componentDidUpdate","afterUpdate","fn","cb","_renderCallbacks","originalComponent","oldDom","isDirectOwner","isOwner","remove","beforeUnmount","componentWillUnmount","inner","componentDidUnmount","merge","lcCache","resolved","Promise","resolve","f","then","setTimeout","Symbol","for","boxFlex","boxFlexGroup","columnCount","fillOpacity","flex","flexGrow","flexPositive","flexShrink","flexNegative","fontWeight","lineClamp","lineHeight","opacity","order","orphans","strokeOpacity","widows","zIndex","zoom","blur","error","focus","load","resize","scroll","linkState","_linkedStates","callback","forceUpdate","NEW_NOTE","PAGE_REPLY","ITEM_REPLY","MESSAGE_SUCCESS","MESSAGE_ERROR","post","url","payload","body","console","warn","params","getParamString","fetch","method","headers","Accept","Content-Type","JSON","stringify","res","text","join","postMicropub","form","token","Authorization","FormData","postFormData","reject","formDataFromObject","status","data","fieldName","isArray","forEach","val","k","append","_defineProperty","writable","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","setPrototypeOf","__proto__","_createClass","defineProperties","descriptor","protoProps","staticProps","_preact","_constants","Message","_Component","getPrototypeOf","apply","getClass","_types","types","default","openLink","preventDefault","href","chrome","tabs","parse","_interopRequireDefault","_loginForm","_loginForm2","_NoteForm","_NoteForm2","_Message","_Message2","App","_this","displayMessage","message","currentView","handleLogout","map","item","localStorage","removeItem","isAuthenticated","userFeedback","getItem","_LinkButton","_LinkButton2","ChangeViewButtons","postType","renderNewNote","renderPageReply","renderItemReply","onClick","switchTo","hasSelectedEntry","_this2","onChange","Footer","_ref","_temp","_ret","_len","args","_key","concat","handleClick","onLogout","domain","_utils","FormInputs","content","onSubmit","entry","id","onKeyup","updateField","rows","disabled","isDisabled","el","placeholder","tags","updateFieldArray","_this3","updateEntry","_this4","trim","NoteForm","getMessage","class","renderQuickActions","classNames","messages","onRepost","onLike","LinkButton","_Header","_Header2","_ChangeViewButtons","_ChangeViewButtons2","_FormInputs","_FormInputs2","_Footer","_Footer2","_requests","_initialiseProps","entryUrl","selectedEntry","location","search","indexOf","userDomain","mp-slug","handleLike","handleRepost","changeView","handleSubmit","errorMessage","window","close","endpoint","postEntry","like-of","flashSuccessMessage","catch","err","flashErrorMessage","repost-of","newEntry","_parseSite","LoginForm","handleChange","hasErrors","isLoading","fetchSiteMetadata","authEndpoint","tokenEndpoint","micropub","getFields","runtime","sendMessage","action","authUrl","metadata","input","onKeyUp","getLinkValue","page","rel","link","querySelector","_module$exports","_App","_App2"],"mappings":"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","file":"index.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 18);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n!function(global, factory) {\n     true ? factory(exports) : 'function' == typeof define && define.amd ? define([ 'exports' ], factory) : factory(global.preact = global.preact || {});\n}(this, function(exports) {\n    function VNode(nodeName, attributes, children) {\n        this.nodeName = nodeName;\n        this.attributes = attributes;\n        this.children = children;\n        this.key = attributes && attributes.key;\n    }\n    function h(nodeName, attributes) {\n        var children, lastSimple, child, simple, i;\n        for (i = arguments.length; i-- > 2; ) stack.push(arguments[i]);\n        if (attributes && attributes.children) {\n            if (!stack.length) stack.push(attributes.children);\n            delete attributes.children;\n        }\n        while (stack.length) if ((child = stack.pop()) instanceof Array) for (i = child.length; i--; ) stack.push(child[i]); else if (null != child && child !== !0 && child !== !1) {\n            if ('number' == typeof child) child = String(child);\n            simple = 'string' == typeof child;\n            if (simple && lastSimple) children[children.length - 1] += child; else {\n                (children || (children = [])).push(child);\n                lastSimple = simple;\n            }\n        }\n        var p = new VNode(nodeName, attributes || void 0, children || EMPTY_CHILDREN);\n        if (options.vnode) options.vnode(p);\n        return p;\n    }\n    function extend(obj, props) {\n        if (props) for (var i in props) obj[i] = props[i];\n        return obj;\n    }\n    function clone(obj) {\n        return extend({}, obj);\n    }\n    function delve(obj, key) {\n        for (var p = key.split('.'), i = 0; i < p.length && obj; i++) obj = obj[p[i]];\n        return obj;\n    }\n    function isFunction(obj) {\n        return 'function' == typeof obj;\n    }\n    function isString(obj) {\n        return 'string' == typeof obj;\n    }\n    function hashToClassName(c) {\n        var str = '';\n        for (var prop in c) if (c[prop]) {\n            if (str) str += ' ';\n            str += prop;\n        }\n        return str;\n    }\n    function cloneElement(vnode, props) {\n        return h(vnode.nodeName, extend(clone(vnode.attributes), props), arguments.length > 2 ? [].slice.call(arguments, 2) : vnode.children);\n    }\n    function createLinkedState(component, key, eventPath) {\n        var path = key.split('.');\n        return function(e) {\n            var t = e && e.target || this, state = {}, obj = state, v = isString(eventPath) ? delve(e, eventPath) : t.nodeName ? t.type.match(/^che|rad/) ? t.checked : t.value : e, i = 0;\n            for (;i < path.length - 1; i++) obj = obj[path[i]] || (obj[path[i]] = !i && component.state[path[i]] || {});\n            obj[path[i]] = v;\n            component.setState(state);\n        };\n    }\n    function enqueueRender(component) {\n        if (!component._dirty && (component._dirty = !0) && 1 == items.push(component)) (options.debounceRendering || defer)(rerender);\n    }\n    function rerender() {\n        var p, list = items;\n        items = [];\n        while (p = list.pop()) if (p._dirty) renderComponent(p);\n    }\n    function isFunctionalComponent(vnode) {\n        var nodeName = vnode && vnode.nodeName;\n        return nodeName && isFunction(nodeName) && !(nodeName.prototype && nodeName.prototype.render);\n    }\n    function buildFunctionalComponent(vnode, context) {\n        return vnode.nodeName(getNodeProps(vnode), context || EMPTY);\n    }\n    function isSameNodeType(node, vnode) {\n        if (isString(vnode)) return node instanceof Text;\n        if (isString(vnode.nodeName)) return !node._componentConstructor && isNamedNode(node, vnode.nodeName);\n        if (isFunction(vnode.nodeName)) return (node._componentConstructor ? node._componentConstructor === vnode.nodeName : !0) || isFunctionalComponent(vnode); else ;\n    }\n    function isNamedNode(node, nodeName) {\n        return node.normalizedNodeName === nodeName || toLowerCase(node.nodeName) === toLowerCase(nodeName);\n    }\n    function getNodeProps(vnode) {\n        var props = clone(vnode.attributes);\n        props.children = vnode.children;\n        var defaultProps = vnode.nodeName.defaultProps;\n        if (defaultProps) for (var i in defaultProps) if (void 0 === props[i]) props[i] = defaultProps[i];\n        return props;\n    }\n    function removeNode(node) {\n        var p = node.parentNode;\n        if (p) p.removeChild(node);\n    }\n    function setAccessor(node, name, old, value, isSvg) {\n        if ('className' === name) name = 'class';\n        if ('class' === name && value && 'object' == typeof value) value = hashToClassName(value);\n        if ('key' === name) ; else if ('class' === name && !isSvg) node.className = value || ''; else if ('style' === name) {\n            if (!value || isString(value) || isString(old)) node.style.cssText = value || '';\n            if (value && 'object' == typeof value) {\n                if (!isString(old)) for (var i in old) if (!(i in value)) node.style[i] = '';\n                for (var i in value) node.style[i] = 'number' == typeof value[i] && !NON_DIMENSION_PROPS[i] ? value[i] + 'px' : value[i];\n            }\n        } else if ('dangerouslySetInnerHTML' === name) {\n            if (value) node.innerHTML = value.__html || '';\n        } else if ('o' == name[0] && 'n' == name[1]) {\n            var l = node._listeners || (node._listeners = {});\n            name = toLowerCase(name.substring(2));\n            if (value) {\n                if (!l[name]) node.addEventListener(name, eventProxy, !!NON_BUBBLING_EVENTS[name]);\n            } else if (l[name]) node.removeEventListener(name, eventProxy, !!NON_BUBBLING_EVENTS[name]);\n            l[name] = value;\n        } else if ('list' !== name && 'type' !== name && !isSvg && name in node) {\n            setProperty(node, name, null == value ? '' : value);\n            if (null == value || value === !1) node.removeAttribute(name);\n        } else {\n            var ns = isSvg && name.match(/^xlink\\:?(.+)/);\n            if (null == value || value === !1) if (ns) node.removeAttributeNS('http://www.w3.org/1999/xlink', toLowerCase(ns[1])); else node.removeAttribute(name); else if ('object' != typeof value && !isFunction(value)) if (ns) node.setAttributeNS('http://www.w3.org/1999/xlink', toLowerCase(ns[1]), value); else node.setAttribute(name, value);\n        }\n    }\n    function setProperty(node, name, value) {\n        try {\n            node[name] = value;\n        } catch (e) {}\n    }\n    function eventProxy(e) {\n        return this._listeners[e.type](options.event && options.event(e) || e);\n    }\n    function collectNode(node) {\n        removeNode(node);\n        if (node instanceof Element) {\n            node._component = node._componentConstructor = null;\n            var _name = node.normalizedNodeName || toLowerCase(node.nodeName);\n            (nodes[_name] || (nodes[_name] = [])).push(node);\n        }\n    }\n    function createNode(nodeName, isSvg) {\n        var name = toLowerCase(nodeName), node = nodes[name] && nodes[name].pop() || (isSvg ? document.createElementNS('http://www.w3.org/2000/svg', nodeName) : document.createElement(nodeName));\n        node.normalizedNodeName = name;\n        return node;\n    }\n    function flushMounts() {\n        var c;\n        while (c = mounts.pop()) {\n            if (options.afterMount) options.afterMount(c);\n            if (c.componentDidMount) c.componentDidMount();\n        }\n    }\n    function diff(dom, vnode, context, mountAll, parent, componentRoot) {\n        if (!diffLevel++) {\n            isSvgMode = parent && 'undefined' != typeof parent.ownerSVGElement;\n            hydrating = dom && !(ATTR_KEY in dom);\n        }\n        var ret = idiff(dom, vnode, context, mountAll);\n        if (parent && ret.parentNode !== parent) parent.appendChild(ret);\n        if (!--diffLevel) {\n            hydrating = !1;\n            if (!componentRoot) flushMounts();\n        }\n        return ret;\n    }\n    function idiff(dom, vnode, context, mountAll) {\n        var ref = vnode && vnode.attributes && vnode.attributes.ref;\n        while (isFunctionalComponent(vnode)) vnode = buildFunctionalComponent(vnode, context);\n        if (null == vnode) vnode = '';\n        if (isString(vnode)) {\n            if (dom && dom instanceof Text && dom.parentNode) {\n                if (dom.nodeValue != vnode) dom.nodeValue = vnode;\n            } else {\n                if (dom) recollectNodeTree(dom);\n                dom = document.createTextNode(vnode);\n            }\n            return dom;\n        }\n        if (isFunction(vnode.nodeName)) return buildComponentFromVNode(dom, vnode, context, mountAll);\n        var out = dom, nodeName = String(vnode.nodeName), prevSvgMode = isSvgMode, vchildren = vnode.children;\n        isSvgMode = 'svg' === nodeName ? !0 : 'foreignObject' === nodeName ? !1 : isSvgMode;\n        if (!dom) out = createNode(nodeName, isSvgMode); else if (!isNamedNode(dom, nodeName)) {\n            out = createNode(nodeName, isSvgMode);\n            while (dom.firstChild) out.appendChild(dom.firstChild);\n            if (dom.parentNode) dom.parentNode.replaceChild(out, dom);\n            recollectNodeTree(dom);\n        }\n        var fc = out.firstChild, props = out[ATTR_KEY];\n        if (!props) {\n            out[ATTR_KEY] = props = {};\n            for (var a = out.attributes, i = a.length; i--; ) props[a[i].name] = a[i].value;\n        }\n        if (!hydrating && vchildren && 1 === vchildren.length && 'string' == typeof vchildren[0] && fc && fc instanceof Text && !fc.nextSibling) {\n            if (fc.nodeValue != vchildren[0]) fc.nodeValue = vchildren[0];\n        } else if (vchildren && vchildren.length || fc) innerDiffNode(out, vchildren, context, mountAll, !!props.dangerouslySetInnerHTML);\n        diffAttributes(out, vnode.attributes, props);\n        if (ref) (props.ref = ref)(out);\n        isSvgMode = prevSvgMode;\n        return out;\n    }\n    function innerDiffNode(dom, vchildren, context, mountAll, absorb) {\n        var j, c, vchild, child, originalChildren = dom.childNodes, children = [], keyed = {}, keyedLen = 0, min = 0, len = originalChildren.length, childrenLen = 0, vlen = vchildren && vchildren.length;\n        if (len) for (var i = 0; i < len; i++) {\n            var _child = originalChildren[i], props = _child[ATTR_KEY], key = vlen ? (c = _child._component) ? c.__key : props ? props.key : null : null;\n            if (null != key) {\n                keyedLen++;\n                keyed[key] = _child;\n            } else if (hydrating || absorb || props || _child instanceof Text) children[childrenLen++] = _child;\n        }\n        if (vlen) for (var i = 0; i < vlen; i++) {\n            vchild = vchildren[i];\n            child = null;\n            var key = vchild.key;\n            if (null != key) {\n                if (keyedLen && key in keyed) {\n                    child = keyed[key];\n                    keyed[key] = void 0;\n                    keyedLen--;\n                }\n            } else if (!child && min < childrenLen) for (j = min; j < childrenLen; j++) {\n                c = children[j];\n                if (c && isSameNodeType(c, vchild)) {\n                    child = c;\n                    children[j] = void 0;\n                    if (j === childrenLen - 1) childrenLen--;\n                    if (j === min) min++;\n                    break;\n                }\n            }\n            child = idiff(child, vchild, context, mountAll);\n            if (child && child !== dom) if (i >= len) dom.appendChild(child); else if (child !== originalChildren[i]) {\n                if (child === originalChildren[i + 1]) removeNode(originalChildren[i]);\n                dom.insertBefore(child, originalChildren[i] || null);\n            }\n        }\n        if (keyedLen) for (var i in keyed) if (keyed[i]) recollectNodeTree(keyed[i]);\n        while (min <= childrenLen) {\n            child = children[childrenLen--];\n            if (child) recollectNodeTree(child);\n        }\n    }\n    function recollectNodeTree(node, unmountOnly) {\n        var component = node._component;\n        if (component) unmountComponent(component, !unmountOnly); else {\n            if (node[ATTR_KEY] && node[ATTR_KEY].ref) node[ATTR_KEY].ref(null);\n            if (!unmountOnly) collectNode(node);\n            var c;\n            while (c = node.lastChild) recollectNodeTree(c, unmountOnly);\n        }\n    }\n    function diffAttributes(dom, attrs, old) {\n        var name;\n        for (name in old) if (!(attrs && name in attrs) && null != old[name]) setAccessor(dom, name, old[name], old[name] = void 0, isSvgMode);\n        if (attrs) for (name in attrs) if (!('children' === name || 'innerHTML' === name || name in old && attrs[name] === ('value' === name || 'checked' === name ? dom[name] : old[name]))) setAccessor(dom, name, old[name], old[name] = attrs[name], isSvgMode);\n    }\n    function collectComponent(component) {\n        var name = component.constructor.name, list = components[name];\n        if (list) list.push(component); else components[name] = [ component ];\n    }\n    function createComponent(Ctor, props, context) {\n        var inst = new Ctor(props, context), list = components[Ctor.name];\n        Component.call(inst, props, context);\n        if (list) for (var i = list.length; i--; ) if (list[i].constructor === Ctor) {\n            inst.nextBase = list[i].nextBase;\n            list.splice(i, 1);\n            break;\n        }\n        return inst;\n    }\n    function setComponentProps(component, props, opts, context, mountAll) {\n        if (!component._disable) {\n            component._disable = !0;\n            if (component.__ref = props.ref) delete props.ref;\n            if (component.__key = props.key) delete props.key;\n            if (!component.base || mountAll) {\n                if (component.componentWillMount) component.componentWillMount();\n            } else if (component.componentWillReceiveProps) component.componentWillReceiveProps(props, context);\n            if (context && context !== component.context) {\n                if (!component.prevContext) component.prevContext = component.context;\n                component.context = context;\n            }\n            if (!component.prevProps) component.prevProps = component.props;\n            component.props = props;\n            component._disable = !1;\n            if (0 !== opts) if (1 === opts || options.syncComponentUpdates !== !1 || !component.base) renderComponent(component, 1, mountAll); else enqueueRender(component);\n            if (component.__ref) component.__ref(component);\n        }\n    }\n    function renderComponent(component, opts, mountAll, isChild) {\n        if (!component._disable) {\n            var skip, rendered, inst, cbase, props = component.props, state = component.state, context = component.context, previousProps = component.prevProps || props, previousState = component.prevState || state, previousContext = component.prevContext || context, isUpdate = component.base, nextBase = component.nextBase, initialBase = isUpdate || nextBase, initialChildComponent = component._component;\n            if (isUpdate) {\n                component.props = previousProps;\n                component.state = previousState;\n                component.context = previousContext;\n                if (2 !== opts && component.shouldComponentUpdate && component.shouldComponentUpdate(props, state, context) === !1) skip = !0; else if (component.componentWillUpdate) component.componentWillUpdate(props, state, context);\n                component.props = props;\n                component.state = state;\n                component.context = context;\n            }\n            component.prevProps = component.prevState = component.prevContext = component.nextBase = null;\n            component._dirty = !1;\n            if (!skip) {\n                if (component.render) rendered = component.render(props, state, context);\n                if (component.getChildContext) context = extend(clone(context), component.getChildContext());\n                while (isFunctionalComponent(rendered)) rendered = buildFunctionalComponent(rendered, context);\n                var toUnmount, base, childComponent = rendered && rendered.nodeName;\n                if (isFunction(childComponent)) {\n                    var childProps = getNodeProps(rendered);\n                    inst = initialChildComponent;\n                    if (inst && inst.constructor === childComponent && childProps.key == inst.__key) setComponentProps(inst, childProps, 1, context); else {\n                        toUnmount = inst;\n                        inst = createComponent(childComponent, childProps, context);\n                        inst.nextBase = inst.nextBase || nextBase;\n                        inst._parentComponent = component;\n                        component._component = inst;\n                        setComponentProps(inst, childProps, 0, context);\n                        renderComponent(inst, 1, mountAll, !0);\n                    }\n                    base = inst.base;\n                } else {\n                    cbase = initialBase;\n                    toUnmount = initialChildComponent;\n                    if (toUnmount) cbase = component._component = null;\n                    if (initialBase || 1 === opts) {\n                        if (cbase) cbase._component = null;\n                        base = diff(cbase, rendered, context, mountAll || !isUpdate, initialBase && initialBase.parentNode, !0);\n                    }\n                }\n                if (initialBase && base !== initialBase && inst !== initialChildComponent) {\n                    var baseParent = initialBase.parentNode;\n                    if (baseParent && base !== baseParent) {\n                        baseParent.replaceChild(base, initialBase);\n                        if (!toUnmount) {\n                            initialBase._component = null;\n                            recollectNodeTree(initialBase);\n                        }\n                    }\n                }\n                if (toUnmount) unmountComponent(toUnmount, base !== initialBase);\n                component.base = base;\n                if (base && !isChild) {\n                    var componentRef = component, t = component;\n                    while (t = t._parentComponent) (componentRef = t).base = base;\n                    base._component = componentRef;\n                    base._componentConstructor = componentRef.constructor;\n                }\n            }\n            if (!isUpdate || mountAll) mounts.unshift(component); else if (!skip) {\n                if (component.componentDidUpdate) component.componentDidUpdate(previousProps, previousState, previousContext);\n                if (options.afterUpdate) options.afterUpdate(component);\n            }\n            var fn, cb = component._renderCallbacks;\n            if (cb) while (fn = cb.pop()) fn.call(component);\n            if (!diffLevel && !isChild) flushMounts();\n        }\n    }\n    function buildComponentFromVNode(dom, vnode, context, mountAll) {\n        var c = dom && dom._component, originalComponent = c, oldDom = dom, isDirectOwner = c && dom._componentConstructor === vnode.nodeName, isOwner = isDirectOwner, props = getNodeProps(vnode);\n        while (c && !isOwner && (c = c._parentComponent)) isOwner = c.constructor === vnode.nodeName;\n        if (c && isOwner && (!mountAll || c._component)) {\n            setComponentProps(c, props, 3, context, mountAll);\n            dom = c.base;\n        } else {\n            if (originalComponent && !isDirectOwner) {\n                unmountComponent(originalComponent, !0);\n                dom = oldDom = null;\n            }\n            c = createComponent(vnode.nodeName, props, context);\n            if (dom && !c.nextBase) {\n                c.nextBase = dom;\n                oldDom = null;\n            }\n            setComponentProps(c, props, 1, context, mountAll);\n            dom = c.base;\n            if (oldDom && dom !== oldDom) {\n                oldDom._component = null;\n                recollectNodeTree(oldDom);\n            }\n        }\n        return dom;\n    }\n    function unmountComponent(component, remove) {\n        if (options.beforeUnmount) options.beforeUnmount(component);\n        var base = component.base;\n        component._disable = !0;\n        if (component.componentWillUnmount) component.componentWillUnmount();\n        component.base = null;\n        var inner = component._component;\n        if (inner) unmountComponent(inner, remove); else if (base) {\n            if (base[ATTR_KEY] && base[ATTR_KEY].ref) base[ATTR_KEY].ref(null);\n            component.nextBase = base;\n            if (remove) {\n                removeNode(base);\n                collectComponent(component);\n            }\n            var c;\n            while (c = base.lastChild) recollectNodeTree(c, !remove);\n        }\n        if (component.__ref) component.__ref(null);\n        if (component.componentDidUnmount) component.componentDidUnmount();\n    }\n    function Component(props, context) {\n        this._dirty = !0;\n        this.context = context;\n        this.props = props;\n        if (!this.state) this.state = {};\n    }\n    function render(vnode, parent, merge) {\n        return diff(merge, vnode, {}, !1, parent);\n    }\n    var options = {};\n    var stack = [];\n    var EMPTY_CHILDREN = [];\n    var lcCache = {};\n    var toLowerCase = function(s) {\n        return lcCache[s] || (lcCache[s] = s.toLowerCase());\n    };\n    var resolved = 'undefined' != typeof Promise && Promise.resolve();\n    var defer = resolved ? function(f) {\n        resolved.then(f);\n    } : setTimeout;\n    var EMPTY = {};\n    var ATTR_KEY = 'undefined' != typeof Symbol ? Symbol.for('preactattr') : '__preactattr_';\n    var NON_DIMENSION_PROPS = {\n        boxFlex: 1,\n        boxFlexGroup: 1,\n        columnCount: 1,\n        fillOpacity: 1,\n        flex: 1,\n        flexGrow: 1,\n        flexPositive: 1,\n        flexShrink: 1,\n        flexNegative: 1,\n        fontWeight: 1,\n        lineClamp: 1,\n        lineHeight: 1,\n        opacity: 1,\n        order: 1,\n        orphans: 1,\n        strokeOpacity: 1,\n        widows: 1,\n        zIndex: 1,\n        zoom: 1\n    };\n    var NON_BUBBLING_EVENTS = {\n        blur: 1,\n        error: 1,\n        focus: 1,\n        load: 1,\n        resize: 1,\n        scroll: 1\n    };\n    var items = [];\n    var nodes = {};\n    var mounts = [];\n    var diffLevel = 0;\n    var isSvgMode = !1;\n    var hydrating = !1;\n    var components = {};\n    extend(Component.prototype, {\n        linkState: function(key, eventPath) {\n            var c = this._linkedStates || (this._linkedStates = {});\n            return c[key + eventPath] || (c[key + eventPath] = createLinkedState(this, key, eventPath));\n        },\n        setState: function(state, callback) {\n            var s = this.state;\n            if (!this.prevState) this.prevState = clone(s);\n            extend(s, isFunction(state) ? state(s, this.props) : state);\n            if (callback) (this._renderCallbacks = this._renderCallbacks || []).push(callback);\n            enqueueRender(this);\n        },\n        forceUpdate: function() {\n            renderComponent(this, 2);\n        },\n        render: function() {}\n    });\n    exports.h = h;\n    exports.cloneElement = cloneElement;\n    exports.Component = Component;\n    exports.render = render;\n    exports.rerender = rerender;\n    exports.options = options;\n});\n//# sourceMappingURL=preact.js.map\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar NEW_NOTE = exports.NEW_NOTE = 'new-note';\nvar PAGE_REPLY = exports.PAGE_REPLY = 'page-reply';\nvar ITEM_REPLY = exports.ITEM_REPLY = 'item-reply';\n\nvar MESSAGE_SUCCESS = exports.MESSAGE_SUCCESS = 'success';\nvar MESSAGE_ERROR = exports.MESSAGE_ERROR = 'error';\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.post = post;\nexports.getParamString = getParamString;\nexports.postMicropub = postMicropub;\nexports.postFormData = postFormData;\nexports.formDataFromObject = formDataFromObject;\n\n// deprecated\nfunction post(url, payload, body) {\n  console.warn('Using deprecated function: requests.post');\n  var params;\n  if (typeof payload === 'string') {\n    params = payload;\n  } else {\n    params = getParamString(payload);\n  }\n  return fetch(url + '?' + params, {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json, text/plain, */*',\n      'Content-Type': 'application/json'\n    },\n    body: body ? JSON.stringify(body) : null\n  }).then(function (res) {\n    return res.text();\n  });\n}\n\nfunction getParamString(payload) {\n  var params = [];\n  for (var prop in payload) {\n    params.push(prop + '=' + payload[prop]);\n  }\n  return params.join('&');\n}\n\n// deprecated\nfunction postMicropub(url, form, token) {\n  console.warn('Using deprecated function: requests.postMicropub');\n  return fetch(url, {\n    method: 'POST',\n    headers: {\n      'Authorization': 'Bearer ' + token\n    },\n    body: new FormData(form)\n  }).then(function (res) {\n    return res.text();\n  });\n}\n\nfunction postFormData(url, payload, token) {\n  return new Promise(function (resolve, reject) {\n    fetch(url, {\n      method: 'POST',\n      headers: {\n        'Authorization': 'Bearer ' + token\n      },\n      body: formDataFromObject(payload)\n    }).then(function (res) {\n      if (res.status < 200 || res.status >= 400) {\n        return reject(res.status);\n      }\n      // TODO: get location/url of post & display somehow\n      resolve(res.text());\n    });\n  });\n}\n\nfunction formDataFromObject(obj) {\n  var data = new FormData();\n  for (var fieldName in obj) {\n    if (Array.isArray(obj[fieldName])) {\n      obj[fieldName].forEach(function (val, k) {\n        data.append(fieldName, val);\n      });\n    } else {\n      data.append(fieldName, obj[fieldName]);\n    }\n  }\n  return data;\n}\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _preact = __webpack_require__(0);\n\nvar _constants = __webpack_require__(1);\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Message = function (_Component) {\n  _inherits(Message, _Component);\n\n  function Message() {\n    _classCallCheck(this, Message);\n\n    return _possibleConstructorReturn(this, (Message.__proto__ || Object.getPrototypeOf(Message)).apply(this, arguments));\n  }\n\n  _createClass(Message, [{\n    key: 'render',\n    value: function render() {\n      return (0, _preact.h)(\n        'div',\n        { className: this.getClass() },\n        this.props.children\n      );\n    }\n  }, {\n    key: 'getClass',\n    value: function getClass() {\n      var _types;\n\n      var types = (_types = {}, _defineProperty(_types, _constants.MESSAGE_INFO, 'message message--info'), _defineProperty(_types, _constants.MESSAGE_SUCCESS, 'message message--success'), _defineProperty(_types, _constants.MESSAGE_ERROR, 'message message--danger'), _types);\n      return types[this.props.type] || types[_constants.MESSAGE_INFO];\n    }\n  }]);\n\n  return Message;\n}(_preact.Component);\n\nexports.default = Message;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.openLink = openLink;\nexports.clone = clone;\nfunction openLink(e) {\n  e.preventDefault();\n  if (e.target.href) {\n    chrome.tabs.create({ url: e.target.href });\n  }\n}\n\nfunction clone(obj) {\n  return JSON.parse(JSON.stringify(obj));\n}\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _preact = __webpack_require__(0);\n\nvar _loginForm = __webpack_require__(14);\n\nvar _loginForm2 = _interopRequireDefault(_loginForm);\n\nvar _NoteForm = __webpack_require__(13);\n\nvar _NoteForm2 = _interopRequireDefault(_NoteForm);\n\nvar _Message = __webpack_require__(3);\n\nvar _Message2 = _interopRequireDefault(_Message);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar App = function (_Component) {\n  _inherits(App, _Component);\n\n  function App(props) {\n    _classCallCheck(this, App);\n\n    var _this = _possibleConstructorReturn(this, (App.__proto__ || Object.getPrototypeOf(App)).call(this, props));\n\n    _this.displayMessage = function (message) {\n      _this.setState({\n        currentView: 'feedback',\n        message: message\n      });\n    };\n\n    _this.handleLogout = function () {\n      var items = ['token', 'domain', 'authEndpoint', 'tokenEndpoint', 'micropubEndpoint'];\n      items.map(function (item) {\n        return localStorage.removeItem(item);\n      });\n      _this.setState({ currentView: 'login' });\n    };\n\n    if (_this.isAuthenticated()) {\n      _this.setState({\n        currentView: 'new-note'\n      });\n    } else {\n      _this.setState({\n        currentView: 'login'\n      });\n    }\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: 'render',\n    value: function render() {\n      switch (this.state.currentView) {\n        case 'login':\n          return (0, _preact.h)(_loginForm2.default, null);\n        case 'feedback':\n          return (0, _preact.h)(\n            _Message2.default,\n            null,\n            this.state.message\n          );\n        default:\n          return (0, _preact.h)(_NoteForm2.default, { handleLogout: this.handleLogout, userFeedback: this.displayMessage });\n      }\n    }\n  }, {\n    key: 'isAuthenticated',\n    value: function isAuthenticated() {\n      return !!localStorage.getItem('token');\n    }\n  }]);\n\n  return App;\n}(_preact.Component);\n\nexports.default = App;\n\n/***/ }),\n/* 6 */,\n/* 7 */,\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _preact = __webpack_require__(0);\n\nvar _LinkButton = __webpack_require__(12);\n\nvar _LinkButton2 = _interopRequireDefault(_LinkButton);\n\nvar _constants = __webpack_require__(1);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ChangeViewButtons = function (_Component) {\n  _inherits(ChangeViewButtons, _Component);\n\n  function ChangeViewButtons() {\n    _classCallCheck(this, ChangeViewButtons);\n\n    return _possibleConstructorReturn(this, (ChangeViewButtons.__proto__ || Object.getPrototypeOf(ChangeViewButtons)).apply(this, arguments));\n  }\n\n  _createClass(ChangeViewButtons, [{\n    key: 'render',\n    value: function render() {\n      var postType = this.props.postType;\n      return (0, _preact.h)(\n        'div',\n        { className: 'inline-links' },\n        this.renderNewNote(),\n        this.renderPageReply(),\n        this.renderItemReply()\n      );\n    }\n  }, {\n    key: 'renderNewNote',\n    value: function renderNewNote() {\n      if (this.props.postType === _constants.NEW_NOTE) {\n        return (0, _preact.h)(\n          'span',\n          null,\n          'New note'\n        );\n      } else {\n        return (0, _preact.h)(\n          _LinkButton2.default,\n          { onClick: this.switchTo(_constants.NEW_NOTE) },\n          'New note'\n        );\n      }\n    }\n  }, {\n    key: 'renderPageReply',\n    value: function renderPageReply() {\n      if (this.props.postType === _constants.PAGE_REPLY) {\n        return (0, _preact.h)(\n          'span',\n          null,\n          'Current page'\n        );\n      } else {\n        return (0, _preact.h)(\n          _LinkButton2.default,\n          { onClick: this.switchTo(_constants.PAGE_REPLY) },\n          'Current page'\n        );\n      }\n    }\n  }, {\n    key: 'renderItemReply',\n    value: function renderItemReply() {\n      if (!this.props.hasSelectedEntry) {\n        return (0, _preact.h)(\n          'span',\n          { className: 'disabled' },\n          'Selected entry'\n        );\n      } else if (this.props.postType === _constants.ITEM_REPLY) {\n        return (0, _preact.h)(\n          'span',\n          null,\n          'Selected entry'\n        );\n      } else {\n        return (0, _preact.h)(\n          _LinkButton2.default,\n          { onClick: this.switchTo(_constants.ITEM_REPLY) },\n          'Selected entry'\n        );\n      }\n    }\n  }, {\n    key: 'switchTo',\n    value: function switchTo(postType) {\n      var _this2 = this;\n\n      return function () {\n        _this2.props.onChange(postType);\n      };\n    }\n  }]);\n\n  return ChangeViewButtons;\n}(_preact.Component);\n\nexports.default = ChangeViewButtons;\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _preact = __webpack_require__(0);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Footer = function (_Component) {\n  _inherits(Footer, _Component);\n\n  function Footer() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Footer);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Footer.__proto__ || Object.getPrototypeOf(Footer)).call.apply(_ref, [this].concat(args))), _this), _this.handleClick = function (e) {\n      e.preventDefault();\n      _this.props.onLogout();\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(Footer, [{\n    key: \"render\",\n    value: function render() {\n      return (0, _preact.h)(\n        \"footer\",\n        { className: \"footer\" },\n        (0, _preact.h)(\n          \"div\",\n          null,\n          \"Authenticated to \",\n          (0, _preact.h)(\n            \"strong\",\n            null,\n            this.props.domain\n          )\n        ),\n        (0, _preact.h)(\n          \"button\",\n          { className: \"button-link\", onClick: this.handleClick },\n          \"Logout\"\n        )\n      );\n    }\n  }]);\n\n  return Footer;\n}(_preact.Component);\n\nexports.default = Footer;\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _preact = __webpack_require__(0);\n\nvar _utils = __webpack_require__(4);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar FormInputs = function (_Component) {\n  _inherits(FormInputs, _Component);\n\n  function FormInputs() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, FormInputs);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = FormInputs.__proto__ || Object.getPrototypeOf(FormInputs)).call.apply(_ref, [this].concat(args))), _this), _this.focus = function () {\n      _this.content.focus();\n    }, _this.onSubmit = function (e) {\n      e.preventDefault();\n      _this.props.onSubmit(_this.props.entry);\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(FormInputs, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      setTimeout(this.focus, 150);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      return (0, _preact.h)(\n        'form',\n        { onSubmit: this.onSubmit },\n        (0, _preact.h)(\n          'div',\n          null,\n          (0, _preact.h)(\n            'label',\n            { 'for': 'input-content' },\n            'Content'\n          ),\n          (0, _preact.h)('textarea', {\n            id: 'input-content',\n            value: this.props.entry.content,\n            onKeyup: this.updateField('content'),\n            rows: '4',\n            disabled: this.props.isDisabled,\n            ref: function ref(el) {\n              _this2.content = el;\n            }\n          })\n        ),\n        (0, _preact.h)(\n          'div',\n          null,\n          (0, _preact.h)(\n            'label',\n            { 'for': 'input-tags' },\n            'Tags'\n          ),\n          (0, _preact.h)('input', {\n            id: 'input-tags',\n            type: 'text',\n            placeholder: 'e.g. web, personal',\n            value: this.props.entry.tags.join(' '),\n            onChange: this.updateFieldArray('tags'),\n            disabled: this.props.isDisabled\n          })\n        ),\n        (0, _preact.h)(\n          'div',\n          null,\n          (0, _preact.h)(\n            'label',\n            { 'for': 'input-slug' },\n            'Slug'\n          ),\n          (0, _preact.h)('input', {\n            id: 'input-slug',\n            type: 'text',\n            name: 'mp-slug',\n            value: this.props.entry['mp-slug'],\n            onChange: this.updateField('mp-slug'),\n            disabled: this.props.isDisabled\n          })\n        ),\n        (0, _preact.h)(\n          'button',\n          {\n            type: 'submit',\n            disabled: this.props.isDisabled || !this.props.entry.content\n          },\n          'Post'\n        )\n      );\n    }\n  }, {\n    key: 'updateField',\n    value: function updateField(fieldName) {\n      var _this3 = this;\n\n      return function (e) {\n        e.preventDefault();\n        var entry = (0, _utils.clone)(_this3.props.entry);\n        entry[fieldName] = e.target.value;\n        _this3.props.updateEntry(entry);\n      };\n    }\n  }, {\n    key: 'updateFieldArray',\n    value: function updateFieldArray(fieldName) {\n      var _this4 = this;\n\n      return function (e) {\n        e.preventDefault();\n        var entry = (0, _utils.clone)(_this4.props.entry);\n        entry[fieldName] = e.target.value.trim().split(' ');\n        _this4.props.updateEntry(entry);\n      };\n    }\n  }]);\n\n  return FormInputs;\n}(_preact.Component);\n\nexports.default = FormInputs;\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _preact = __webpack_require__(0);\n\nvar _constants = __webpack_require__(1);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar NoteForm = function (_Component) {\n  _inherits(NoteForm, _Component);\n\n  function NoteForm() {\n    _classCallCheck(this, NoteForm);\n\n    return _possibleConstructorReturn(this, (NoteForm.__proto__ || Object.getPrototypeOf(NoteForm)).apply(this, arguments));\n  }\n\n  _createClass(NoteForm, [{\n    key: 'render',\n    value: function render() {\n      return (0, _preact.h)(\n        'header',\n        { className: this.getClass() },\n        (0, _preact.h)(\n          'div',\n          null,\n          this.getMessage(),\n          this.props.url ? (0, _preact.h)(\n            'div',\n            { 'class': 'metadata' },\n            this.props.url\n          ) : null\n        ),\n        this.renderQuickActions()\n      );\n    }\n  }, {\n    key: 'getClass',\n    value: function getClass() {\n      var classNames = {};\n      classNames[_constants.NEW_NOTE] = 'header header--new';\n      classNames[_constants.PAGE_REPLY] = 'header header--page';\n      classNames[_constants.ITEM_REPLY] = 'header header--item';\n      return classNames[this.props.postType];\n    }\n  }, {\n    key: 'getMessage',\n    value: function getMessage() {\n      var messages = {};\n      messages[_constants.NEW_NOTE] = 'New Note';\n      messages[_constants.PAGE_REPLY] = 'Reply to current page';\n      messages[_constants.ITEM_REPLY] = 'Reply to selected entry';\n      return messages[this.props.postType];\n    }\n  }, {\n    key: 'renderQuickActions',\n    value: function renderQuickActions() {\n      if (!this.props.url) {\n        return null;\n      }\n\n      return (0, _preact.h)(\n        'ul',\n        { className: 'quick-actions' },\n        (0, _preact.h)(\n          'li',\n          null,\n          (0, _preact.h)(\n            'button',\n            { onClick: this.props.onRepost },\n            'repost'\n          )\n        ),\n        (0, _preact.h)(\n          'li',\n          null,\n          (0, _preact.h)(\n            'button',\n            { onClick: this.props.onLike },\n            'like'\n          )\n        )\n      );\n    }\n  }]);\n\n  return NoteForm;\n}(_preact.Component);\n\nexports.default = NoteForm;\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _preact = __webpack_require__(0);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar LinkButton = function (_Component) {\n  _inherits(LinkButton, _Component);\n\n  function LinkButton() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, LinkButton);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = LinkButton.__proto__ || Object.getPrototypeOf(LinkButton)).call.apply(_ref, [this].concat(args))), _this), _this.handleClick = function (e) {\n      e.preventDefault();\n      _this.props.onClick();\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(LinkButton, [{\n    key: \"render\",\n    value: function render() {\n      return (0, _preact.h)(\n        \"button\",\n        {\n          className: \"button-link\",\n          onClick: this.handleClick\n        },\n        this.props.children\n      );\n    }\n  }]);\n\n  return LinkButton;\n}(_preact.Component);\n\nexports.default = LinkButton;\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _preact = __webpack_require__(0);\n\nvar _Header = __webpack_require__(11);\n\nvar _Header2 = _interopRequireDefault(_Header);\n\nvar _Message = __webpack_require__(3);\n\nvar _Message2 = _interopRequireDefault(_Message);\n\nvar _ChangeViewButtons = __webpack_require__(8);\n\nvar _ChangeViewButtons2 = _interopRequireDefault(_ChangeViewButtons);\n\nvar _FormInputs = __webpack_require__(10);\n\nvar _FormInputs2 = _interopRequireDefault(_FormInputs);\n\nvar _Footer = __webpack_require__(9);\n\nvar _Footer2 = _interopRequireDefault(_Footer);\n\nvar _requests = __webpack_require__(2);\n\nvar _constants = __webpack_require__(1);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar NoteForm = function (_Component) {\n  _inherits(NoteForm, _Component);\n\n  function NoteForm(props) {\n    _classCallCheck(this, NoteForm);\n\n    var _this = _possibleConstructorReturn(this, (NoteForm.__proto__ || Object.getPrototypeOf(NoteForm)).call(this, props));\n\n    _initialiseProps.call(_this);\n\n    var entryUrl = null;\n    var postType = void 0;\n    var selectedEntry = localStorage.getItem('selectedEntry');\n    if (location.search.indexOf('reply=true') === -1) {\n      postType = _constants.NEW_NOTE;\n    } else {\n      if (selectedEntry) {\n        postType = _constants.ITEM_REPLY;\n        entryUrl = selectedEntry;\n      } else {\n        postType = _constants.PAGE_REPLY;\n        entryUrl = localStorage.getItem('pageUrl');\n      }\n    }\n    _this.state = {\n      postType: postType,\n      url: entryUrl,\n      userDomain: localStorage.getItem('domain'),\n      entry: {\n        'h': 'entry',\n        'content': '',\n        'tags': [],\n        'mp-slug': ''\n      },\n      hasSelectedEntry: !!selectedEntry,\n      isDisabled: false\n    };\n    return _this;\n  }\n\n  _createClass(NoteForm, [{\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      return (0, _preact.h)(\n        'div',\n        null,\n        (0, _preact.h)(_Header2.default, {\n          postType: this.state.postType,\n          url: this.state.url,\n          onLike: this.handleLike,\n          onRepost: this.handleRepost\n        }),\n        (0, _preact.h)(\n          'div',\n          { className: 'container' },\n          (0, _preact.h)(\n            'div',\n            { className: 'text-right' },\n            (0, _preact.h)(_ChangeViewButtons2.default, {\n              postType: this.state.postType,\n              onChange: this.changeView,\n              hasSelectedEntry: this.state.hasSelectedEntry\n            })\n          ),\n          (0, _preact.h)(_FormInputs2.default, {\n            entry: this.state.entry,\n            updateEntry: this.updateEntry,\n            onSubmit: this.handleSubmit,\n            isDisabled: this.state.isDisabled,\n            ref: function ref(el) {\n              return _this2.form = el;\n            }\n          }),\n          this.state.errorMessage ? (0, _preact.h)(\n            _Message2.default,\n            { type: _constants.MESSAGE_ERROR },\n            this.state.errorMessage\n          ) : null\n        ),\n        (0, _preact.h)(_Footer2.default, { domain: this.state.userDomain, onLogout: this.props.handleLogout })\n      );\n    }\n  }, {\n    key: 'flashSuccessMessage',\n    value: function flashSuccessMessage(message) {\n      this.props.userFeedback(message, _constants.MESSAGE_SUCCESS);\n      setTimeout(function () {\n        window.close();\n      }, 4000);\n    }\n  }, {\n    key: 'flashErrorMessage',\n    value: function flashErrorMessage(message) {\n      var _this3 = this;\n\n      this.setState({\n        errorMessage: message,\n        isDisabled: false\n      });\n      setTimeout(function () {\n        if (_this3.state.errorMessage === message) {\n          _this3.setState({ errorMessage: false });\n        }\n      }, 4000);\n    }\n  }, {\n    key: 'postEntry',\n    value: function postEntry(entry) {\n      var endpoint = localStorage.getItem('micropubEndpoint');\n      var token = localStorage.getItem('token');\n      this.setState({\n        isDisabled: true\n      });\n      return (0, _requests.postFormData)(endpoint, entry, token);\n    }\n  }]);\n\n  return NoteForm;\n}(_preact.Component);\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this4 = this;\n\n  this.handleLike = function () {\n    if (!_this4.state.url) {\n      return;\n    }\n    _this4.postEntry({\n      'h': 'entry',\n      'like-of': _this4.state.url\n    }).then(function () {\n      var type = _this4.state.postType === _constants.ITEM_REPLY ? 'Item' : 'Page';\n      _this4.flashSuccessMessage(type + ' liked successfully');\n    }).catch(function (err) {\n      console.error(err);\n      _this4.flashErrorMessage('Error posting like');\n    });\n  };\n\n  this.handleRepost = function () {\n    if (!_this4.state.url) {\n      return;\n    }\n    _this4.postEntry({\n      'h': 'entry',\n      'repost-of': _this4.state.url\n    }).then(function () {\n      var type = _this4.state.postType === _constants.ITEM_REPLY ? 'Item' : 'Page';\n      _this4.flashSuccessMessage(type + ' reposted successfully');\n    }).catch(function (err) {\n      console.error(err);\n      _this4.flashErrorMessage('Error reposting');\n    });\n  };\n\n  this.updateEntry = function (newEntry) {\n    _this4.setState({ entry: newEntry });\n  };\n\n  this.handleSubmit = function (entry) {\n    if (_this4.state.postType !== _constants.NEW_NOTE) {\n      entry['in-reply-to'] = _this4.state.url;\n    }\n    _this4.postEntry(entry).then(function () {\n      var type = _this4.state.postType === _constants.NEW_NOTE ? 'Note' : 'Reply';\n      _this4.flashSuccessMessage(type + ' posted successfully');\n    }).catch(function (err) {\n      _this4.flashErrorMessage('Error posting Note');\n    });\n  };\n\n  this.changeView = function (postType) {\n    var url = void 0;\n    switch (postType) {\n      case _constants.NEW_NOTE:\n        url = null;\n        break;\n      case _constants.PAGE_REPLY:\n        url = localStorage.getItem('pageUrl');\n        break;\n      case _constants.ITEM_REPLY:\n        url = localStorage.getItem('selectedEntry');\n        break;\n    }\n    _this4.setState({ url: url, postType: postType });\n    _this4.form.focus();\n  };\n};\n\nexports.default = NoteForm;\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _preact = __webpack_require__(0);\n\nvar _Message = __webpack_require__(3);\n\nvar _Message2 = _interopRequireDefault(_Message);\n\nvar _utils = __webpack_require__(4);\n\nvar _parseSite = __webpack_require__(15);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar LoginForm = function (_Component) {\n  _inherits(LoginForm, _Component);\n\n  function LoginForm() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, LoginForm);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = LoginForm.__proto__ || Object.getPrototypeOf(LoginForm)).call.apply(_ref, [this].concat(args))), _this), _this.handleChange = function (e) {\n      _this.setState({\n        domain: e.target.value,\n        hasErrors: false\n      });\n    }, _this.handleSubmit = function (e) {\n      e.preventDefault();\n      _this.setState({ isLoading: true });\n      (0, _parseSite.fetchSiteMetadata)(_this.state.domain).then(function (data) {\n        if (!data.authEndpoint || !data.tokenEndpoint || !data.micropub) {\n          return _this.setState({\n            hasErrors: true,\n            errorMessage: 'Missing micropub data on ' + _this.state.domain + '. Please ensure the following links are present: authorization_endpoint, token_endpoint, micropub',\n            isLoading: false\n          });\n        }\n        var url = data.authEndpoint + '?' + _this.getFields(_this.state.domain);\n        chrome.runtime.sendMessage({\n          action: 'begin-auth',\n          payload: {\n            authUrl: url,\n            domain: _this.state.domain,\n            metadata: data\n          }\n        });\n      }).catch(function (err) {\n        _this.setState({\n          hasErrors: true,\n          errorMessage: 'Error fetching page: ' + _this.state.domain,\n          isLoading: false\n        });\n      });\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(LoginForm, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      setTimeout(function () {\n        _this2.input.focus();\n      }, 150);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this3 = this;\n\n      return (0, _preact.h)(\n        'form',\n        { 'class': 'container', method: 'GET', onSubmit: this.handleSubmit },\n        (0, _preact.h)(\n          'p',\n          null,\n          'To use Omnibear, sign in with your domain. Your website will need to support',\n          ' ',\n          (0, _preact.h)(\n            'a',\n            { href: 'http://indieweb.org/micropub', onClick: _utils.openLink },\n            'Micropub'\n          ),\n          ' ',\n          'for creating new posts.'\n        ),\n        (0, _preact.h)(\n          'div',\n          { 'class': 'fields-inline' },\n          (0, _preact.h)('input', {\n            type: 'text',\n            name: 'me',\n            placeholder: 'https://example.com',\n            className: 'fields-inline__fill',\n            value: this.state.domain,\n            onKeyUp: this.handleChange,\n            ref: function ref(el) {\n              return _this3.input = el;\n            }\n          }),\n          (0, _preact.h)(\n            'button',\n            { type: 'submit', disabled: this.state.isLoading },\n            'Sign in'\n          )\n        ),\n        this.state.hasErrors ? (0, _preact.h)(\n          _Message2.default,\n          { type: 'error' },\n          this.state.errorMessage || 'Error'\n        ) : null\n      );\n    }\n  }, {\n    key: 'getFields',\n    value: function getFields(domain) {\n      return ['redirect_uri=http://omnibear.com/auth/success/', 'client_id=http://omnibear.com', 'response_type=code', 'scope=create', 'me=' + domain].join('&');\n    }\n  }]);\n\n  return LoginForm;\n}(_preact.Component);\n\nexports.default = LoginForm;\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _module$exports;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction getLinkValue(page, rel) {\n  var link = page.querySelector('link[rel=\"' + rel + '\"]');\n  if (link) {\n    return link.href;\n  } else {\n    return null;\n  }\n}\n\nfunction fetchSiteMetadata(url) {\n  return fetch(url).then(function (res) {\n    return res.text();\n  }).then(function (content) {\n    var page = document.createElement('html');\n    page.innerHTML = content;\n    return {\n      authEndpoint: getLinkValue(page, 'authorization_endpoint'),\n      tokenEndpoint: getLinkValue(page, 'token_endpoint'),\n      micropub: getLinkValue(page, 'micropub')\n    };\n  });\n}\n\nmodule.exports = (_module$exports = {\n  getLinkValue: getLinkValue }, _defineProperty(_module$exports, 'getLinkValue', getLinkValue), _defineProperty(_module$exports, 'fetchSiteMetadata', fetchSiteMetadata), _module$exports);\n\n/***/ }),\n/* 16 */,\n/* 17 */,\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _preact = __webpack_require__(0);\n\nvar _App = __webpack_require__(5);\n\nvar _App2 = _interopRequireDefault(_App);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  (0, _preact.render)((0, _preact.h)(_App2.default, null), document.body);\n});\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// index.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 18);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap d9c754abc6f31d9bae81","!function(global, factory) {\n    'object' == typeof exports && 'undefined' != typeof module ? factory(exports) : 'function' == typeof define && define.amd ? define([ 'exports' ], factory) : factory(global.preact = global.preact || {});\n}(this, function(exports) {\n    function VNode(nodeName, attributes, children) {\n        this.nodeName = nodeName;\n        this.attributes = attributes;\n        this.children = children;\n        this.key = attributes && attributes.key;\n    }\n    function h(nodeName, attributes) {\n        var children, lastSimple, child, simple, i;\n        for (i = arguments.length; i-- > 2; ) stack.push(arguments[i]);\n        if (attributes && attributes.children) {\n            if (!stack.length) stack.push(attributes.children);\n            delete attributes.children;\n        }\n        while (stack.length) if ((child = stack.pop()) instanceof Array) for (i = child.length; i--; ) stack.push(child[i]); else if (null != child && child !== !0 && child !== !1) {\n            if ('number' == typeof child) child = String(child);\n            simple = 'string' == typeof child;\n            if (simple && lastSimple) children[children.length - 1] += child; else {\n                (children || (children = [])).push(child);\n                lastSimple = simple;\n            }\n        }\n        var p = new VNode(nodeName, attributes || void 0, children || EMPTY_CHILDREN);\n        if (options.vnode) options.vnode(p);\n        return p;\n    }\n    function extend(obj, props) {\n        if (props) for (var i in props) obj[i] = props[i];\n        return obj;\n    }\n    function clone(obj) {\n        return extend({}, obj);\n    }\n    function delve(obj, key) {\n        for (var p = key.split('.'), i = 0; i < p.length && obj; i++) obj = obj[p[i]];\n        return obj;\n    }\n    function isFunction(obj) {\n        return 'function' == typeof obj;\n    }\n    function isString(obj) {\n        return 'string' == typeof obj;\n    }\n    function hashToClassName(c) {\n        var str = '';\n        for (var prop in c) if (c[prop]) {\n            if (str) str += ' ';\n            str += prop;\n        }\n        return str;\n    }\n    function cloneElement(vnode, props) {\n        return h(vnode.nodeName, extend(clone(vnode.attributes), props), arguments.length > 2 ? [].slice.call(arguments, 2) : vnode.children);\n    }\n    function createLinkedState(component, key, eventPath) {\n        var path = key.split('.');\n        return function(e) {\n            var t = e && e.target || this, state = {}, obj = state, v = isString(eventPath) ? delve(e, eventPath) : t.nodeName ? t.type.match(/^che|rad/) ? t.checked : t.value : e, i = 0;\n            for (;i < path.length - 1; i++) obj = obj[path[i]] || (obj[path[i]] = !i && component.state[path[i]] || {});\n            obj[path[i]] = v;\n            component.setState(state);\n        };\n    }\n    function enqueueRender(component) {\n        if (!component._dirty && (component._dirty = !0) && 1 == items.push(component)) (options.debounceRendering || defer)(rerender);\n    }\n    function rerender() {\n        var p, list = items;\n        items = [];\n        while (p = list.pop()) if (p._dirty) renderComponent(p);\n    }\n    function isFunctionalComponent(vnode) {\n        var nodeName = vnode && vnode.nodeName;\n        return nodeName && isFunction(nodeName) && !(nodeName.prototype && nodeName.prototype.render);\n    }\n    function buildFunctionalComponent(vnode, context) {\n        return vnode.nodeName(getNodeProps(vnode), context || EMPTY);\n    }\n    function isSameNodeType(node, vnode) {\n        if (isString(vnode)) return node instanceof Text;\n        if (isString(vnode.nodeName)) return !node._componentConstructor && isNamedNode(node, vnode.nodeName);\n        if (isFunction(vnode.nodeName)) return (node._componentConstructor ? node._componentConstructor === vnode.nodeName : !0) || isFunctionalComponent(vnode); else ;\n    }\n    function isNamedNode(node, nodeName) {\n        return node.normalizedNodeName === nodeName || toLowerCase(node.nodeName) === toLowerCase(nodeName);\n    }\n    function getNodeProps(vnode) {\n        var props = clone(vnode.attributes);\n        props.children = vnode.children;\n        var defaultProps = vnode.nodeName.defaultProps;\n        if (defaultProps) for (var i in defaultProps) if (void 0 === props[i]) props[i] = defaultProps[i];\n        return props;\n    }\n    function removeNode(node) {\n        var p = node.parentNode;\n        if (p) p.removeChild(node);\n    }\n    function setAccessor(node, name, old, value, isSvg) {\n        if ('className' === name) name = 'class';\n        if ('class' === name && value && 'object' == typeof value) value = hashToClassName(value);\n        if ('key' === name) ; else if ('class' === name && !isSvg) node.className = value || ''; else if ('style' === name) {\n            if (!value || isString(value) || isString(old)) node.style.cssText = value || '';\n            if (value && 'object' == typeof value) {\n                if (!isString(old)) for (var i in old) if (!(i in value)) node.style[i] = '';\n                for (var i in value) node.style[i] = 'number' == typeof value[i] && !NON_DIMENSION_PROPS[i] ? value[i] + 'px' : value[i];\n            }\n        } else if ('dangerouslySetInnerHTML' === name) {\n            if (value) node.innerHTML = value.__html || '';\n        } else if ('o' == name[0] && 'n' == name[1]) {\n            var l = node._listeners || (node._listeners = {});\n            name = toLowerCase(name.substring(2));\n            if (value) {\n                if (!l[name]) node.addEventListener(name, eventProxy, !!NON_BUBBLING_EVENTS[name]);\n            } else if (l[name]) node.removeEventListener(name, eventProxy, !!NON_BUBBLING_EVENTS[name]);\n            l[name] = value;\n        } else if ('list' !== name && 'type' !== name && !isSvg && name in node) {\n            setProperty(node, name, null == value ? '' : value);\n            if (null == value || value === !1) node.removeAttribute(name);\n        } else {\n            var ns = isSvg && name.match(/^xlink\\:?(.+)/);\n            if (null == value || value === !1) if (ns) node.removeAttributeNS('http://www.w3.org/1999/xlink', toLowerCase(ns[1])); else node.removeAttribute(name); else if ('object' != typeof value && !isFunction(value)) if (ns) node.setAttributeNS('http://www.w3.org/1999/xlink', toLowerCase(ns[1]), value); else node.setAttribute(name, value);\n        }\n    }\n    function setProperty(node, name, value) {\n        try {\n            node[name] = value;\n        } catch (e) {}\n    }\n    function eventProxy(e) {\n        return this._listeners[e.type](options.event && options.event(e) || e);\n    }\n    function collectNode(node) {\n        removeNode(node);\n        if (node instanceof Element) {\n            node._component = node._componentConstructor = null;\n            var _name = node.normalizedNodeName || toLowerCase(node.nodeName);\n            (nodes[_name] || (nodes[_name] = [])).push(node);\n        }\n    }\n    function createNode(nodeName, isSvg) {\n        var name = toLowerCase(nodeName), node = nodes[name] && nodes[name].pop() || (isSvg ? document.createElementNS('http://www.w3.org/2000/svg', nodeName) : document.createElement(nodeName));\n        node.normalizedNodeName = name;\n        return node;\n    }\n    function flushMounts() {\n        var c;\n        while (c = mounts.pop()) {\n            if (options.afterMount) options.afterMount(c);\n            if (c.componentDidMount) c.componentDidMount();\n        }\n    }\n    function diff(dom, vnode, context, mountAll, parent, componentRoot) {\n        if (!diffLevel++) {\n            isSvgMode = parent && 'undefined' != typeof parent.ownerSVGElement;\n            hydrating = dom && !(ATTR_KEY in dom);\n        }\n        var ret = idiff(dom, vnode, context, mountAll);\n        if (parent && ret.parentNode !== parent) parent.appendChild(ret);\n        if (!--diffLevel) {\n            hydrating = !1;\n            if (!componentRoot) flushMounts();\n        }\n        return ret;\n    }\n    function idiff(dom, vnode, context, mountAll) {\n        var ref = vnode && vnode.attributes && vnode.attributes.ref;\n        while (isFunctionalComponent(vnode)) vnode = buildFunctionalComponent(vnode, context);\n        if (null == vnode) vnode = '';\n        if (isString(vnode)) {\n            if (dom && dom instanceof Text && dom.parentNode) {\n                if (dom.nodeValue != vnode) dom.nodeValue = vnode;\n            } else {\n                if (dom) recollectNodeTree(dom);\n                dom = document.createTextNode(vnode);\n            }\n            return dom;\n        }\n        if (isFunction(vnode.nodeName)) return buildComponentFromVNode(dom, vnode, context, mountAll);\n        var out = dom, nodeName = String(vnode.nodeName), prevSvgMode = isSvgMode, vchildren = vnode.children;\n        isSvgMode = 'svg' === nodeName ? !0 : 'foreignObject' === nodeName ? !1 : isSvgMode;\n        if (!dom) out = createNode(nodeName, isSvgMode); else if (!isNamedNode(dom, nodeName)) {\n            out = createNode(nodeName, isSvgMode);\n            while (dom.firstChild) out.appendChild(dom.firstChild);\n            if (dom.parentNode) dom.parentNode.replaceChild(out, dom);\n            recollectNodeTree(dom);\n        }\n        var fc = out.firstChild, props = out[ATTR_KEY];\n        if (!props) {\n            out[ATTR_KEY] = props = {};\n            for (var a = out.attributes, i = a.length; i--; ) props[a[i].name] = a[i].value;\n        }\n        if (!hydrating && vchildren && 1 === vchildren.length && 'string' == typeof vchildren[0] && fc && fc instanceof Text && !fc.nextSibling) {\n            if (fc.nodeValue != vchildren[0]) fc.nodeValue = vchildren[0];\n        } else if (vchildren && vchildren.length || fc) innerDiffNode(out, vchildren, context, mountAll, !!props.dangerouslySetInnerHTML);\n        diffAttributes(out, vnode.attributes, props);\n        if (ref) (props.ref = ref)(out);\n        isSvgMode = prevSvgMode;\n        return out;\n    }\n    function innerDiffNode(dom, vchildren, context, mountAll, absorb) {\n        var j, c, vchild, child, originalChildren = dom.childNodes, children = [], keyed = {}, keyedLen = 0, min = 0, len = originalChildren.length, childrenLen = 0, vlen = vchildren && vchildren.length;\n        if (len) for (var i = 0; i < len; i++) {\n            var _child = originalChildren[i], props = _child[ATTR_KEY], key = vlen ? (c = _child._component) ? c.__key : props ? props.key : null : null;\n            if (null != key) {\n                keyedLen++;\n                keyed[key] = _child;\n            } else if (hydrating || absorb || props || _child instanceof Text) children[childrenLen++] = _child;\n        }\n        if (vlen) for (var i = 0; i < vlen; i++) {\n            vchild = vchildren[i];\n            child = null;\n            var key = vchild.key;\n            if (null != key) {\n                if (keyedLen && key in keyed) {\n                    child = keyed[key];\n                    keyed[key] = void 0;\n                    keyedLen--;\n                }\n            } else if (!child && min < childrenLen) for (j = min; j < childrenLen; j++) {\n                c = children[j];\n                if (c && isSameNodeType(c, vchild)) {\n                    child = c;\n                    children[j] = void 0;\n                    if (j === childrenLen - 1) childrenLen--;\n                    if (j === min) min++;\n                    break;\n                }\n            }\n            child = idiff(child, vchild, context, mountAll);\n            if (child && child !== dom) if (i >= len) dom.appendChild(child); else if (child !== originalChildren[i]) {\n                if (child === originalChildren[i + 1]) removeNode(originalChildren[i]);\n                dom.insertBefore(child, originalChildren[i] || null);\n            }\n        }\n        if (keyedLen) for (var i in keyed) if (keyed[i]) recollectNodeTree(keyed[i]);\n        while (min <= childrenLen) {\n            child = children[childrenLen--];\n            if (child) recollectNodeTree(child);\n        }\n    }\n    function recollectNodeTree(node, unmountOnly) {\n        var component = node._component;\n        if (component) unmountComponent(component, !unmountOnly); else {\n            if (node[ATTR_KEY] && node[ATTR_KEY].ref) node[ATTR_KEY].ref(null);\n            if (!unmountOnly) collectNode(node);\n            var c;\n            while (c = node.lastChild) recollectNodeTree(c, unmountOnly);\n        }\n    }\n    function diffAttributes(dom, attrs, old) {\n        var name;\n        for (name in old) if (!(attrs && name in attrs) && null != old[name]) setAccessor(dom, name, old[name], old[name] = void 0, isSvgMode);\n        if (attrs) for (name in attrs) if (!('children' === name || 'innerHTML' === name || name in old && attrs[name] === ('value' === name || 'checked' === name ? dom[name] : old[name]))) setAccessor(dom, name, old[name], old[name] = attrs[name], isSvgMode);\n    }\n    function collectComponent(component) {\n        var name = component.constructor.name, list = components[name];\n        if (list) list.push(component); else components[name] = [ component ];\n    }\n    function createComponent(Ctor, props, context) {\n        var inst = new Ctor(props, context), list = components[Ctor.name];\n        Component.call(inst, props, context);\n        if (list) for (var i = list.length; i--; ) if (list[i].constructor === Ctor) {\n            inst.nextBase = list[i].nextBase;\n            list.splice(i, 1);\n            break;\n        }\n        return inst;\n    }\n    function setComponentProps(component, props, opts, context, mountAll) {\n        if (!component._disable) {\n            component._disable = !0;\n            if (component.__ref = props.ref) delete props.ref;\n            if (component.__key = props.key) delete props.key;\n            if (!component.base || mountAll) {\n                if (component.componentWillMount) component.componentWillMount();\n            } else if (component.componentWillReceiveProps) component.componentWillReceiveProps(props, context);\n            if (context && context !== component.context) {\n                if (!component.prevContext) component.prevContext = component.context;\n                component.context = context;\n            }\n            if (!component.prevProps) component.prevProps = component.props;\n            component.props = props;\n            component._disable = !1;\n            if (0 !== opts) if (1 === opts || options.syncComponentUpdates !== !1 || !component.base) renderComponent(component, 1, mountAll); else enqueueRender(component);\n            if (component.__ref) component.__ref(component);\n        }\n    }\n    function renderComponent(component, opts, mountAll, isChild) {\n        if (!component._disable) {\n            var skip, rendered, inst, cbase, props = component.props, state = component.state, context = component.context, previousProps = component.prevProps || props, previousState = component.prevState || state, previousContext = component.prevContext || context, isUpdate = component.base, nextBase = component.nextBase, initialBase = isUpdate || nextBase, initialChildComponent = component._component;\n            if (isUpdate) {\n                component.props = previousProps;\n                component.state = previousState;\n                component.context = previousContext;\n                if (2 !== opts && component.shouldComponentUpdate && component.shouldComponentUpdate(props, state, context) === !1) skip = !0; else if (component.componentWillUpdate) component.componentWillUpdate(props, state, context);\n                component.props = props;\n                component.state = state;\n                component.context = context;\n            }\n            component.prevProps = component.prevState = component.prevContext = component.nextBase = null;\n            component._dirty = !1;\n            if (!skip) {\n                if (component.render) rendered = component.render(props, state, context);\n                if (component.getChildContext) context = extend(clone(context), component.getChildContext());\n                while (isFunctionalComponent(rendered)) rendered = buildFunctionalComponent(rendered, context);\n                var toUnmount, base, childComponent = rendered && rendered.nodeName;\n                if (isFunction(childComponent)) {\n                    var childProps = getNodeProps(rendered);\n                    inst = initialChildComponent;\n                    if (inst && inst.constructor === childComponent && childProps.key == inst.__key) setComponentProps(inst, childProps, 1, context); else {\n                        toUnmount = inst;\n                        inst = createComponent(childComponent, childProps, context);\n                        inst.nextBase = inst.nextBase || nextBase;\n                        inst._parentComponent = component;\n                        component._component = inst;\n                        setComponentProps(inst, childProps, 0, context);\n                        renderComponent(inst, 1, mountAll, !0);\n                    }\n                    base = inst.base;\n                } else {\n                    cbase = initialBase;\n                    toUnmount = initialChildComponent;\n                    if (toUnmount) cbase = component._component = null;\n                    if (initialBase || 1 === opts) {\n                        if (cbase) cbase._component = null;\n                        base = diff(cbase, rendered, context, mountAll || !isUpdate, initialBase && initialBase.parentNode, !0);\n                    }\n                }\n                if (initialBase && base !== initialBase && inst !== initialChildComponent) {\n                    var baseParent = initialBase.parentNode;\n                    if (baseParent && base !== baseParent) {\n                        baseParent.replaceChild(base, initialBase);\n                        if (!toUnmount) {\n                            initialBase._component = null;\n                            recollectNodeTree(initialBase);\n                        }\n                    }\n                }\n                if (toUnmount) unmountComponent(toUnmount, base !== initialBase);\n                component.base = base;\n                if (base && !isChild) {\n                    var componentRef = component, t = component;\n                    while (t = t._parentComponent) (componentRef = t).base = base;\n                    base._component = componentRef;\n                    base._componentConstructor = componentRef.constructor;\n                }\n            }\n            if (!isUpdate || mountAll) mounts.unshift(component); else if (!skip) {\n                if (component.componentDidUpdate) component.componentDidUpdate(previousProps, previousState, previousContext);\n                if (options.afterUpdate) options.afterUpdate(component);\n            }\n            var fn, cb = component._renderCallbacks;\n            if (cb) while (fn = cb.pop()) fn.call(component);\n            if (!diffLevel && !isChild) flushMounts();\n        }\n    }\n    function buildComponentFromVNode(dom, vnode, context, mountAll) {\n        var c = dom && dom._component, originalComponent = c, oldDom = dom, isDirectOwner = c && dom._componentConstructor === vnode.nodeName, isOwner = isDirectOwner, props = getNodeProps(vnode);\n        while (c && !isOwner && (c = c._parentComponent)) isOwner = c.constructor === vnode.nodeName;\n        if (c && isOwner && (!mountAll || c._component)) {\n            setComponentProps(c, props, 3, context, mountAll);\n            dom = c.base;\n        } else {\n            if (originalComponent && !isDirectOwner) {\n                unmountComponent(originalComponent, !0);\n                dom = oldDom = null;\n            }\n            c = createComponent(vnode.nodeName, props, context);\n            if (dom && !c.nextBase) {\n                c.nextBase = dom;\n                oldDom = null;\n            }\n            setComponentProps(c, props, 1, context, mountAll);\n            dom = c.base;\n            if (oldDom && dom !== oldDom) {\n                oldDom._component = null;\n                recollectNodeTree(oldDom);\n            }\n        }\n        return dom;\n    }\n    function unmountComponent(component, remove) {\n        if (options.beforeUnmount) options.beforeUnmount(component);\n        var base = component.base;\n        component._disable = !0;\n        if (component.componentWillUnmount) component.componentWillUnmount();\n        component.base = null;\n        var inner = component._component;\n        if (inner) unmountComponent(inner, remove); else if (base) {\n            if (base[ATTR_KEY] && base[ATTR_KEY].ref) base[ATTR_KEY].ref(null);\n            component.nextBase = base;\n            if (remove) {\n                removeNode(base);\n                collectComponent(component);\n            }\n            var c;\n            while (c = base.lastChild) recollectNodeTree(c, !remove);\n        }\n        if (component.__ref) component.__ref(null);\n        if (component.componentDidUnmount) component.componentDidUnmount();\n    }\n    function Component(props, context) {\n        this._dirty = !0;\n        this.context = context;\n        this.props = props;\n        if (!this.state) this.state = {};\n    }\n    function render(vnode, parent, merge) {\n        return diff(merge, vnode, {}, !1, parent);\n    }\n    var options = {};\n    var stack = [];\n    var EMPTY_CHILDREN = [];\n    var lcCache = {};\n    var toLowerCase = function(s) {\n        return lcCache[s] || (lcCache[s] = s.toLowerCase());\n    };\n    var resolved = 'undefined' != typeof Promise && Promise.resolve();\n    var defer = resolved ? function(f) {\n        resolved.then(f);\n    } : setTimeout;\n    var EMPTY = {};\n    var ATTR_KEY = 'undefined' != typeof Symbol ? Symbol.for('preactattr') : '__preactattr_';\n    var NON_DIMENSION_PROPS = {\n        boxFlex: 1,\n        boxFlexGroup: 1,\n        columnCount: 1,\n        fillOpacity: 1,\n        flex: 1,\n        flexGrow: 1,\n        flexPositive: 1,\n        flexShrink: 1,\n        flexNegative: 1,\n        fontWeight: 1,\n        lineClamp: 1,\n        lineHeight: 1,\n        opacity: 1,\n        order: 1,\n        orphans: 1,\n        strokeOpacity: 1,\n        widows: 1,\n        zIndex: 1,\n        zoom: 1\n    };\n    var NON_BUBBLING_EVENTS = {\n        blur: 1,\n        error: 1,\n        focus: 1,\n        load: 1,\n        resize: 1,\n        scroll: 1\n    };\n    var items = [];\n    var nodes = {};\n    var mounts = [];\n    var diffLevel = 0;\n    var isSvgMode = !1;\n    var hydrating = !1;\n    var components = {};\n    extend(Component.prototype, {\n        linkState: function(key, eventPath) {\n            var c = this._linkedStates || (this._linkedStates = {});\n            return c[key + eventPath] || (c[key + eventPath] = createLinkedState(this, key, eventPath));\n        },\n        setState: function(state, callback) {\n            var s = this.state;\n            if (!this.prevState) this.prevState = clone(s);\n            extend(s, isFunction(state) ? state(s, this.props) : state);\n            if (callback) (this._renderCallbacks = this._renderCallbacks || []).push(callback);\n            enqueueRender(this);\n        },\n        forceUpdate: function() {\n            renderComponent(this, 2);\n        },\n        render: function() {}\n    });\n    exports.h = h;\n    exports.cloneElement = cloneElement;\n    exports.Component = Component;\n    exports.render = render;\n    exports.rerender = rerender;\n    exports.options = options;\n});\n//# sourceMappingURL=preact.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/preact/dist/preact.js\n// module id = 0\n// module chunks = 0","\nexport const NEW_NOTE = 'new-note';\nexport const PAGE_REPLY = 'page-reply';\nexport const ITEM_REPLY = 'item-reply';\n\nexport const MESSAGE_SUCCESS = 'success';\nexport const MESSAGE_ERROR = 'error';\n\n\n\n// WEBPACK FOOTER //\n// ./src/constants.js","\n// deprecated\nexport function post (url, payload, body) {\n  console.warn('Using deprecated function: requests.post');\n  var params;\n  if (typeof payload === 'string') {\n    params = payload;\n  } else {\n    params = getParamString(payload);\n  }\n  return fetch(`${url}?${params}`, {\n    method: 'POST',\n    headers: {\n       'Accept': 'application/json, text/plain, */*',\n       'Content-Type': 'application/json'\n   },\n    body: body ? JSON.stringify(body) : null\n  })\n  .then(function (res) {\n    return res.text();\n  });\n}\n\nexport function getParamString (payload) {\n  var params = [];\n  for (var prop in payload) {\n    params.push(`${prop}=${payload[prop]}`);\n  }\n  return params.join('&');\n}\n\n// deprecated\nexport function postMicropub (url, form, token) {\n  console.warn('Using deprecated function: requests.postMicropub');\n  return fetch(url, {\n    method: 'POST',\n    headers: {\n      'Authorization': `Bearer ${token}`,\n    },\n    body: new FormData(form)\n  })\n  .then(function (res) {\n    return res.text();\n  });\n}\n\nexport function postFormData(url, payload, token) {\n  return new Promise(function (resolve, reject) {\n    fetch(url, {\n      method: 'POST',\n      headers: {\n        'Authorization': `Bearer ${token}`,\n      },\n      body: formDataFromObject(payload),\n    })\n    .then(function (res) {\n      if (res.status < 200 || res.status >= 400) {\n        return reject(res.status);\n      }\n      // TODO: get location/url of post & display somehow\n      resolve(res.text());\n    });\n  });\n}\n\nexport function formDataFromObject(obj) {\n  var data = new FormData();\n  for (var fieldName in obj) {\n    if (Array.isArray(obj[fieldName])) {\n      obj[fieldName].forEach((val, k) => {\n        data.append(fieldName, val);\n      });\n    } else {\n      data.append(fieldName, obj[fieldName]);\n    }\n  }\n  return data;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/util/requests.js","import { h, Component } from 'preact';\nimport {MESSAGE_SUCCESS, MESSAGE_ERROR, MESSAGE_INFO} from '../constants';\n\nexport default class Message extends Component {\n  render() {\n    return (\n      <div className={this.getClass()}>{this.props.children}</div>\n    );\n  }\n\n  getClass() {\n    const types = {\n      [MESSAGE_INFO]: 'message message--info',\n      [MESSAGE_SUCCESS]: 'message message--success',\n      [MESSAGE_ERROR]: 'message message--danger',\n    }\n    return types[this.props.type] || types[MESSAGE_INFO];\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Message.js","\nexport function openLink(e) {\n  e.preventDefault();\n  if (e.target.href) {\n    chrome.tabs.create({ url: e.target.href });\n  }\n}\n\nexport function clone(obj) {\n  return JSON.parse(JSON.stringify(obj));\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/util/utils.js","import { h, Component } from 'preact';\nimport LoginForm from './loginForm';\nimport NoteForm from './NoteForm';\nimport Message from './Message';\n\nexport default class App extends Component {\n  constructor(props) {\n    super(props);\n    if (this.isAuthenticated()) {\n      this.setState({\n        currentView: 'new-note'\n      });\n    } else {\n      this.setState({\n        currentView: 'login'\n      });\n    }\n  }\n\n  render() {\n    switch (this.state.currentView) {\n      case 'login':\n        return <LoginForm />;\n      case 'feedback':\n        return <Message>{this.state.message}</Message>;\n      default:\n        return <NoteForm handleLogout={this.handleLogout} userFeedback={this.displayMessage}/>\n    }\n  }\n\n  isAuthenticated() {\n    return !!localStorage.getItem('token');\n  }\n\n  displayMessage = (message) => {\n    this.setState({\n      currentView: 'feedback',\n      message: message,\n    });\n  }\n\n  handleLogout = () => {\n    const items = ['token', 'domain', 'authEndpoint', 'tokenEndpoint', 'micropubEndpoint'];\n    items.map((item) => localStorage.removeItem(item));\n    this.setState({currentView: 'login'});\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/App.js","import { h, Component } from 'preact';\nimport LinkButton from './LinkButton';\nimport {NEW_NOTE, PAGE_REPLY, ITEM_REPLY} from '../constants';\n\n\nexport default class ChangeViewButtons extends Component {\n  render() {\n    const postType = this.props.postType;\n    return (\n      <div className=\"inline-links\">\n        {this.renderNewNote()}\n        {this.renderPageReply()}\n        {this.renderItemReply()}\n      </div>\n    );\n  }\n\n  renderNewNote() {\n    if (this.props.postType === NEW_NOTE) {\n      return (<span>New note</span>);\n    } else {\n      return (\n        <LinkButton onClick={this.switchTo(NEW_NOTE)}>New note</LinkButton>\n      );\n    }\n  }\n\n  renderPageReply() {\n    if (this.props.postType === PAGE_REPLY) {\n      return (<span>Current page</span>);\n    } else {\n      return (\n        <LinkButton onClick={this.switchTo(PAGE_REPLY)}>Current page</LinkButton>\n      );\n    }\n  }\n\n  renderItemReply() {\n    if (!this.props.hasSelectedEntry) {\n      return (<span className=\"disabled\">Selected entry</span>);\n    } else if (this.props.postType === ITEM_REPLY) {\n      return (<span>Selected entry</span>);\n    } else {\n      return (\n        <LinkButton onClick={this.switchTo(ITEM_REPLY)}>Selected entry</LinkButton>\n      );\n    }\n  }\n\n  switchTo(postType) {\n    return () => {\n      this.props.onChange(postType);\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/ChangeViewButtons.js","import { h, Component } from 'preact';\n\n\nexport default class Footer extends Component {\n  render() {\n    return (\n      <footer className=\"footer\">\n        <div>\n          Authenticated to <strong>{this.props.domain}</strong>\n        </div>\n        <button className=\"button-link\" onClick={this.handleClick}>Logout</button>\n      </footer>\n    );\n  }\n\n  handleClick = (e) => {\n    e.preventDefault();\n    this.props.onLogout();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Footer.js","import { h, Component } from 'preact';\nimport {clone} from '../util/utils';\n\n\nexport default class FormInputs extends Component {\n  componentDidMount() {\n    setTimeout(this.focus, 150);\n  }\n\n  render() {\n    return (\n      <form onSubmit={this.onSubmit}>\n        <div>\n          <label for=\"input-content\">Content</label>\n          <textarea\n            id=\"input-content\"\n            value={this.props.entry.content}\n            onKeyup={this.updateField('content')}\n            rows=\"4\"\n            disabled={this.props.isDisabled}\n            ref={(el) => {this.content = el;}}\n          />\n        </div>\n        <div>\n          <label for=\"input-tags\">Tags</label>\n          <input\n            id=\"input-tags\"\n            type=\"text\"\n            placeholder=\"e.g. web, personal\"\n            value={this.props.entry.tags.join(' ')}\n            onChange={this.updateFieldArray('tags')}\n            disabled={this.props.isDisabled}\n          />\n        </div>\n        <div>\n          <label for=\"input-slug\">Slug</label>\n          <input\n            id=\"input-slug\"\n            type=\"text\"\n            name=\"mp-slug\"\n            value={this.props.entry['mp-slug']}\n            onChange={this.updateField('mp-slug')}\n            disabled={this.props.isDisabled}\n          />\n        </div>\n        <button\n          type=\"submit\"\n          disabled={this.props.isDisabled || !this.props.entry.content}\n        >Post</button>\n      </form>\n    );\n  }\n\n  focus = () => {\n    this.content.focus();\n  }\n\n  updateField(fieldName) {\n    return (e) => {\n      e.preventDefault();\n      var entry = clone(this.props.entry);\n      entry[fieldName] = e.target.value;\n      this.props.updateEntry(entry);\n    }\n  }\n\n  updateFieldArray(fieldName) {\n    return (e) => {\n      e.preventDefault();\n      var entry = clone(this.props.entry);\n      entry[fieldName] = e.target.value.trim().split(' ');\n      this.props.updateEntry(entry);\n    }\n  }\n\n  onSubmit = (e) => {\n    e.preventDefault();\n    this.props.onSubmit(this.props.entry);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/FormInputs.js","import { h, Component } from 'preact';\nimport {NEW_NOTE, PAGE_REPLY, ITEM_REPLY} from '../constants';\n\n\nexport default class NoteForm extends Component {\n  render() {\n    return (\n      <header className={this.getClass()}>\n        <div>\n          {this.getMessage()}\n          {\n            this.props.url\n            ? <div class=\"metadata\">{this.props.url}</div>\n            : null\n          }\n        </div>\n        {this.renderQuickActions()}\n      </header>\n    );\n  }\n\n  getClass() {\n    var classNames = {};\n    classNames[NEW_NOTE] = 'header header--new';\n    classNames[PAGE_REPLY] = 'header header--page';\n    classNames[ITEM_REPLY] = 'header header--item';\n    return classNames[this.props.postType];\n  }\n\n  getMessage() {\n    var messages = {};\n    messages[NEW_NOTE] = 'New Note';\n    messages[PAGE_REPLY] = 'Reply to current page';\n    messages[ITEM_REPLY] = 'Reply to selected entry';\n    return messages[this.props.postType];\n  }\n\n  renderQuickActions() {\n    if (!this.props.url) {\n      return null;\n    }\n\n    return (\n      <ul className=\"quick-actions\">\n        <li><button onClick={this.props.onRepost}>repost</button></li>\n        <li><button onClick={this.props.onLike}>like</button></li>\n      </ul>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Header.js","import { h, Component } from 'preact';\n\n\nexport default class LinkButton extends Component {\n  render() {\n    return (\n      <button\n        className=\"button-link\"\n        onClick={this.handleClick}\n      >{this.props.children}</button>\n    );\n  }\n\n  handleClick = (e) => {\n    e.preventDefault();\n    this.props.onClick();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/LinkButton.js","import { h, Component } from 'preact';\nimport Header from './Header';\nimport Message from './Message';\nimport ChangeViewButtons from './ChangeViewButtons';\nimport FormInputs from './FormInputs';\nimport Footer from './Footer';\nimport {postFormData} from '../util/requests';\nimport {NEW_NOTE, PAGE_REPLY, ITEM_REPLY, MESSAGE_SUCCESS, MESSAGE_ERROR} from '../constants';\n\n\nexport default class NoteForm extends Component {\n  constructor(props) {\n    super(props);\n    let entryUrl = null;\n    let postType;\n    const selectedEntry = localStorage.getItem('selectedEntry');\n    if (location.search.indexOf('reply=true') === -1) {\n      postType = NEW_NOTE;\n    } else {\n      if (selectedEntry) {\n        postType = ITEM_REPLY;\n        entryUrl = selectedEntry;\n      } else {\n        postType = PAGE_REPLY;\n        entryUrl = localStorage.getItem('pageUrl');\n      }\n    }\n    this.state = {\n      postType: postType,\n      url: entryUrl,\n      userDomain: localStorage.getItem('domain'),\n      entry: {\n        'h': 'entry',\n        'content': '',\n        'tags': [],\n        'mp-slug': '',\n      },\n      hasSelectedEntry: !!selectedEntry,\n      isDisabled: false,\n    };\n  }\n\n  render() {\n    return (\n      <div>\n        <Header\n          postType={this.state.postType}\n          url={this.state.url}\n          onLike={this.handleLike}\n          onRepost={this.handleRepost}\n        />\n        <div className=\"container\">\n          <div className=\"text-right\">\n            <ChangeViewButtons\n              postType={this.state.postType}\n              onChange={this.changeView}\n              hasSelectedEntry={this.state.hasSelectedEntry}\n            />\n          </div>\n          <FormInputs\n            entry={this.state.entry}\n            updateEntry={this.updateEntry}\n            onSubmit={this.handleSubmit}\n            isDisabled={this.state.isDisabled}\n            ref={(el) => this.form = el}\n          />\n          {\n            this.state.errorMessage\n            ? <Message type={MESSAGE_ERROR}>{this.state.errorMessage}</Message>\n            : null\n          }\n        </div>\n        <Footer domain={this.state.userDomain} onLogout={this.props.handleLogout} />\n      </div>\n    );\n  }\n\n  handleLike = () => {\n    if (!this.state.url) { return; }\n    this.postEntry({\n      'h': 'entry',\n      'like-of': this.state.url,\n    })\n    .then(() => {\n      const type = (this.state.postType === ITEM_REPLY) ? 'Item' : 'Page';\n      this.flashSuccessMessage(`${type} liked successfully`);\n    }).catch((err) => {\n      console.error(err);\n      this.flashErrorMessage('Error posting like');\n    });\n  }\n\n  handleRepost = () => {\n    if (!this.state.url) { return; }\n    this.postEntry({\n      'h': 'entry',\n      'repost-of': this.state.url,\n    })\n    .then(() => {\n      const type = (this.state.postType === ITEM_REPLY) ? 'Item' : 'Page';\n      this.flashSuccessMessage(`${type} reposted successfully`);\n    }).catch((err) => {\n      console.error(err);\n      this.flashErrorMessage('Error reposting');\n    });\n  }\n\n  updateEntry = (newEntry) => {\n    this.setState({entry: newEntry});\n  }\n\n  flashSuccessMessage(message) {\n    this.props.userFeedback(message, MESSAGE_SUCCESS);\n    setTimeout(() => {\n      window.close();\n    }, 4000);\n  }\n\n  flashErrorMessage(message) {\n    this.setState({\n      errorMessage: message,\n      isDisabled: false,\n    });\n    setTimeout(() => {\n      if (this.state.errorMessage === message) {\n        this.setState({errorMessage: false});\n      }\n    }, 4000);\n  }\n\n  handleSubmit = (entry) => {\n    if (this.state.postType !== NEW_NOTE) {\n      entry['in-reply-to'] = this.state.url;\n    }\n    this.postEntry(entry)\n    .then(() => {\n      const type = (this.state.postType === NEW_NOTE) ? 'Note' : 'Reply';\n      this.flashSuccessMessage(`${type} posted successfully`);\n    }).catch((err) => {\n      this.flashErrorMessage('Error posting Note');\n    });\n  }\n\n  postEntry(entry) {\n    const endpoint = localStorage.getItem('micropubEndpoint')\n    const token = localStorage.getItem('token');\n    this.setState({\n      isDisabled: true,\n    });\n    return postFormData(endpoint, entry, token);\n  }\n\n  changeView = (postType) => {\n    let url;\n    switch (postType) {\n      case NEW_NOTE:\n        url = null;\n        break;\n      case PAGE_REPLY:\n        url = localStorage.getItem('pageUrl');\n        break;\n      case ITEM_REPLY:\n        url = localStorage.getItem('selectedEntry');\n        break;\n    }\n    this.setState({url, postType});\n    this.form.focus();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/NoteForm.js","import { h, Component } from 'preact';\nimport Message from './Message';\nimport { openLink } from '../util/utils';\nimport { fetchSiteMetadata } from '../util/parseSite'\n\nexport default class LoginForm extends Component {\n  componentDidMount() {\n    setTimeout(() => {\n      this.input.focus();\n    }, 150);\n  }\n\n  render() {\n    return (\n      <form class=\"container\" method=\"GET\" onSubmit={this.handleSubmit}>\n        <p>To use Omnibear, sign in with your domain. Your website will need to\n        support{' '}\n        <a href=\"http://indieweb.org/micropub\" onClick={openLink}>Micropub</a>\n        {' '}for creating new posts.</p>\n\n        <div class=\"fields-inline\">\n          <input\n            type=\"text\"\n            name=\"me\"\n            placeholder=\"https://example.com\"\n            className=\"fields-inline__fill\"\n            value={this.state.domain}\n            onKeyUp={this.handleChange}\n            ref={(el) => this.input = el}\n          />\n          <button type=\"submit\" disabled={this.state.isLoading}>\n            Sign in\n          </button>\n        </div>\n\n        { this.state.hasErrors ? <Message type=\"error\">{this.state.errorMessage || 'Error'}</Message> : null }\n      </form>\n    );\n  }\n\n  handleChange = (e) => {\n    this.setState({\n      domain: e.target.value,\n      hasErrors: false,\n    });\n  }\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    this.setState({isLoading: true});\n    fetchSiteMetadata(this.state.domain)\n    .then((data) => {\n      if (!data.authEndpoint || !data.tokenEndpoint || !data.micropub) {\n        return this.setState({\n          hasErrors: true,\n          errorMessage: `Missing micropub data on ${this.state.domain}. Please ensure the following links are present: authorization_endpoint, token_endpoint, micropub`,\n          isLoading: false,\n        });\n      }\n      const url = `${data.authEndpoint}?${this.getFields(this.state.domain)}`\n      chrome.runtime.sendMessage({\n        action: 'begin-auth',\n        payload: {\n          authUrl: url,\n          domain: this.state.domain,\n          metadata: data,\n        }\n      });\n    }).catch((err) => {\n      this.setState({\n        hasErrors: true,\n        errorMessage: `Error fetching page: ${this.state.domain}`,\n        isLoading: false,\n      });\n    });\n  }\n\n  getFields(domain) {\n    return ([\n      'redirect_uri=http://omnibear.com/auth/success/',\n      'client_id=http://omnibear.com',\n      'response_type=code',\n      'scope=create',\n      `me=${domain}`\n    ]).join('&');\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/loginForm.js","\nfunction getLinkValue(page, rel) {\n  var link = page.querySelector(`link[rel=\"${rel}\"]`);\n  if (link) {\n    return link.href;\n  } else {\n    return null;\n  }\n}\n\nfunction fetchSiteMetadata(url) {\n  return fetch(url)\n  .then(function (res) {\n    return res.text();\n  }).then(function (content) {\n    var page = document.createElement('html');\n    page.innerHTML = content;\n    return {\n      authEndpoint: getLinkValue(page, 'authorization_endpoint'),\n      tokenEndpoint: getLinkValue(page, 'token_endpoint'),\n      micropub: getLinkValue(page, 'micropub')\n    };\n  });\n}\n\nmodule.exports = {\n  getLinkValue, getLinkValue,\n  fetchSiteMetadata: fetchSiteMetadata\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/util/parseSite.js","import { h, render } from 'preact';\nimport App from './components/App';\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  render(<App/>, document.body);\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js"],"sourceRoot":""}